var uM=Object.defineProperty;var Xv=e=>{throw TypeError(e)};var fM=(e,t,n)=>t in e?uM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var te=(e,t,n)=>fM(e,typeof t!="symbol"?t+"":t,n),kh=(e,t,n)=>t.has(e)||Xv("Cannot "+n);var I=(e,t,n)=>(kh(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?Xv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,s)=>(kh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(kh(e,t,"access private method"),n);var kd=(e,t,n,s)=>({set _(a){ye(e,t,a,n)},get _(){return I(e,t,s)}});function hM(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function gN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vN={exports:{}},bf={},yN={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=Symbol.for("react.element"),mM=Symbol.for("react.portal"),pM=Symbol.for("react.fragment"),xM=Symbol.for("react.strict_mode"),gM=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),yM=Symbol.for("react.context"),jM=Symbol.for("react.forward_ref"),wM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),bM=Symbol.for("react.lazy"),Jv=Symbol.iterator;function SM(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var jN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wN=Object.assign,NN={};function al(e,t,n){this.props=e,this.context=t,this.refs=NN,this.updater=n||jN}al.prototype.isReactComponent={};al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bN(){}bN.prototype=al.prototype;function Ex(e,t,n){this.props=e,this.context=t,this.refs=NN,this.updater=n||jN}var Px=Ex.prototype=new bN;Px.constructor=Ex;wN(Px,al.prototype);Px.isPureReactComponent=!0;var ey=Array.isArray,SN=Object.prototype.hasOwnProperty,Mx={current:null},CN={key:!0,ref:!0,__self:!0,__source:!0};function kN(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)SN.call(t,s)&&!CN.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:ed,type:e,key:i,ref:o,props:a,_owner:Mx.current}}function CM(e,t){return{$$typeof:ed,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===ed}function kM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ty=/\/+/g;function _h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kM(""+e.key):t.toString(36)}function tu(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ed:case mM:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+_h(o,0):s,ey(a)?(n="",e!=null&&(n=e.replace(ty,"$&/")+"/"),tu(a,t,n,"",function(d){return d})):a!=null&&(Tx(a)&&(a=CM(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ty,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",ey(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+_h(i,l);o+=tu(i,t,n,c,a)}else if(c=SM(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+_h(i,l++),o+=tu(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _d(e,t,n){if(e==null)return e;var s=[],a=0;return tu(e,s,"","",function(i){return t.call(n,i,a++)}),s}function _M(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},nu={transition:null},EM={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:nu,ReactCurrentOwner:Mx};function _N(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:_d,forEach:function(e,t,n){_d(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _d(e,function(){t++}),t},toArray:function(e){return _d(e,function(t){return t})||[]},only:function(e){if(!Tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=al;st.Fragment=pM;st.Profiler=gM;st.PureComponent=Ex;st.StrictMode=xM;st.Suspense=wM;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM;st.act=_N;st.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=wN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Mx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)SN.call(t,c)&&!CN.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:ed,type:e.type,key:a,ref:i,props:s,_owner:o}};st.createContext=function(e){return e={$$typeof:yM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vM,_context:e},e.Consumer=e};st.createElement=kN;st.createFactory=function(e){var t=kN.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:jM,render:e}};st.isValidElement=Tx;st.lazy=function(e){return{$$typeof:bM,_payload:{_status:-1,_result:e},_init:_M}};st.memo=function(e,t){return{$$typeof:NM,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=nu.transition;nu.transition={};try{e()}finally{nu.transition=t}};st.unstable_act=_N;st.useCallback=function(e,t){return On.current.useCallback(e,t)};st.useContext=function(e){return On.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return On.current.useDeferredValue(e)};st.useEffect=function(e,t){return On.current.useEffect(e,t)};st.useId=function(){return On.current.useId()};st.useImperativeHandle=function(e,t,n){return On.current.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return On.current.useMemo(e,t)};st.useReducer=function(e,t,n){return On.current.useReducer(e,t,n)};st.useRef=function(e){return On.current.useRef(e)};st.useState=function(e){return On.current.useState(e)};st.useSyncExternalStore=function(e,t,n){return On.current.useSyncExternalStore(e,t,n)};st.useTransition=function(){return On.current.useTransition()};st.version="18.3.1";yN.exports=st;var m=yN.exports;const ge=gN(m),EN=hM({__proto__:null,default:ge},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=m,MM=Symbol.for("react.element"),TM=Symbol.for("react.fragment"),AM=Object.prototype.hasOwnProperty,DM=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IM={key:!0,ref:!0,__self:!0,__source:!0};function PN(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)AM.call(t,s)&&!IM.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:MM,type:e,key:i,ref:o,props:a,_owner:DM.current}}bf.Fragment=TM;bf.jsx=PN;bf.jsxs=PN;vN.exports=bf;var r=vN.exports,MN={exports:{}},xr={},TN={exports:{}},AN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,q){var G=P.length;P.push(q);e:for(;0<G;){var ie=G-1>>>1,V=P[ie];if(0<a(V,q))P[ie]=q,P[G]=V,G=ie;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],G=P.pop();if(G!==q){P[0]=G;e:for(var ie=0,V=P.length,ee=V>>>1;ie<ee;){var Z=2*(ie+1)-1,Fe=P[Z],D=Z+1,X=P[D];if(0>a(Fe,G))D<V&&0>a(X,Fe)?(P[ie]=X,P[D]=G,ie=D):(P[ie]=Fe,P[Z]=G,ie=Z);else if(D<V&&0>a(X,G))P[ie]=X,P[D]=G,ie=D;else break e}}return q}function a(P,q){var G=P.sortIndex-q.sortIndex;return G!==0?G:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,y=!1,j=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var q=n(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=P)s(d),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(d)}}function N(P){if(g=!1,w(P),!j)if(n(c)!==null)j=!0,Y(b);else{var q=n(d);q!==null&&C(N,q.startTime-P)}}function b(P,q){j=!1,g&&(g=!1,x(T),T=-1),y=!0;var G=h;try{for(w(q),f=n(c);f!==null&&(!(f.expirationTime>q)||P&&!B());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var V=ie(f.expirationTime<=q);q=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&s(c),w(q)}else s(c);f=n(c)}if(f!==null)var ee=!0;else{var Z=n(d);Z!==null&&C(N,Z.startTime-q),ee=!1}return ee}finally{f=null,h=G,y=!1}}var _=!1,k=null,T=-1,E=5,M=-1;function B(){return!(e.unstable_now()-M<E)}function Q(){if(k!==null){var P=e.unstable_now();M=P;var q=!0;try{q=k(!0,P)}finally{q?z():(_=!1,k=null)}}else _=!1}var z;if(typeof p=="function")z=function(){p(Q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=Q,z=function(){H.postMessage(null)}}else z=function(){v(Q,0)};function Y(P){k=P,_||(_=!0,z())}function C(P,q){T=v(function(){P(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,Y(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var G=h;h=q;try{return P()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=h;h=P;try{return q()}finally{h=G}},e.unstable_scheduleCallback=function(P,q,G){var ie=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,P={id:u++,callback:q,priorityLevel:P,startTime:G,expirationTime:V,sortIndex:-1},G>ie?(P.sortIndex=G,t(d,P),n(c)===null&&P===n(d)&&(g?(x(T),T=-1):g=!0,C(N,G-ie))):(P.sortIndex=V,t(c,P),j||y||(j=!0,Y(b))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var q=h;return function(){var G=h;h=q;try{return P.apply(this,arguments)}finally{h=G}}}})(AN);TN.exports=AN;var RM=TN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM=m,hr=RM;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DN=new Set,ec={};function Fi(e,t){Vo(e,t),Vo(e+"Capture",t)}function Vo(e,t){for(ec[e]=t,e=0;e<t.length;e++)DN.add(t[e])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,FM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function LM(e){return Am.call(ry,e)?!0:Am.call(ny,e)?!1:FM.test(e)?ry[e]=!0:(ny[e]=!0,!1)}function $M(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zM(e,t,n,s){if(t===null||typeof t>"u"||$M(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ax=/[\-:]([a-z])/g;function Dx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ax,Dx);hn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ax,Dx);hn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ax,Dx);hn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ix(e,t,n,s){var a=hn.hasOwnProperty(t)?hn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zM(t,n,a,s)&&(n=null),s||a===null?LM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Xs=OM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),IN=Symbol.for("react.provider"),RN=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Fx=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),ON=Symbol.for("react.offscreen"),sy=Symbol.iterator;function pl(e){return e===null||typeof e!="object"?null:(e=sy&&e[sy]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,Eh;function Tl(e){if(Eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var Ph=!1;function Mh(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tl(e):""}function VM(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=Mh(e.type,!1),e;case 11:return e=Mh(e.type.render,!1),e;case 1:return e=Mh(e.type,!0),e;default:return""}}function Om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Zi:return"Portal";case Dm:return"Profiler";case Rx:return"StrictMode";case Im:return"Suspense";case Rm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RN:return(e.displayName||"Context")+".Consumer";case IN:return(e._context.displayName||"Context")+".Provider";case Ox:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fx:return t=e.displayName||null,t!==null?t:Om(e.type)||"Memo";case la:t=e._payload,e=e._init;try{return Om(e(t))}catch{}}return null}function UM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(t);case 8:return t===Rx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QM(e){var t=FN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pd(e){e._valueTracker||(e._valueTracker=QM(e))}function LN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=FN(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fm(e,t){var n=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ay(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ra(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $N(e,t){t=t.checked,t!=null&&Ix(e,"checked",t,!1)}function Lm(e,t){$N(e,t);var n=Ra(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$m(e,t.type,n):t.hasOwnProperty("defaultValue")&&$m(e,t.type,Ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $m(e,t,n){(t!=="number"||wu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Al=Array.isArray;function fo(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ra(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Al(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ra(n)}}function zN(e,t){var n=Ra(t.value),s=Ra(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Md,UN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Md=Md||document.createElement("div"),Md.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Md.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qM=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){qM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function QN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function qN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=QN(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var BM=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(e,t){if(t){if(BM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=null;function Lx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,ho=null,mo=null;function cy(e){if(e=rd(e)){if(typeof Bm!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Ef(t),Bm(e.stateNode,e.type,t))}}function BN(e){ho?mo?mo.push(e):mo=[e]:ho=e}function WN(){if(ho){var e=ho,t=mo;if(mo=ho=null,cy(e),t)for(e=0;e<t.length;e++)cy(t[e])}}function HN(e,t){return e(t)}function KN(){}var Th=!1;function GN(e,t,n){if(Th)return e(t,n);Th=!0;try{return HN(e,t,n)}finally{Th=!1,(ho!==null||mo!==null)&&(KN(),WN())}}function nc(e,t){var n=e.stateNode;if(n===null)return null;var s=Ef(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var Wm=!1;if(qs)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Wm=!1}function WM(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Ul=!1,Nu=null,bu=!1,Hm=null,HM={onError:function(e){Ul=!0,Nu=e}};function KM(e,t,n,s,a,i,o,l,c){Ul=!1,Nu=null,WM.apply(HM,arguments)}function GM(e,t,n,s,a,i,o,l,c){if(KM.apply(this,arguments),Ul){if(Ul){var d=Nu;Ul=!1,Nu=null}else throw Error(re(198));bu||(bu=!0,Hm=d)}}function Li(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dy(e){if(Li(e)!==e)throw Error(re(188))}function YM(e){var t=e.alternate;if(!t){if(t=Li(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return dy(a),e;if(i===s)return dy(a),t;i=i.sibling}throw Error(re(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==s)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function ZN(e){return e=YM(e),e!==null?XN(e):null}function XN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XN(e);if(t!==null)return t;e=e.sibling}return null}var JN=hr.unstable_scheduleCallback,uy=hr.unstable_cancelCallback,ZM=hr.unstable_shouldYield,XM=hr.unstable_requestPaint,Wt=hr.unstable_now,JM=hr.unstable_getCurrentPriorityLevel,$x=hr.unstable_ImmediatePriority,eb=hr.unstable_UserBlockingPriority,Su=hr.unstable_NormalPriority,eT=hr.unstable_LowPriority,tb=hr.unstable_IdlePriority,Sf=null,fs=null;function tT(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:sT,nT=Math.log,rT=Math.LN2;function sT(e){return e>>>=0,e===0?32:31-(nT(e)/rT|0)|0}var Td=64,Ad=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cu(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Dl(l):(i&=o,i!==0&&(s=Dl(i)))}else o=n&~a,o!==0?s=Dl(o):i!==0&&(s=Dl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Vr(t),a=1<<n,s|=e[n],t&=~a;return s}function aT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iT(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vr(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=aT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nb(){var e=Td;return Td<<=1,!(Td&4194240)&&(Td=64),e}function Ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function td(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=n}function oT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Vr(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function zx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Vr(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var xt=0;function rb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sb,Vx,ab,ib,ob,Gm=!1,Dd=[],ka=null,_a=null,Ea=null,rc=new Map,sc=new Map,da=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(t.pointerId)}}function gl(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=rd(t),t!==null&&Vx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function cT(e,t,n,s,a){switch(t){case"focusin":return ka=gl(ka,e,t,n,s,a),!0;case"dragenter":return _a=gl(_a,e,t,n,s,a),!0;case"mouseover":return Ea=gl(Ea,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return rc.set(i,gl(rc.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,sc.set(i,gl(sc.get(i)||null,e,t,n,s,a)),!0}return!1}function lb(e){var t=oi(e.target);if(t!==null){var n=Li(t);if(n!==null){if(t=n.tag,t===13){if(t=YN(n),t!==null){e.blockedOn=t,ob(e.priority,function(){ab(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ym(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qm=s,n.target.dispatchEvent(s),qm=null}else return t=rd(n),t!==null&&Vx(t),e.blockedOn=n,!1;t.shift()}return!0}function hy(e,t,n){ru(e)&&n.delete(t)}function dT(){Gm=!1,ka!==null&&ru(ka)&&(ka=null),_a!==null&&ru(_a)&&(_a=null),Ea!==null&&ru(Ea)&&(Ea=null),rc.forEach(hy),sc.forEach(hy)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,Gm||(Gm=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,dT)))}function ac(e){function t(a){return vl(a,e)}if(0<Dd.length){vl(Dd[0],e);for(var n=1;n<Dd.length;n++){var s=Dd[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ka!==null&&vl(ka,e),_a!==null&&vl(_a,e),Ea!==null&&vl(Ea,e),rc.forEach(t),sc.forEach(t),n=0;n<da.length;n++)s=da[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<da.length&&(n=da[0],n.blockedOn===null);)lb(n),n.blockedOn===null&&da.shift()}var po=Xs.ReactCurrentBatchConfig,ku=!0;function uT(e,t,n,s){var a=xt,i=po.transition;po.transition=null;try{xt=1,Ux(e,t,n,s)}finally{xt=a,po.transition=i}}function fT(e,t,n,s){var a=xt,i=po.transition;po.transition=null;try{xt=4,Ux(e,t,n,s)}finally{xt=a,po.transition=i}}function Ux(e,t,n,s){if(ku){var a=Ym(e,t,n,s);if(a===null)Uh(e,t,s,_u,n),fy(e,s);else if(cT(a,e,t,n,s))s.stopPropagation();else if(fy(e,s),t&4&&-1<lT.indexOf(e)){for(;a!==null;){var i=rd(a);if(i!==null&&sb(i),i=Ym(e,t,n,s),i===null&&Uh(e,t,s,_u,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Uh(e,t,s,null,n)}}var _u=null;function Ym(e,t,n,s){if(_u=null,e=Lx(s),e=oi(e),e!==null)if(t=Li(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _u=e,null}function cb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JM()){case $x:return 1;case eb:return 4;case Su:case eT:return 16;case tb:return 536870912;default:return 16}default:return 16}}var ba=null,Qx=null,su=null;function db(){if(su)return su;var e,t=Qx,n=t.length,s,a="value"in ba?ba.value:ba.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return su=a.slice(e,1<s?1-s:void 0)}function au(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Id(){return!0}function my(){return!1}function gr(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Id:my,this.isPropagationStopped=my,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),t}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=gr(il),nd=Ft({},il,{view:0,detail:0}),hT=gr(nd),Dh,Ih,yl,Cf=Ft({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(Dh=e.screenX-yl.screenX,Ih=e.screenY-yl.screenY):Ih=Dh=0,yl=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:Ih}}),py=gr(Cf),mT=Ft({},Cf,{dataTransfer:0}),pT=gr(mT),xT=Ft({},nd,{relatedTarget:0}),Rh=gr(xT),gT=Ft({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=gr(gT),yT=Ft({},il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jT=gr(yT),wT=Ft({},il,{data:0}),xy=gr(wT),NT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ST[e])?!!t[e]:!1}function Bx(){return CT}var kT=Ft({},nd,{key:function(e){if(e.key){var t=NT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=au(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bx,charCode:function(e){return e.type==="keypress"?au(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?au(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_T=gr(kT),ET=Ft({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=gr(ET),PT=Ft({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bx}),MT=gr(PT),TT=Ft({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=gr(TT),DT=Ft({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IT=gr(DT),RT=[9,13,27,32],Wx=qs&&"CompositionEvent"in window,Ql=null;qs&&"documentMode"in document&&(Ql=document.documentMode);var OT=qs&&"TextEvent"in window&&!Ql,ub=qs&&(!Wx||Ql&&8<Ql&&11>=Ql),vy=" ",yy=!1;function fb(e,t){switch(e){case"keyup":return RT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function FT(e,t){switch(e){case"compositionend":return hb(t);case"keypress":return t.which!==32?null:(yy=!0,vy);case"textInput":return e=t.data,e===vy&&yy?null:e;default:return null}}function LT(e,t){if(Ji)return e==="compositionend"||!Wx&&fb(e,t)?(e=db(),su=Qx=ba=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ub&&t.locale!=="ko"?null:t.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$T[e.type]:t==="textarea"}function mb(e,t,n,s){BN(s),t=Eu(t,"onChange"),0<t.length&&(n=new qx("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ql=null,ic=null;function zT(e){Cb(e,0)}function kf(e){var t=no(e);if(LN(t))return e}function VT(e,t){if(e==="change")return t}var pb=!1;if(qs){var Oh;if(qs){var Fh="oninput"in document;if(!Fh){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Fh=typeof wy.oninput=="function"}Oh=Fh}else Oh=!1;pb=Oh&&(!document.documentMode||9<document.documentMode)}function Ny(){ql&&(ql.detachEvent("onpropertychange",xb),ic=ql=null)}function xb(e){if(e.propertyName==="value"&&kf(ic)){var t=[];mb(t,ic,e,Lx(e)),GN(zT,t)}}function UT(e,t,n){e==="focusin"?(Ny(),ql=t,ic=n,ql.attachEvent("onpropertychange",xb)):e==="focusout"&&Ny()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(ic)}function qT(e,t){if(e==="click")return kf(t)}function BT(e,t){if(e==="input"||e==="change")return kf(t)}function WT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:WT;function oc(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Am.call(t,a)||!qr(e[a],t[a]))return!1}return!0}function by(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sy(e,t){var n=by(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=by(n)}}function gb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vb(){for(var e=window,t=wu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wu(e.document)}return t}function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HT(e){var t=vb(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gb(n.ownerDocument.documentElement,n)){if(s!==null&&Hx(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Sy(n,i);var o=Sy(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KT=qs&&"documentMode"in document&&11>=document.documentMode,eo=null,Zm=null,Bl=null,Xm=!1;function Cy(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||eo==null||eo!==wu(s)||(s=eo,"selectionStart"in s&&Hx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Bl&&oc(Bl,s)||(Bl=s,s=Eu(Zm,"onSelect"),0<s.length&&(t=new qx("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=eo)))}function Rd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var to={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Lh={},yb={};qs&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function _f(e){if(Lh[e])return Lh[e];if(!to[e])return e;var t=to[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yb)return Lh[e]=t[n];return e}var jb=_f("animationend"),wb=_f("animationiteration"),Nb=_f("animationstart"),bb=_f("transitionend"),Sb=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(e,t){Sb.set(e,t),Fi(t,[e])}for(var $h=0;$h<ky.length;$h++){var zh=ky[$h],GT=zh.toLowerCase(),YT=zh[0].toUpperCase()+zh.slice(1);Ka(GT,"on"+YT)}Ka(jb,"onAnimationEnd");Ka(wb,"onAnimationIteration");Ka(Nb,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(bb,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function _y(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,GM(s,t,void 0,e),e.currentTarget=null}function Cb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;_y(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;_y(a,l,d),i=c}}}if(bu)throw e=Hm,bu=!1,Hm=null,e}function Ct(e,t){var n=t[rp];n===void 0&&(n=t[rp]=new Set);var s=e+"__bubble";n.has(s)||(kb(t,e,2,!1),n.add(s))}function Vh(e,t,n){var s=0;t&&(s|=4),kb(n,e,s,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[Od]){e[Od]=!0,DN.forEach(function(n){n!=="selectionchange"&&(ZT.has(n)||Vh(n,!1,e),Vh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,Vh("selectionchange",!1,t))}}function kb(e,t,n,s){switch(cb(t)){case 1:var a=uT;break;case 4:a=fT;break;default:a=Ux}n=a.bind(null,t,n,e),a=void 0,!Wm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uh(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}GN(function(){var d=i,u=Lx(n),f=[];e:{var h=Sb.get(e);if(h!==void 0){var y=qx,j=e;switch(e){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":y=_T;break;case"focusin":j="focus",y=Rh;break;case"focusout":j="blur",y=Rh;break;case"beforeblur":case"afterblur":y=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=pT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=MT;break;case jb:case wb:case Nb:y=vT;break;case bb:y=AT;break;case"scroll":y=hT;break;case"wheel":y=IT;break;case"copy":case"cut":case"paste":y=jT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gy}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var p=d,w;p!==null;){w=p;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=nc(p,x),N!=null&&g.push(cc(p,N,w)))),v)break;p=p.return}0<g.length&&(h=new y(h,j,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==qm&&(j=n.relatedTarget||n.fromElement)&&(oi(j)||j[Bs]))break e;if((y||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=d,j=j?oi(j):null,j!==null&&(v=Li(j),j!==v||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=d),y!==j)){if(g=py,N="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=gy,N="onPointerLeave",x="onPointerEnter",p="pointer"),v=y==null?h:no(y),w=j==null?h:no(j),h=new g(N,p+"leave",y,n,u),h.target=v,h.relatedTarget=w,N=null,oi(u)===d&&(g=new g(x,p+"enter",j,n,u),g.target=w,g.relatedTarget=v,N=g),v=N,y&&j)t:{for(g=y,x=j,p=0,w=g;w;w=Qi(w))p++;for(w=0,N=x;N;N=Qi(N))w++;for(;0<p-w;)g=Qi(g),p--;for(;0<w-p;)x=Qi(x),w--;for(;p--;){if(g===x||x!==null&&g===x.alternate)break t;g=Qi(g),x=Qi(x)}g=null}else g=null;y!==null&&Ey(f,h,y,g,!1),j!==null&&v!==null&&Ey(f,v,j,g,!0)}}e:{if(h=d?no(d):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var b=VT;else if(jy(h))if(pb)b=BT;else{b=QT;var _=UT}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=qT);if(b&&(b=b(e,d))){mb(f,b,n,u);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&$m(h,"number",h.value)}switch(_=d?no(d):window,e){case"focusin":(jy(_)||_.contentEditable==="true")&&(eo=_,Zm=d,Bl=null);break;case"focusout":Bl=Zm=eo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Cy(f,n,u);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":Cy(f,n,u)}var k;if(Wx)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ji?fb(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ub&&n.locale!=="ko"&&(Ji||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ji&&(k=db()):(ba=u,Qx="value"in ba?ba.value:ba.textContent,Ji=!0)),_=Eu(d,T),0<_.length&&(T=new xy(T,e,null,n,u),f.push({event:T,listeners:_}),k?T.data=k:(k=hb(n),k!==null&&(T.data=k)))),(k=OT?FT(e,n):LT(e,n))&&(d=Eu(d,"onBeforeInput"),0<d.length&&(u=new xy("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=k))}Cb(f,t)})}function cc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eu(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=nc(e,n),i!=null&&s.unshift(cc(e,i,a)),i=nc(e,t),i!=null&&s.push(cc(e,i,a))),e=e.return}return s}function Qi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ey(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=nc(n,i),c!=null&&o.unshift(cc(n,c,l))):a||(c=nc(n,i),c!=null&&o.push(cc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function Py(e){return(typeof e=="string"?e:""+e).replace(XT,`
`).replace(JT,"")}function Fd(e,t,n){if(t=Py(t),Py(e)!==t&&n)throw Error(re(425))}function Pu(){}var Jm=null,ep=null;function tp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,t4=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(e){return My.resolve(null).then(e).catch(n4)}:np;function n4(e){setTimeout(function(){throw e})}function Qh(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),ac(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);ac(t)}function Pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ty(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ol=Math.random().toString(36).slice(2),os="__reactFiber$"+ol,dc="__reactProps$"+ol,Bs="__reactContainer$"+ol,rp="__reactEvents$"+ol,r4="__reactListeners$"+ol,s4="__reactHandles$"+ol;function oi(e){var t=e[os];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bs]||n[os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ty(e);e!==null;){if(n=e[os])return n;e=Ty(e)}return t}e=n,n=e.parentNode}return null}function rd(e){return e=e[os]||e[Bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Ef(e){return e[dc]||null}var sp=[],ro=-1;function Ga(e){return{current:e}}function _t(e){0>ro||(e.current=sp[ro],sp[ro]=null,ro--)}function Nt(e,t){ro++,sp[ro]=e.current,e.current=t}var Oa={},Cn=Ga(Oa),Gn=Ga(!1),Ni=Oa;function Uo(e,t){var n=e.type.contextTypes;if(!n)return Oa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yn(e){return e=e.childContextTypes,e!=null}function Mu(){_t(Gn),_t(Cn)}function Ay(e,t,n){if(Cn.current!==Oa)throw Error(re(168));Nt(Cn,t),Nt(Gn,n)}function _b(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(re(108,UM(e)||"Unknown",a));return Ft({},n,s)}function Tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Ni=Cn.current,Nt(Cn,e),Nt(Gn,Gn.current),!0}function Dy(e,t,n){var s=e.stateNode;if(!s)throw Error(re(169));n?(e=_b(e,t,Ni),s.__reactInternalMemoizedMergedChildContext=e,_t(Gn),_t(Cn),Nt(Cn,e)):_t(Gn),Nt(Gn,n)}var Is=null,Pf=!1,qh=!1;function Eb(e){Is===null?Is=[e]:Is.push(e)}function a4(e){Pf=!0,Eb(e)}function Ya(){if(!qh&&Is!==null){qh=!0;var e=0,t=xt;try{var n=Is;for(xt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Is=null,Pf=!1}catch(a){throw Is!==null&&(Is=Is.slice(e+1)),JN($x,Ya),a}finally{xt=t,qh=!1}}return null}var so=[],ao=0,Au=null,Du=0,br=[],Sr=0,bi=null,Os=1,Fs="";function ri(e,t){so[ao++]=Du,so[ao++]=Au,Au=e,Du=t}function Pb(e,t,n){br[Sr++]=Os,br[Sr++]=Fs,br[Sr++]=bi,bi=e;var s=Os;e=Fs;var a=32-Vr(s)-1;s&=~(1<<a),n+=1;var i=32-Vr(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Os=1<<32-Vr(t)+a|n<<a|s,Fs=i+e}else Os=1<<i|n<<a|s,Fs=e}function Kx(e){e.return!==null&&(ri(e,1),Pb(e,1,0))}function Gx(e){for(;e===Au;)Au=so[--ao],so[ao]=null,Du=so[--ao],so[ao]=null;for(;e===bi;)bi=br[--Sr],br[Sr]=null,Fs=br[--Sr],br[Sr]=null,Os=br[--Sr],br[Sr]=null}var or=null,ir=null,Et=!1,Fr=null;function Mb(e,t){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Iy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ir=Pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bi!==null?{id:Os,overflow:Fs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,or=e,ir=null,!0):!1;default:return!1}}function ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ip(e){if(Et){var t=ir;if(t){var n=t;if(!Iy(e,t)){if(ap(e))throw Error(re(418));t=Pa(n.nextSibling);var s=or;t&&Iy(e,t)?Mb(s,n):(e.flags=e.flags&-4097|2,Et=!1,or=e)}}else{if(ap(e))throw Error(re(418));e.flags=e.flags&-4097|2,Et=!1,or=e}}}function Ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Ld(e){if(e!==or)return!1;if(!Et)return Ry(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tp(e.type,e.memoizedProps)),t&&(t=ir)){if(ap(e))throw Tb(),Error(re(418));for(;t;)Mb(e,t),t=Pa(t.nextSibling)}if(Ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ir=Pa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=or?Pa(e.stateNode.nextSibling):null;return!0}function Tb(){for(var e=ir;e;)e=Pa(e.nextSibling)}function Qo(){ir=or=null,Et=!1}function Yx(e){Fr===null?Fr=[e]:Fr.push(e)}var i4=Xs.ReactCurrentBatchConfig;function jl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var s=n.stateNode}if(!s)throw Error(re(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function $d(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oy(e){var t=e._init;return t(e._payload)}function Ab(e){function t(x,p){if(e){var w=x.deletions;w===null?(x.deletions=[p],x.flags|=16):w.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=Da(x,p),x.index=0,x.sibling=null,x}function i(x,p,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<p?(x.flags|=2,p):w):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,w,N){return p===null||p.tag!==6?(p=Zh(w,x.mode,N),p.return=x,p):(p=a(p,w),p.return=x,p)}function c(x,p,w,N){var b=w.type;return b===Xi?u(x,p,w.props.children,N,w.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===la&&Oy(b)===p.type)?(N=a(p,w.props),N.ref=jl(x,p,w),N.return=x,N):(N=fu(w.type,w.key,w.props,null,x.mode,N),N.ref=jl(x,p,w),N.return=x,N)}function d(x,p,w,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Xh(w,x.mode,N),p.return=x,p):(p=a(p,w.children||[]),p.return=x,p)}function u(x,p,w,N,b){return p===null||p.tag!==7?(p=yi(w,x.mode,N,b),p.return=x,p):(p=a(p,w),p.return=x,p)}function f(x,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Zh(""+p,x.mode,w),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ed:return w=fu(p.type,p.key,p.props,null,x.mode,w),w.ref=jl(x,null,p),w.return=x,w;case Zi:return p=Xh(p,x.mode,w),p.return=x,p;case la:var N=p._init;return f(x,N(p._payload),w)}if(Al(p)||pl(p))return p=yi(p,x.mode,w,null),p.return=x,p;$d(x,p)}return null}function h(x,p,w,N){var b=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:l(x,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ed:return w.key===b?c(x,p,w,N):null;case Zi:return w.key===b?d(x,p,w,N):null;case la:return b=w._init,h(x,p,b(w._payload),N)}if(Al(w)||pl(w))return b!==null?null:u(x,p,w,N,null);$d(x,w)}return null}function y(x,p,w,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(p,x,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ed:return x=x.get(N.key===null?w:N.key)||null,c(p,x,N,b);case Zi:return x=x.get(N.key===null?w:N.key)||null,d(p,x,N,b);case la:var _=N._init;return y(x,p,w,_(N._payload),b)}if(Al(N)||pl(N))return x=x.get(w)||null,u(p,x,N,b,null);$d(p,N)}return null}function j(x,p,w,N){for(var b=null,_=null,k=p,T=p=0,E=null;k!==null&&T<w.length;T++){k.index>T?(E=k,k=null):E=k.sibling;var M=h(x,k,w[T],N);if(M===null){k===null&&(k=E);break}e&&k&&M.alternate===null&&t(x,k),p=i(M,p,T),_===null?b=M:_.sibling=M,_=M,k=E}if(T===w.length)return n(x,k),Et&&ri(x,T),b;if(k===null){for(;T<w.length;T++)k=f(x,w[T],N),k!==null&&(p=i(k,p,T),_===null?b=k:_.sibling=k,_=k);return Et&&ri(x,T),b}for(k=s(x,k);T<w.length;T++)E=y(k,x,T,w[T],N),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?T:E.key),p=i(E,p,T),_===null?b=E:_.sibling=E,_=E);return e&&k.forEach(function(B){return t(x,B)}),Et&&ri(x,T),b}function g(x,p,w,N){var b=pl(w);if(typeof b!="function")throw Error(re(150));if(w=b.call(w),w==null)throw Error(re(151));for(var _=b=null,k=p,T=p=0,E=null,M=w.next();k!==null&&!M.done;T++,M=w.next()){k.index>T?(E=k,k=null):E=k.sibling;var B=h(x,k,M.value,N);if(B===null){k===null&&(k=E);break}e&&k&&B.alternate===null&&t(x,k),p=i(B,p,T),_===null?b=B:_.sibling=B,_=B,k=E}if(M.done)return n(x,k),Et&&ri(x,T),b;if(k===null){for(;!M.done;T++,M=w.next())M=f(x,M.value,N),M!==null&&(p=i(M,p,T),_===null?b=M:_.sibling=M,_=M);return Et&&ri(x,T),b}for(k=s(x,k);!M.done;T++,M=w.next())M=y(k,x,T,M.value,N),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),p=i(M,p,T),_===null?b=M:_.sibling=M,_=M);return e&&k.forEach(function(Q){return t(x,Q)}),Et&&ri(x,T),b}function v(x,p,w,N){if(typeof w=="object"&&w!==null&&w.type===Xi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ed:e:{for(var b=w.key,_=p;_!==null;){if(_.key===b){if(b=w.type,b===Xi){if(_.tag===7){n(x,_.sibling),p=a(_,w.props.children),p.return=x,x=p;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===la&&Oy(b)===_.type){n(x,_.sibling),p=a(_,w.props),p.ref=jl(x,_,w),p.return=x,x=p;break e}n(x,_);break}else t(x,_);_=_.sibling}w.type===Xi?(p=yi(w.props.children,x.mode,N,w.key),p.return=x,x=p):(N=fu(w.type,w.key,w.props,null,x.mode,N),N.ref=jl(x,p,w),N.return=x,x=N)}return o(x);case Zi:e:{for(_=w.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(x,p.sibling),p=a(p,w.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=Xh(w,x.mode,N),p.return=x,x=p}return o(x);case la:return _=w._init,v(x,p,_(w._payload),N)}if(Al(w))return j(x,p,w,N);if(pl(w))return g(x,p,w,N);$d(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(x,p.sibling),p=a(p,w),p.return=x,x=p):(n(x,p),p=Zh(w,x.mode,N),p.return=x,x=p),o(x)):n(x,p)}return v}var qo=Ab(!0),Db=Ab(!1),Iu=Ga(null),Ru=null,io=null,Zx=null;function Xx(){Zx=io=Ru=null}function Jx(e){var t=Iu.current;_t(Iu),e._currentValue=t}function op(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){Ru=e,Zx=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wn=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(Zx!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Ru===null)throw Error(re(308));io=e,Ru.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var li=null;function eg(e){li===null?li=[e]:li.push(e)}function Ib(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,eg(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ws(e,s)}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ca=!1;function tg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,lt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Ws(e,n)}return a=s.interleaved,a===null?(t.next=t,eg(s)):(t.next=a.next,a.next=t),s.interleaved=t,Ws(e,n)}function iu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,zx(e,n)}}function Fy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ou(e,t,n,s){var a=e.updateQueue;ca=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,y=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,g=l;switch(h=t,y=n,g.tag){case 1:if(j=g.payload,typeof j=="function"){f=j.call(y,f,h);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,h=typeof j=="function"?j.call(y,f,h):j,h==null)break e;f=Ft({},f,h);break e;case 2:ca=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=f):u=u.next=y,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ci|=o,e.lanes=o,e.memoizedState=f}}function Ly(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(re(191,a));a.call(s)}}}var sd={},hs=Ga(sd),uc=Ga(sd),fc=Ga(sd);function ci(e){if(e===sd)throw Error(re(174));return e}function ng(e,t){switch(Nt(fc,t),Nt(uc,e),Nt(hs,sd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vm(t,e)}_t(hs),Nt(hs,t)}function Bo(){_t(hs),_t(uc),_t(fc)}function Ob(e){ci(fc.current);var t=ci(hs.current),n=Vm(t,e.type);t!==n&&(Nt(uc,e),Nt(hs,n))}function rg(e){uc.current===e&&(_t(hs),_t(uc))}var It=Ga(0);function Fu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bh=[];function sg(){for(var e=0;e<Bh.length;e++)Bh[e]._workInProgressVersionPrimary=null;Bh.length=0}var ou=Xs.ReactCurrentDispatcher,Wh=Xs.ReactCurrentBatchConfig,Si=0,Rt=null,Jt=null,ln=null,Lu=!1,Wl=!1,hc=0,o4=0;function yn(){throw Error(re(321))}function ag(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function ig(e,t,n,s,a,i){if(Si=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?u4:f4,e=n(s,a),Wl){i=0;do{if(Wl=!1,hc=0,25<=i)throw Error(re(301));i+=1,ln=Jt=null,t.updateQueue=null,ou.current=h4,e=n(s,a)}while(Wl)}if(ou.current=$u,t=Jt!==null&&Jt.next!==null,Si=0,ln=Jt=Rt=null,Lu=!1,t)throw Error(re(300));return e}function og(){var e=hc!==0;return hc=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Rt.memoizedState=ln=e:ln=ln.next=e,ln}function Mr(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var t=ln===null?Rt.memoizedState:ln.next;if(t!==null)ln=t,Jt=e;else{if(e===null)throw Error(re(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Rt.memoizedState=ln=e:ln=ln.next=e}return ln}function mc(e,t){return typeof t=="function"?t(e):t}function Hh(e){var t=Mr(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=Jt,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Si&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Rt.lanes|=u,Ci|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,qr(s,t.memoizedState)||(Wn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Rt.lanes|=i,Ci|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kh(e){var t=Mr(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);qr(i,t.memoizedState)||(Wn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Fb(){}function Lb(e,t){var n=Rt,s=Mr(),a=t(),i=!qr(s.memoizedState,a);if(i&&(s.memoizedState=a,Wn=!0),s=s.queue,lg(Vb.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||ln!==null&&ln.memoizedState.tag&1){if(n.flags|=2048,pc(9,zb.bind(null,n,s,a,t),void 0,null),cn===null)throw Error(re(349));Si&30||$b(n,t,a)}return a}function $b(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zb(e,t,n,s){t.value=n,t.getSnapshot=s,Ub(t)&&Qb(e)}function Vb(e,t,n){return n(function(){Ub(t)&&Qb(e)})}function Ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qr(e,n)}catch{return!0}}function Qb(e){var t=Ws(e,1);t!==null&&Ur(t,e,1,-1)}function $y(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:e},t.queue=e,e=e.dispatch=d4.bind(null,Rt,e),[t.memoizedState,e]}function pc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qb(){return Mr().memoizedState}function lu(e,t,n,s){var a=es();Rt.flags|=e,a.memoizedState=pc(1|t,n,void 0,s===void 0?null:s)}function Mf(e,t,n,s){var a=Mr();s=s===void 0?null:s;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,s!==null&&ag(s,o.deps)){a.memoizedState=pc(t,n,i,s);return}}Rt.flags|=e,a.memoizedState=pc(1|t,n,i,s)}function zy(e,t){return lu(8390656,8,e,t)}function lg(e,t){return Mf(2048,8,e,t)}function Bb(e,t){return Mf(4,2,e,t)}function Wb(e,t){return Mf(4,4,e,t)}function Hb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kb(e,t,n){return n=n!=null?n.concat([e]):null,Mf(4,4,Hb.bind(null,t,e),n)}function cg(){}function Gb(e,t){var n=Mr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ag(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Yb(e,t){var n=Mr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ag(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Zb(e,t,n){return Si&21?(qr(n,t)||(n=nb(),Rt.lanes|=n,Ci|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wn=!0),e.memoizedState=n)}function l4(e,t){var n=xt;xt=n!==0&&4>n?n:4,e(!0);var s=Wh.transition;Wh.transition={};try{e(!1),t()}finally{xt=n,Wh.transition=s}}function Xb(){return Mr().memoizedState}function c4(e,t,n){var s=Aa(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Jb(e))e1(t,n);else if(n=Ib(e,t,n,s),n!==null){var a=In();Ur(n,e,s,a),t1(n,t,s)}}function d4(e,t,n){var s=Aa(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jb(e))e1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,qr(l,o)){var c=t.interleaved;c===null?(a.next=a,eg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Ib(e,t,a,s),n!==null&&(a=In(),Ur(n,e,s,a),t1(n,t,s))}}function Jb(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function e1(e,t){Wl=Lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t1(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,zx(e,n)}}var $u={readContext:Pr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},u4={readContext:Pr,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:zy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lu(4194308,4,Hb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return lu(4,2,e,t)},useMemo:function(e,t){var n=es();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=es();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=c4.bind(null,Rt,e),[s.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:$y,useDebugValue:cg,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=$y(!1),t=e[0];return e=l4.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Rt,a=es();if(Et){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),cn===null)throw Error(re(349));Si&30||$b(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,zy(Vb.bind(null,s,i,e),[e]),s.flags|=2048,pc(9,zb.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=es(),t=cn.identifierPrefix;if(Et){var n=Fs,s=Os;n=(s&~(1<<32-Vr(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=hc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f4={readContext:Pr,useCallback:Gb,useContext:Pr,useEffect:lg,useImperativeHandle:Kb,useInsertionEffect:Bb,useLayoutEffect:Wb,useMemo:Yb,useReducer:Hh,useRef:qb,useState:function(){return Hh(mc)},useDebugValue:cg,useDeferredValue:function(e){var t=Mr();return Zb(t,Jt.memoizedState,e)},useTransition:function(){var e=Hh(mc)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:Fb,useSyncExternalStore:Lb,useId:Xb,unstable_isNewReconciler:!1},h4={readContext:Pr,useCallback:Gb,useContext:Pr,useEffect:lg,useImperativeHandle:Kb,useInsertionEffect:Bb,useLayoutEffect:Wb,useMemo:Yb,useReducer:Kh,useRef:qb,useState:function(){return Kh(mc)},useDebugValue:cg,useDeferredValue:function(e){var t=Mr();return Jt===null?t.memoizedState=e:Zb(t,Jt.memoizedState,e)},useTransition:function(){var e=Kh(mc)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:Fb,useSyncExternalStore:Lb,useId:Xb,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lp(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tf={isMounted:function(e){return(e=e._reactInternals)?Li(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=In(),a=Aa(e),i=zs(s,a);i.payload=t,n!=null&&(i.callback=n),t=Ma(e,i,a),t!==null&&(Ur(t,e,a,s),iu(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=In(),a=Aa(e),i=zs(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ma(e,i,a),t!==null&&(Ur(t,e,a,s),iu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),s=Aa(e),a=zs(n,s);a.tag=2,t!=null&&(a.callback=t),t=Ma(e,a,s),t!==null&&(Ur(t,e,s,n),iu(t,e,s))}};function Vy(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!oc(n,s)||!oc(a,i):!0}function n1(e,t,n){var s=!1,a=Oa,i=t.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(a=Yn(t)?Ni:Cn.current,s=t.contextTypes,i=(s=s!=null)?Uo(e,a):Oa),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Tf.enqueueReplaceState(t,t.state,null)}function cp(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},tg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Pr(i):(i=Yn(t)?Ni:Cn.current,a.context=Uo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lp(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Tf.enqueueReplaceState(a,a.state,null),Ou(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var n="",s=t;do n+=VM(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function r1(e,t,n){n=zs(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Vu||(Vu=!0,jp=s),dp(e,t)},n}function s1(e,t,n){n=zs(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){dp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dp(e,t),typeof s!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qy(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new m4;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=E4.bind(null,e,t,n),t.then(e,e))}function qy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function By(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zs(-1,1),t.tag=2,Ma(n,t,1))),n.lanes|=1),e)}var p4=Xs.ReactCurrentOwner,Wn=!1;function Tn(e,t,n,s){t.child=e===null?Db(t,null,n,s):qo(t,e.child,n,s)}function Wy(e,t,n,s,a){n=n.render;var i=t.ref;return xo(t,a),s=ig(e,t,n,s,i,a),n=og(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a)):(Et&&n&&Kx(t),t.flags|=1,Tn(e,t,s,a),t.child)}function Hy(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!gg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,a1(e,t,i,s,a)):(e=fu(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oc,n(o,s)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,e=Da(i,s),e.ref=t.ref,e.return=t,t.child=e}function a1(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(oc(i,s)&&e.ref===t.ref)if(Wn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Wn=!0);else return t.lanes=e.lanes,Hs(e,t,a)}return up(e,t,n,s,a)}function i1(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(lo,rr),rr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(lo,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Nt(lo,rr),rr|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Nt(lo,rr),rr|=s;return Tn(e,t,a,n),t.child}function o1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function up(e,t,n,s,a){var i=Yn(n)?Ni:Cn.current;return i=Uo(t,i),xo(t,a),n=ig(e,t,n,s,i,a),s=og(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a)):(Et&&s&&Kx(t),t.flags|=1,Tn(e,t,n,a),t.child)}function Ky(e,t,n,s,a){if(Yn(n)){var i=!0;Tu(t)}else i=!1;if(xo(t,a),t.stateNode===null)cu(e,t),n1(t,n,s),cp(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Pr(d):(d=Yn(n)?Ni:Cn.current,d=Uo(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Uy(t,o,s,d),ca=!1;var h=t.memoizedState;o.state=h,Ou(t,s,o,a),c=t.memoizedState,l!==s||h!==c||Gn.current||ca?(typeof u=="function"&&(lp(t,n,u,s),c=t.memoizedState),(l=ca||Vy(t,n,l,s,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Rb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ir(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=Yn(n)?Ni:Cn.current,c=Uo(t,c));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Uy(t,o,s,c),ca=!1,h=t.memoizedState,o.state=h,Ou(t,s,o,a);var j=t.memoizedState;l!==f||h!==j||Gn.current||ca?(typeof y=="function"&&(lp(t,n,y,s),j=t.memoizedState),(d=ca||Vy(t,n,d,s,h,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return fp(e,t,n,s,i,a)}function fp(e,t,n,s,a,i){o1(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Dy(t,n,!1),Hs(e,t,i);s=t.stateNode,p4.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=qo(t,e.child,null,i),t.child=qo(t,null,l,i)):Tn(e,t,l,i),t.memoizedState=s.state,a&&Dy(t,n,!0),t.child}function l1(e){var t=e.stateNode;t.pendingContext?Ay(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ay(e,t.context,!1),ng(e,t.containerInfo)}function Gy(e,t,n,s,a){return Qo(),Yx(a),t.flags|=256,Tn(e,t,n,s),t.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function c1(e,t,n){var s=t.pendingProps,a=It.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nt(It,a&1),e===null)return ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=If(o,s,0,null),e=yi(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mp(n),t.memoizedState=hp,e):dg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return x4(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Da(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Da(l,i):(i=yi(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?mp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=hp,s}return i=e.child,e=i.sibling,s=Da(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function dg(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zd(e,t,n,s){return s!==null&&Yx(s),qo(t,e.child,null,n),e=dg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x4(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Gh(Error(re(422))),zd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=If({mode:"visible",children:s.children},a,0,null),i=yi(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&qo(t,e.child,null,o),t.child.memoizedState=mp(o),t.memoizedState=hp,i);if(!(t.mode&1))return zd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(re(419)),s=Gh(i,s,void 0),zd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Wn||l){if(s=cn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ws(e,a),Ur(s,e,a,-1))}return xg(),s=Gh(Error(re(421))),zd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=P4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ir=Pa(a.nextSibling),or=t,Et=!0,Fr=null,e!==null&&(br[Sr++]=Os,br[Sr++]=Fs,br[Sr++]=bi,Os=e.id,Fs=e.overflow,bi=t),t=dg(t,s.children),t.flags|=4096,t)}function Yy(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),op(e.return,t,n)}function Yh(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function d1(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Tn(e,t,s.children,n),s=It.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yy(e,n,t);else if(e.tag===19)Yy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Nt(It,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Fu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yh(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Fu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yh(t,!0,n,null,i);break;case"together":Yh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ci|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Da(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Da(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g4(e,t,n){switch(t.tag){case 3:l1(t),Qo();break;case 5:Ob(t);break;case 1:Yn(t.type)&&Tu(t);break;case 4:ng(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Nt(Iu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Nt(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?c1(e,t,n):(Nt(It,It.current&1),e=Hs(e,t,n),e!==null?e.sibling:null);Nt(It,It.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return d1(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(It,It.current),s)break;return null;case 22:case 23:return t.lanes=0,i1(e,t,n)}return Hs(e,t,n)}var u1,pp,f1,h1;u1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};f1=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ci(hs.current);var i=null;switch(n){case"input":a=Fm(e,a),s=Fm(e,s),i=[];break;case"select":a=Ft({},a,{value:void 0}),s=Ft({},s,{value:void 0}),i=[];break;case"textarea":a=zm(e,a),s=zm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Pu)}Um(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ec.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ec.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ct("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};h1=function(e,t,n,s){n!==s&&(t.flags|=4)};function wl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function v4(e,t,n){var s=t.pendingProps;switch(Gx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(t),null;case 1:return Yn(t.type)&&Mu(),jn(t),null;case 3:return s=t.stateNode,Bo(),_t(Gn),_t(Cn),sg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ld(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(bp(Fr),Fr=null))),pp(e,t),jn(t),null;case 5:rg(t);var a=ci(fc.current);if(n=t.type,e!==null&&t.stateNode!=null)f1(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(re(166));return jn(t),null}if(e=ci(hs.current),Ld(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[os]=t,s[dc]=i,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(a=0;a<Il.length;a++)Ct(Il[a],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":ay(s,i),Ct("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",s);break;case"textarea":oy(s,i),Ct("invalid",s)}Um(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fd(s.textContent,l,e),a=["children",""+l]):ec.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ct("scroll",s)}switch(n){case"input":Pd(s),iy(s,i,!0);break;case"textarea":Pd(s),ly(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Pu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[os]=t,e[dc]=s,u1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qm(n,s),n){case"dialog":Ct("cancel",e),Ct("close",e),a=s;break;case"iframe":case"object":case"embed":Ct("load",e),a=s;break;case"video":case"audio":for(a=0;a<Il.length;a++)Ct(Il[a],e);a=s;break;case"source":Ct("error",e),a=s;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),a=s;break;case"details":Ct("toggle",e),a=s;break;case"input":ay(e,s),a=Fm(e,s),Ct("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ft({},s,{value:void 0}),Ct("invalid",e);break;case"textarea":oy(e,s),a=zm(e,s),Ct("invalid",e);break;default:a=s}Um(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&UN(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tc(e,c):typeof c=="number"&&tc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ec.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ct("scroll",e):c!=null&&Ix(e,i,c,o))}switch(n){case"input":Pd(e),iy(e,s,!1);break;case"textarea":Pd(e),ly(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ra(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?fo(e,!!s.multiple,i,!1):s.defaultValue!=null&&fo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jn(t),null;case 6:if(e&&t.stateNode!=null)h1(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(re(166));if(n=ci(fc.current),ci(hs.current),Ld(t)){if(s=t.stateNode,n=t.memoizedProps,s[os]=t,(i=s.nodeValue!==n)&&(e=or,e!==null))switch(e.tag){case 3:Fd(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fd(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[os]=t,t.stateNode=s}return jn(t),null;case 13:if(_t(It),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&ir!==null&&t.mode&1&&!(t.flags&128))Tb(),Qo(),t.flags|=98560,i=!1;else if(i=Ld(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[os]=t}else Qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jn(t),i=!1}else Fr!==null&&(bp(Fr),Fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?nn===0&&(nn=3):xg())),t.updateQueue!==null&&(t.flags|=4),jn(t),null);case 4:return Bo(),pp(e,t),e===null&&lc(t.stateNode.containerInfo),jn(t),null;case 10:return Jx(t.type._context),jn(t),null;case 17:return Yn(t.type)&&Mu(),jn(t),null;case 19:if(_t(It),i=t.memoizedState,i===null)return jn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)wl(i,!1);else{if(nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fu(e),o!==null){for(t.flags|=128,wl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(It,It.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wt()>Ho&&(t.flags|=128,s=!0,wl(i,!1),t.lanes=4194304)}else{if(!s)if(e=Fu(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return jn(t),null}else 2*Wt()-i.renderingStartTime>Ho&&n!==1073741824&&(t.flags|=128,s=!0,wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,n=It.current,Nt(It,s?n&1|2:n&1),t):(jn(t),null);case 22:case 23:return pg(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?rr&1073741824&&(jn(t),t.subtreeFlags&6&&(t.flags|=8192)):jn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function y4(e,t){switch(Gx(t),t.tag){case 1:return Yn(t.type)&&Mu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bo(),_t(Gn),_t(Cn),sg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rg(t),null;case 13:if(_t(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(It),null;case 4:return Bo(),null;case 10:return Jx(t.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var Vd=!1,bn=!1,j4=typeof WeakSet=="function"?WeakSet:Set,be=null;function oo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){zt(e,t,s)}else n.current=null}function xp(e,t,n){try{n()}catch(s){zt(e,t,s)}}var Zy=!1;function w4(e,t){if(Jm=ku,e=vb(),Hx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var y;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:e,selectionRange:n},ku=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,v=j.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ir(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(N){zt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return j=Zy,Zy=!1,j}function Hl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&xp(t,n,i)}a=a.next}while(a!==s)}}function Af(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function gp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function m1(e){var t=e.alternate;t!==null&&(e.alternate=null,m1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[dc],delete t[rp],delete t[r4],delete t[s4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p1(e){return e.tag===5||e.tag===3||e.tag===4}function Xy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pu));else if(s!==4&&(e=e.child,e!==null))for(vp(e,t,n),e=e.sibling;e!==null;)vp(e,t,n),e=e.sibling}function yp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(yp(e,t,n),e=e.sibling;e!==null;)yp(e,t,n),e=e.sibling}var dn=null,Or=!1;function ta(e,t,n){for(n=n.child;n!==null;)x1(e,t,n),n=n.sibling}function x1(e,t,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Sf,n)}catch{}switch(n.tag){case 5:bn||oo(n,t);case 6:var s=dn,a=Or;dn=null,ta(e,t,n),dn=s,Or=a,dn!==null&&(Or?(e=dn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Or?(e=dn,n=n.stateNode,e.nodeType===8?Qh(e.parentNode,n):e.nodeType===1&&Qh(e,n),ac(e)):Qh(dn,n.stateNode));break;case 4:s=dn,a=Or,dn=n.stateNode.containerInfo,Or=!0,ta(e,t,n),dn=s,Or=a;break;case 0:case 11:case 14:case 15:if(!bn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xp(n,t,o),a=a.next}while(a!==s)}ta(e,t,n);break;case 1:if(!bn&&(oo(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){zt(n,t,l)}ta(e,t,n);break;case 21:ta(e,t,n);break;case 22:n.mode&1?(bn=(s=bn)||n.memoizedState!==null,ta(e,t,n),bn=s):ta(e,t,n);break;default:ta(e,t,n)}}function Jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j4),t.forEach(function(s){var a=M4.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Ar(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,Or=!1;break e;case 3:dn=l.stateNode.containerInfo,Or=!0;break e;case 4:dn=l.stateNode.containerInfo,Or=!0;break e}l=l.return}if(dn===null)throw Error(re(160));x1(i,o,a),dn=null,Or=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){zt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g1(t,e),t=t.sibling}function g1(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),Jr(e),s&4){try{Hl(3,e,e.return),Af(3,e)}catch(g){zt(e,e.return,g)}try{Hl(5,e,e.return)}catch(g){zt(e,e.return,g)}}break;case 1:Ar(t,e),Jr(e),s&512&&n!==null&&oo(n,n.return);break;case 5:if(Ar(t,e),Jr(e),s&512&&n!==null&&oo(n,n.return),e.flags&32){var a=e.stateNode;try{tc(a,"")}catch(g){zt(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$N(a,i),Qm(l,o);var d=Qm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?qN(a,f):u==="dangerouslySetInnerHTML"?UN(a,f):u==="children"?tc(a,f):Ix(a,u,f,d)}switch(l){case"input":Lm(a,i);break;case"textarea":zN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?fo(a,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?fo(a,!!i.multiple,i.defaultValue,!0):fo(a,!!i.multiple,i.multiple?[]:"",!1))}a[dc]=i}catch(g){zt(e,e.return,g)}}break;case 6:if(Ar(t,e),Jr(e),s&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){zt(e,e.return,g)}}break;case 3:if(Ar(t,e),Jr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(g){zt(e,e.return,g)}break;case 4:Ar(t,e),Jr(e);break;case 13:Ar(t,e),Jr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hg=Wt())),s&4&&Jy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(bn=(d=bn)||u,Ar(t,e),bn=d):Ar(t,e),Jr(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(f=be=u;be!==null;){switch(h=be,y=h.child,h.tag){case 0:case 11:case 14:case 15:Hl(4,h,h.return);break;case 1:oo(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){zt(s,n,g)}}break;case 5:oo(h,h.return);break;case 22:if(h.memoizedState!==null){t0(f);continue}}y!==null?(y.return=h,be=y):t0(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QN("display",o))}catch(g){zt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){zt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(t,e),Jr(e),s&4&&Jy(e);break;case 21:break;default:Ar(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(p1(n)){var s=n;break e}n=n.return}throw Error(re(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(tc(a,""),s.flags&=-33);var i=Xy(e);yp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Xy(e);vp(e,l,o);break;default:throw Error(re(161))}}catch(c){zt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N4(e,t,n){be=e,v1(e)}function v1(e,t,n){for(var s=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Vd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||bn;l=Vd;var d=bn;if(Vd=o,(bn=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?n0(a):c!==null?(c.return=o,be=c):n0(a);for(;i!==null;)be=i,v1(i),i=i.sibling;be=a,Vd=l,bn=d}e0(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):e0(e)}}function e0(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||Af(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!bn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ir(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ly(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ly(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}bn||t.flags&512&&gp(t)}catch(h){zt(t,t.return,h)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function t0(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function n0(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Af(4,t)}catch(c){zt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){zt(t,a,c)}}var i=t.return;try{gp(t)}catch(c){zt(t,i,c)}break;case 5:var o=t.return;try{gp(t)}catch(c){zt(t,o,c)}}}catch(c){zt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var b4=Math.ceil,zu=Xs.ReactCurrentDispatcher,ug=Xs.ReactCurrentOwner,_r=Xs.ReactCurrentBatchConfig,lt=0,cn=null,Kt=null,fn=0,rr=0,lo=Ga(0),nn=0,xc=null,Ci=0,Df=0,fg=0,Kl=null,qn=null,hg=0,Ho=1/0,Ds=null,Vu=!1,jp=null,Ta=null,Ud=!1,Sa=null,Uu=0,Gl=0,wp=null,du=-1,uu=0;function In(){return lt&6?Wt():du!==-1?du:du=Wt()}function Aa(e){return e.mode&1?lt&2&&fn!==0?fn&-fn:i4.transition!==null?(uu===0&&(uu=nb()),uu):(e=xt,e!==0||(e=window.event,e=e===void 0?16:cb(e.type)),e):1}function Ur(e,t,n,s){if(50<Gl)throw Gl=0,wp=null,Error(re(185));td(e,n,s),(!(lt&2)||e!==cn)&&(e===cn&&(!(lt&2)&&(Df|=n),nn===4&&ua(e,fn)),Zn(e,s),n===1&&lt===0&&!(t.mode&1)&&(Ho=Wt()+500,Pf&&Ya()))}function Zn(e,t){var n=e.callbackNode;iT(e,t);var s=Cu(e,e===cn?fn:0);if(s===0)n!==null&&uy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&uy(n),t===1)e.tag===0?a4(r0.bind(null,e)):Eb(r0.bind(null,e)),t4(function(){!(lt&6)&&Ya()}),n=null;else{switch(rb(s)){case 1:n=$x;break;case 4:n=eb;break;case 16:n=Su;break;case 536870912:n=tb;break;default:n=Su}n=k1(n,y1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y1(e,t){if(du=-1,uu=0,lt&6)throw Error(re(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var s=Cu(e,e===cn?fn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Qu(e,s);else{t=s;var a=lt;lt|=2;var i=w1();(cn!==e||fn!==t)&&(Ds=null,Ho=Wt()+500,vi(e,t));do try{k4();break}catch(l){j1(e,l)}while(!0);Xx(),zu.current=i,lt=a,Kt!==null?t=0:(cn=null,fn=0,t=nn)}if(t!==0){if(t===2&&(a=Km(e),a!==0&&(s=a,t=Np(e,a))),t===1)throw n=xc,vi(e,0),ua(e,s),Zn(e,Wt()),n;if(t===6)ua(e,s);else{if(a=e.current.alternate,!(s&30)&&!S4(a)&&(t=Qu(e,s),t===2&&(i=Km(e),i!==0&&(s=i,t=Np(e,i))),t===1))throw n=xc,vi(e,0),ua(e,s),Zn(e,Wt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(re(345));case 2:si(e,qn,Ds);break;case 3:if(ua(e,s),(s&130023424)===s&&(t=hg+500-Wt(),10<t)){if(Cu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){In(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=np(si.bind(null,e,qn,Ds),t);break}si(e,qn,Ds);break;case 4:if(ua(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Vr(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Wt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*b4(s/1960))-s,10<s){e.timeoutHandle=np(si.bind(null,e,qn,Ds),s);break}si(e,qn,Ds);break;case 5:si(e,qn,Ds);break;default:throw Error(re(329))}}}return Zn(e,Wt()),e.callbackNode===n?y1.bind(null,e):null}function Np(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=Qu(e,t),e!==2&&(t=qn,qn=n,t!==null&&bp(t)),e}function bp(e){qn===null?qn=e:qn.push.apply(qn,e)}function S4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!qr(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t){for(t&=~fg,t&=~Df,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),s=1<<n;e[n]=-1,t&=~s}}function r0(e){if(lt&6)throw Error(re(327));go();var t=Cu(e,0);if(!(t&1))return Zn(e,Wt()),null;var n=Qu(e,t);if(e.tag!==0&&n===2){var s=Km(e);s!==0&&(t=s,n=Np(e,s))}if(n===1)throw n=xc,vi(e,0),ua(e,t),Zn(e,Wt()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,si(e,qn,Ds),Zn(e,Wt()),null}function mg(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(Ho=Wt()+500,Pf&&Ya())}}function ki(e){Sa!==null&&Sa.tag===0&&!(lt&6)&&go();var t=lt;lt|=1;var n=_r.transition,s=xt;try{if(_r.transition=null,xt=1,e)return e()}finally{xt=s,_r.transition=n,lt=t,!(lt&6)&&Ya()}}function pg(){rr=lo.current,_t(lo)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e4(n)),Kt!==null)for(n=Kt.return;n!==null;){var s=n;switch(Gx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Mu();break;case 3:Bo(),_t(Gn),_t(Cn),sg();break;case 5:rg(s);break;case 4:Bo();break;case 13:_t(It);break;case 19:_t(It);break;case 10:Jx(s.type._context);break;case 22:case 23:pg()}n=n.return}if(cn=e,Kt=e=Da(e.current,null),fn=rr=t,nn=0,xc=null,fg=Df=Ci=0,qn=Kl=null,li!==null){for(t=0;t<li.length;t++)if(n=li[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}li=null}return e}function j1(e,t){do{var n=Kt;try{if(Xx(),ou.current=$u,Lu){for(var s=Rt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Lu=!1}if(Si=0,ln=Jt=Rt=null,Wl=!1,hc=0,ug.current=null,n===null||n.return===null){nn=1,xc=t,Kt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=fn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=qy(o);if(y!==null){y.flags&=-257,By(y,o,l,i,t),y.mode&1&&Qy(i,d,t),t=y,c=d;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){Qy(i,d,t),xg();break e}c=Error(re(426))}}else if(Et&&l.mode&1){var v=qy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),By(v,o,l,i,t),Yx(Wo(c,l));break e}}i=c=Wo(c,l),nn!==4&&(nn=2),Kl===null?Kl=[i]:Kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=r1(i,c,t);Fy(i,x);break e;case 1:l=c;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ta===null||!Ta.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=s1(i,l,t);Fy(i,N);break e}}i=i.return}while(i!==null)}b1(n)}catch(b){t=b,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function w1(){var e=zu.current;return zu.current=$u,e===null?$u:e}function xg(){(nn===0||nn===3||nn===2)&&(nn=4),cn===null||!(Ci&268435455)&&!(Df&268435455)||ua(cn,fn)}function Qu(e,t){var n=lt;lt|=2;var s=w1();(cn!==e||fn!==t)&&(Ds=null,vi(e,t));do try{C4();break}catch(a){j1(e,a)}while(!0);if(Xx(),lt=n,zu.current=s,Kt!==null)throw Error(re(261));return cn=null,fn=0,nn}function C4(){for(;Kt!==null;)N1(Kt)}function k4(){for(;Kt!==null&&!ZM();)N1(Kt)}function N1(e){var t=C1(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?b1(e):Kt=t,ug.current=null}function b1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y4(n,t),n!==null){n.flags&=32767,Kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nn=6,Kt=null;return}}else if(n=v4(n,t,rr),n!==null){Kt=n;return}if(t=t.sibling,t!==null){Kt=t;return}Kt=t=e}while(t!==null);nn===0&&(nn=5)}function si(e,t,n){var s=xt,a=_r.transition;try{_r.transition=null,xt=1,_4(e,t,n,s)}finally{_r.transition=a,xt=s}return null}function _4(e,t,n,s){do go();while(Sa!==null);if(lt&6)throw Error(re(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(oT(e,i),e===cn&&(Kt=cn=null,fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,k1(Su,function(){return go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_r.transition,_r.transition=null;var o=xt;xt=1;var l=lt;lt|=4,ug.current=null,w4(e,n),g1(n,e),HT(ep),ku=!!Jm,ep=Jm=null,e.current=n,N4(n),XM(),lt=l,xt=o,_r.transition=i}else e.current=n;if(Ud&&(Ud=!1,Sa=e,Uu=a),i=e.pendingLanes,i===0&&(Ta=null),tT(n.stateNode),Zn(e,Wt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Vu)throw Vu=!1,e=jp,jp=null,e;return Uu&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===wp?Gl++:(Gl=0,wp=e):Gl=0,Ya(),null}function go(){if(Sa!==null){var e=rb(Uu),t=_r.transition,n=xt;try{if(_r.transition=null,xt=16>e?16:e,Sa===null)var s=!1;else{if(e=Sa,Sa=null,Uu=0,lt&6)throw Error(re(331));var a=lt;for(lt|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Hl(8,u,i)}var f=u.child;if(f!==null)f.return=u,be=f;else for(;be!==null;){u=be;var h=u.sibling,y=u.return;if(m1(u),u===d){be=null;break}if(h!==null){h.return=y,be=h;break}be=y}}}var j=i.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,be=x;break e}be=i.return}}var p=e.current;for(be=p;be!==null;){o=be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,be=w;else e:for(o=p;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Af(9,l)}}catch(b){zt(l,l.return,b)}if(l===o){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(lt=a,Ya(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Sf,e)}catch{}s=!0}return s}finally{xt=n,_r.transition=t}}return!1}function s0(e,t,n){t=Wo(n,t),t=r1(e,t,1),e=Ma(e,t,1),t=In(),e!==null&&(td(e,1,t),Zn(e,t))}function zt(e,t,n){if(e.tag===3)s0(e,e,n);else for(;t!==null;){if(t.tag===3){s0(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ta===null||!Ta.has(s))){e=Wo(n,e),e=s1(t,e,1),t=Ma(t,e,1),e=In(),t!==null&&(td(t,1,e),Zn(t,e));break}}t=t.return}}function E4(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&n,cn===e&&(fn&n)===n&&(nn===4||nn===3&&(fn&130023424)===fn&&500>Wt()-hg?vi(e,0):fg|=n),Zn(e,t)}function S1(e,t){t===0&&(e.mode&1?(t=Ad,Ad<<=1,!(Ad&130023424)&&(Ad=4194304)):t=1);var n=In();e=Ws(e,t),e!==null&&(td(e,t,n),Zn(e,n))}function P4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S1(e,n)}function M4(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(t),S1(e,n)}var C1;C1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Wn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wn=!1,g4(e,t,n);Wn=!!(e.flags&131072)}else Wn=!1,Et&&t.flags&1048576&&Pb(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;cu(e,t),e=t.pendingProps;var a=Uo(t,Cn.current);xo(t,n),a=ig(null,t,s,e,a,n);var i=og();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(s)?(i=!0,Tu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tg(t),a.updater=Tf,t.stateNode=a,a._reactInternals=t,cp(t,s,e,n),t=fp(null,t,s,!0,i,n)):(t.tag=0,Et&&i&&Kx(t),Tn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(cu(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=A4(s),e=Ir(s,e),a){case 0:t=up(null,t,s,e,n);break e;case 1:t=Ky(null,t,s,e,n);break e;case 11:t=Wy(null,t,s,e,n);break e;case 14:t=Hy(null,t,s,Ir(s.type,e),n);break e}throw Error(re(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ir(s,a),up(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ir(s,a),Ky(e,t,s,a,n);case 3:e:{if(l1(t),e===null)throw Error(re(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Rb(e,t),Ou(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Wo(Error(re(423)),t),t=Gy(e,t,s,n,a);break e}else if(s!==a){a=Wo(Error(re(424)),t),t=Gy(e,t,s,n,a);break e}else for(ir=Pa(t.stateNode.containerInfo.firstChild),or=t,Et=!0,Fr=null,n=Db(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),s===a){t=Hs(e,t,n);break e}Tn(e,t,s,n)}t=t.child}return t;case 5:return Ob(t),e===null&&ip(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,tp(s,a)?o=null:i!==null&&tp(s,i)&&(t.flags|=32),o1(e,t),Tn(e,t,o,n),t.child;case 6:return e===null&&ip(t),null;case 13:return c1(e,t,n);case 4:return ng(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=qo(t,null,s,n):Tn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ir(s,a),Wy(e,t,s,a,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Nt(Iu,s._currentValue),s._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===a.children&&!Gn.current){t=Hs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=zs(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),op(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),op(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,xo(t,n),a=Pr(a),s=s(a),t.flags|=1,Tn(e,t,s,n),t.child;case 14:return s=t.type,a=Ir(s,t.pendingProps),a=Ir(s.type,a),Hy(e,t,s,a,n);case 15:return a1(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ir(s,a),cu(e,t),t.tag=1,Yn(s)?(e=!0,Tu(t)):e=!1,xo(t,n),n1(t,s,a),cp(t,s,a,n),fp(null,t,s,!0,e,n);case 19:return d1(e,t,n);case 22:return i1(e,t,n)}throw Error(re(156,t.tag))};function k1(e,t){return JN(e,t)}function T4(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,n,s){return new T4(e,t,n,s)}function gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A4(e){if(typeof e=="function")return gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ox)return 11;if(e===Fx)return 14}return 2}function Da(e,t){var n=e.alternate;return n===null?(n=Cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fu(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")gg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xi:return yi(n.children,a,i,t);case Rx:o=8,a|=8;break;case Dm:return e=Cr(12,n,t,a|2),e.elementType=Dm,e.lanes=i,e;case Im:return e=Cr(13,n,t,a),e.elementType=Im,e.lanes=i,e;case Rm:return e=Cr(19,n,t,a),e.elementType=Rm,e.lanes=i,e;case ON:return If(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IN:o=10;break e;case RN:o=9;break e;case Ox:o=11;break e;case Fx:o=14;break e;case la:o=16,s=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Cr(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function yi(e,t,n,s){return e=Cr(7,e,s,t),e.lanes=n,e}function If(e,t,n,s){return e=Cr(22,e,s,t),e.elementType=ON,e.lanes=n,e.stateNode={isHidden:!1},e}function Zh(e,t,n){return e=Cr(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D4(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vg(e,t,n,s,a,i,o,l,c){return e=new D4(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(i),e}function I4(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function _1(e){if(!e)return Oa;e=e._reactInternals;e:{if(Li(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Yn(n))return _b(e,n,t)}return t}function E1(e,t,n,s,a,i,o,l,c){return e=vg(n,s,!0,e,a,i,o,l,c),e.context=_1(null),n=e.current,s=In(),a=Aa(n),i=zs(s,a),i.callback=t??null,Ma(n,i,a),e.current.lanes=a,td(e,a,s),Zn(e,s),e}function Rf(e,t,n,s){var a=t.current,i=In(),o=Aa(a);return n=_1(n),t.context===null?t.context=n:t.pendingContext=n,t=zs(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ma(a,t,o),e!==null&&(Ur(e,a,o,i),iu(e,a,o)),o}function qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yg(e,t){a0(e,t),(e=e.alternate)&&a0(e,t)}function R4(){return null}var P1=typeof reportError=="function"?reportError:function(e){console.error(e)};function jg(e){this._internalRoot=e}Of.prototype.render=jg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Rf(e,t,null,null)};Of.prototype.unmount=jg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){Rf(null,e,null,null)}),t[Bs]=null}};function Of(e){this._internalRoot=e}Of.prototype.unstable_scheduleHydration=function(e){if(e){var t=ib();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&lb(e)}};function wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i0(){}function O4(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=qu(o);i.call(d)}}var o=E1(t,s,e,0,null,!1,!1,"",i0);return e._reactRootContainer=o,e[Bs]=o.current,lc(e.nodeType===8?e.parentNode:e),ki(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=qu(c);l.call(d)}}var c=vg(e,0,!1,null,null,!1,!1,"",i0);return e._reactRootContainer=c,e[Bs]=c.current,lc(e.nodeType===8?e.parentNode:e),ki(function(){Rf(t,c,n,s)}),c}function Lf(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=qu(o);l.call(c)}}Rf(t,o,e,a)}else o=O4(n,t,e,a,s);return qu(o)}sb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dl(t.pendingLanes);n!==0&&(zx(t,n|1),Zn(t,Wt()),!(lt&6)&&(Ho=Wt()+500,Ya()))}break;case 13:ki(function(){var s=Ws(e,1);if(s!==null){var a=In();Ur(s,e,1,a)}}),yg(e,1)}};Vx=function(e){if(e.tag===13){var t=Ws(e,134217728);if(t!==null){var n=In();Ur(t,e,134217728,n)}yg(e,134217728)}};ab=function(e){if(e.tag===13){var t=Aa(e),n=Ws(e,t);if(n!==null){var s=In();Ur(n,e,t,s)}yg(e,t)}};ib=function(){return xt};ob=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}};Bm=function(e,t,n){switch(t){case"input":if(Lm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Ef(s);if(!a)throw Error(re(90));LN(s),Lm(s,a)}}}break;case"textarea":zN(e,n);break;case"select":t=n.value,t!=null&&fo(e,!!n.multiple,t,!1)}};HN=mg;KN=ki;var F4={usingClientEntryPoint:!1,Events:[rd,no,Ef,BN,WN,mg]},Nl={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L4={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZN(e),e===null?null:e.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||R4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Sf=Qd.inject(L4),fs=Qd}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F4;xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(t))throw Error(re(200));return I4(e,t,null,n)};xr.createRoot=function(e,t){if(!wg(e))throw Error(re(299));var n=!1,s="",a=P1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vg(e,1,!1,null,null,n,!1,s,a),e[Bs]=t.current,lc(e.nodeType===8?e.parentNode:e),new jg(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=ZN(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return ki(e)};xr.hydrate=function(e,t,n){if(!Ff(t))throw Error(re(200));return Lf(null,e,t,!0,n)};xr.hydrateRoot=function(e,t,n){if(!wg(e))throw Error(re(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=P1;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=E1(t,null,e,1,n??null,a,!1,i,o),e[Bs]=t.current,lc(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Of(t)};xr.render=function(e,t,n){if(!Ff(t))throw Error(re(200));return Lf(null,e,t,!1,n)};xr.unmountComponentAtNode=function(e){if(!Ff(e))throw Error(re(40));return e._reactRootContainer?(ki(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Bs]=null})}),!0):!1};xr.unstable_batchedUpdates=mg;xr.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ff(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Lf(e,t,n,!1,s)};xr.version="18.3.1-next-f1338f8080-20240426";function M1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M1)}catch(e){console.error(e)}}M1(),MN.exports=xr;var $i=MN.exports;const $4=gN($i);var T1,o0=$i;T1=o0.createRoot,o0.hydrateRoot;var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_i=typeof window>"u"||"Deno"in globalThis;function jr(){}function z4(e,t){return typeof e=="function"?e(t):e}function Sp(e){return typeof e=="number"&&e>=0&&e!==1/0}function A1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vo(e,t){return typeof e=="function"?e(t):e}function Lr(e,t){return typeof e=="function"?e(t):e}function l0(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Ng(o,t.options))return!1}else if(!gc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function c0(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ei(t.options.mutationKey)!==Ei(i))return!1}else if(!gc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Ng(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ei)(e)}function Ei(e){return JSON.stringify(e,(t,n)=>Cp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function gc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!gc(e[n],t[n])):!1}function D1(e,t){if(e===t)return e;const n=d0(e)&&d0(t);if(n||Cp(e)&&Cp(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&s.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=D1(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Bu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function d0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cp(e){if(!u0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!u0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function u0(e){return Object.prototype.toString.call(e)==="[object Object]"}function V4(e){return new Promise(t=>{setTimeout(t,e)})}function kp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?D1(e,t):t}function U4(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Q4(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var bg=Symbol();function I1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ui,ma,Eo,Rj,q4=(Rj=class extends ll{constructor(){super();$e(this,ui);$e(this,ma);$e(this,Eo);ye(this,Eo,t=>{if(!_i&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,ma)||this.setEventListener(I(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,ma))==null||t.call(this),ye(this,ma,void 0))}setEventListener(t){var n;ye(this,Eo,t),(n=I(this,ma))==null||n.call(this),ye(this,ma,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){I(this,ui)!==t&&(ye(this,ui,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,ui)=="boolean"?I(this,ui):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ui=new WeakMap,ma=new WeakMap,Eo=new WeakMap,Rj),Sg=new q4,Po,pa,Mo,Oj,B4=(Oj=class extends ll{constructor(){super();$e(this,Po,!0);$e(this,pa);$e(this,Mo);ye(this,Mo,t=>{if(!_i&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){I(this,pa)||this.setEventListener(I(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,pa))==null||t.call(this),ye(this,pa,void 0))}setEventListener(t){var n;ye(this,Mo,t),(n=I(this,pa))==null||n.call(this),ye(this,pa,t(this.setOnline.bind(this)))}setOnline(t){I(this,Po)!==t&&(ye(this,Po,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return I(this,Po)}},Po=new WeakMap,pa=new WeakMap,Mo=new WeakMap,Oj),Wu=new B4;function _p(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function W4(e){return Math.min(1e3*2**e,3e4)}function R1(e){return(e??"online")==="online"?Wu.isOnline():!0}var O1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jh(e){return e instanceof O1}function F1(e){let t=!1,n=0,s=!1,a;const i=_p(),o=g=>{var v;s||(h(new O1(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Sg.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),u=()=>R1(e.networkMode)&&e.canRun(),f=g=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),i.resolve(g))},h=g=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),i.reject(g))},y=()=>new Promise(g=>{var v;a=x=>{(s||d())&&g(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),j=()=>{if(s)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var _;if(s)return;const p=e.retry??(_i?0:3),w=e.retryDelay??W4,N=typeof w=="function"?w(n,x):w,b=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,x);if(t||!b){h(x);return}n++,(_=e.onFail)==null||_.call(e,n,x),V4(N).then(()=>d()?void 0:y()).then(()=>{t?h(x):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():y().then(j),i)}}function H4(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var en=H4(),fi,Fj,L1=(Fj=class{constructor(){$e(this,fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sp(this.gcTime)&&ye(this,fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){I(this,fi)&&(clearTimeout(I(this,fi)),ye(this,fi,void 0))}},fi=new WeakMap,Fj),To,Ao,yr,wn,Yc,hi,Rr,Ts,Lj,K4=(Lj=class extends L1{constructor(t){super();$e(this,Rr);$e(this,To);$e(this,Ao);$e(this,yr);$e(this,wn);$e(this,Yc);$e(this,hi);ye(this,hi,!1),ye(this,Yc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,yr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,To,G4(this.options)),this.state=t.state??I(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,wn))==null?void 0:t.promise}setOptions(t){this.options={...I(this,Yc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,yr).remove(this)}setData(t,n){const s=kp(this.state.data,t,this.options);return Ze(this,Rr,Ts).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Ze(this,Rr,Ts).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=I(this,wn))==null?void 0:s.promise;return(a=I(this,wn))==null||a.cancel(t),n?n.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,To))}isActive(){return this.observers.some(t=>Lr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!A1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,wn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,wn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,wn)&&(I(this,hi)?I(this,wn).cancel({revert:!0}):I(this,wn).cancelRetry()),this.scheduleGc()),I(this,yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Rr,Ts).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,wn))return I(this,wn).continueRetry(),I(this,wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ye(this,hi,!0),s.signal)})},i=()=>{const f=I1(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return a(h),ye(this,hi,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ye(this,Ao,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ze(this,Rr,Ts).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,y,j,g;Jh(f)&&f.silent||Ze(this,Rr,Ts).call(this,{type:"error",error:f}),Jh(f)||((y=(h=I(this,yr).config).onError)==null||y.call(h,f,this),(g=(j=I(this,yr).config).onSettled)==null||g.call(j,this.state.data,f,this)),this.scheduleGc()};return ye(this,wn,F1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var h,y,j,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(y=(h=I(this,yr).config).onSuccess)==null||y.call(h,f,this),(g=(j=I(this,yr).config).onSettled)==null||g.call(j,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ze(this,Rr,Ts).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ze(this,Rr,Ts).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Rr,Ts).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),I(this,wn).start()}},To=new WeakMap,Ao=new WeakMap,yr=new WeakMap,wn=new WeakMap,Yc=new WeakMap,hi=new WeakMap,Rr=new WeakSet,Ts=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...$1(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Jh(a)&&a.revert&&I(this,Ao)?{...I(this,Ao),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),en.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),I(this,yr).notify({query:this,type:"updated",action:t})})},Lj);function $1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ns,$j,Y4=($j=class extends ll{constructor(t={}){super();$e(this,ns);this.config=t,ye(this,ns,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??Ng(a,n);let o=this.get(i);return o||(o=new K4({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){I(this,ns).has(t.queryHash)||(I(this,ns).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,ns).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,ns).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,ns).get(t)}getAll(){return[...I(this,ns).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>l0(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>l0(t,s)):n}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){en.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ns=new WeakMap,$j),rs,Pn,mi,ss,ia,zj,Z4=(zj=class extends L1{constructor(t){super();$e(this,ss);$e(this,rs);$e(this,Pn);$e(this,mi);this.mutationId=t.mutationId,ye(this,Pn,t.mutationCache),ye(this,rs,[]),this.state=t.state||z1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,rs).includes(t)||(I(this,rs).push(t),this.clearGcTimeout(),I(this,Pn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,rs,I(this,rs).filter(n=>n!==t)),this.scheduleGc(),I(this,Pn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,rs).length||(this.state.status==="pending"?this.scheduleGc():I(this,Pn).remove(this))}continue(){var t;return((t=I(this,mi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,h,y,j,g,v,x,p,w,N,b,_,k;ye(this,mi,F1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{Ze(this,ss,ia).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{Ze(this,ss,ia).call(this,{type:"pause"})},onContinue:()=>{Ze(this,ss,ia).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Pn).canRun(this)}));const n=this.state.status==="pending",s=!I(this,mi).canStart();try{if(!n){Ze(this,ss,ia).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=I(this,Pn).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&Ze(this,ss,ia).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const T=await I(this,mi).start();return await((d=(c=I(this,Pn).config).onSuccess)==null?void 0:d.call(c,T,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,T,t,this.state.context)),await((y=(h=I(this,Pn).config).onSettled)==null?void 0:y.call(h,T,null,this.state.variables,this.state.context,this)),await((g=(j=this.options).onSettled)==null?void 0:g.call(j,T,null,t,this.state.context)),Ze(this,ss,ia).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(v=I(this,Pn).config).onError)==null?void 0:x.call(v,T,t,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,T,t,this.state.context)),await((b=(N=I(this,Pn).config).onSettled)==null?void 0:b.call(N,void 0,T,this.state.variables,this.state.context,this)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,T,t,this.state.context)),T}finally{Ze(this,ss,ia).call(this,{type:"error",error:T})}}finally{I(this,Pn).runNext(this)}}},rs=new WeakMap,Pn=new WeakMap,mi=new WeakMap,ss=new WeakSet,ia=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),en.batch(()=>{I(this,rs).forEach(s=>{s.onMutationUpdate(t)}),I(this,Pn).notify({mutation:this,type:"updated",action:t})})},zj);function z1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nr,Zc,Vj,X4=(Vj=class extends ll{constructor(t={}){super();$e(this,nr);$e(this,Zc);this.config=t,ye(this,nr,new Map),ye(this,Zc,Date.now())}build(t,n,s){const a=new Z4({mutationCache:this,mutationId:++kd(this,Zc)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){const n=qd(t),s=I(this,nr).get(n)??[];s.push(t),I(this,nr).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=qd(t);if(I(this,nr).has(n)){const a=(s=I(this,nr).get(n))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?I(this,nr).delete(n):I(this,nr).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=I(this,nr).get(qd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=I(this,nr).get(qd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...I(this,nr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>c0(n,s))}findAll(t={}){return this.getAll().filter(n=>c0(t,n))}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(t.map(n=>n.continue().catch(jr))))}},nr=new WeakMap,Zc=new WeakMap,Vj);function qd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function f0(e){return{onFetch:(t,n)=>{var u,f,h,y,j;const s=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=I1(t.options,t.fetchOptions),p=async(w,N,b)=>{if(g)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _={queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};v(_);const k=await x(_),{maxPages:T}=t.options,E=b?Q4:U4;return{pages:E(w.pages,k,T),pageParams:E(w.pageParams,N,T)}};if(a&&i.length){const w=a==="backward",N=w?J4:h0,b={pages:i,pageParams:o},_=N(s,b);l=await p(b,_,w)}else{const w=e??i.length;do{const N=c===0?o[0]??s.initialPageParam:h0(s,l);if(c>0&&N==null)break;l=await p(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function h0(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function J4(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var $t,xa,ga,Do,Io,va,Ro,Oo,Uj,eA=(Uj=class{constructor(e={}){$e(this,$t);$e(this,xa);$e(this,ga);$e(this,Do);$e(this,Io);$e(this,va);$e(this,Ro);$e(this,Oo);ye(this,$t,e.queryCache||new Y4),ye(this,xa,e.mutationCache||new X4),ye(this,ga,e.defaultOptions||{}),ye(this,Do,new Map),ye(this,Io,new Map),ye(this,va,0)}mount(){kd(this,va)._++,I(this,va)===1&&(ye(this,Ro,Sg.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,$t).onFocus())})),ye(this,Oo,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,$t).onOnline())})))}unmount(){var e,t;kd(this,va)._--,I(this,va)===0&&((e=I(this,Ro))==null||e.call(this),ye(this,Ro,void 0),(t=I(this,Oo))==null||t.call(this),ye(this,Oo,void 0))}isFetching(e){return I(this,$t).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,xa).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,$t).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=I(this,$t).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(vo(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return I(this,$t).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=I(this,$t).get(s.queryHash),i=a==null?void 0:a.state.data,o=z4(t,i);if(o!==void 0)return I(this,$t).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return en.batch(()=>I(this,$t).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,$t).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,$t);en.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,$t),s={type:"active",...e};return en.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=en.batch(()=>I(this,$t).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(jr).catch(jr)}invalidateQueries(e={},t={}){return en.batch(()=>{if(I(this,$t).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=en.batch(()=>I(this,$t).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,$t).build(this,t);return n.isStaleByTime(vo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jr).catch(jr)}fetchInfiniteQuery(e){return e.behavior=f0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jr).catch(jr)}ensureInfiniteQueryData(e){return e.behavior=f0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?I(this,xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,$t)}getMutationCache(){return I(this,xa)}getDefaultOptions(){return I(this,ga)}setDefaultOptions(e){ye(this,ga,e)}setQueryDefaults(e,t){I(this,Do).set(Ei(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,Do).values()];let n={};return t.forEach(s=>{gc(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){I(this,Io).set(Ei(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Io).values()];let n={};return t.forEach(s=>{gc(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,ga).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ng(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===bg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,ga).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,$t).clear(),I(this,xa).clear()}},$t=new WeakMap,xa=new WeakMap,ga=new WeakMap,Do=new WeakMap,Io=new WeakMap,va=new WeakMap,Ro=new WeakMap,Oo=new WeakMap,Uj),Vn,at,Xc,Mn,pi,Fo,ya,as,Jc,Lo,$o,xi,gi,ja,zo,ht,Rl,Ep,Pp,Mp,Tp,Ap,Dp,Ip,V1,Qj,tA=(Qj=class extends ll{constructor(t,n){super();$e(this,ht);$e(this,Vn);$e(this,at);$e(this,Xc);$e(this,Mn);$e(this,pi);$e(this,Fo);$e(this,ya);$e(this,as);$e(this,Jc);$e(this,Lo);$e(this,$o);$e(this,xi);$e(this,gi);$e(this,ja);$e(this,zo,new Set);this.options=n,ye(this,Vn,t),ye(this,as,null),ye(this,ya,_p()),this.options.experimental_prefetchInRender||I(this,ya).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,at).addObserver(this),m0(I(this,at),this.options)?Ze(this,ht,Rl).call(this):this.updateResult(),Ze(this,ht,Tp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rp(I(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rp(I(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,ht,Ap).call(this),Ze(this,ht,Dp).call(this),I(this,at).removeObserver(this)}setOptions(t,n){const s=this.options,a=I(this,at);if(this.options=I(this,Vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lr(this.options.enabled,I(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,ht,Ip).call(this),I(this,at).setOptions(this.options),s._defaulted&&!Bu(this.options,s)&&I(this,Vn).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,at),observer:this});const i=this.hasListeners();i&&p0(I(this,at),a,this.options,s)&&Ze(this,ht,Rl).call(this),this.updateResult(n),i&&(I(this,at)!==a||Lr(this.options.enabled,I(this,at))!==Lr(s.enabled,I(this,at))||vo(this.options.staleTime,I(this,at))!==vo(s.staleTime,I(this,at)))&&Ze(this,ht,Ep).call(this);const o=Ze(this,ht,Pp).call(this);i&&(I(this,at)!==a||Lr(this.options.enabled,I(this,at))!==Lr(s.enabled,I(this,at))||o!==I(this,ja))&&Ze(this,ht,Mp).call(this,o)}getOptimisticResult(t){const n=I(this,Vn).getQueryCache().build(I(this,Vn),t),s=this.createResult(n,t);return rA(this,s)&&(ye(this,Mn,s),ye(this,Fo,this.options),ye(this,pi,I(this,at).state)),s}getCurrentResult(){return I(this,Mn)}trackResult(t,n){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),s}trackProp(t){I(this,zo).add(t)}getCurrentQuery(){return I(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=I(this,Vn).defaultQueryOptions(t),s=I(this,Vn).getQueryCache().build(I(this,Vn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Ze(this,ht,Rl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Mn)))}createResult(t,n){var T;const s=I(this,at),a=this.options,i=I(this,Mn),o=I(this,pi),l=I(this,Fo),d=t!==s?t.state:I(this,Xc),{state:u}=t;let f={...u},h=!1,y;if(n._optimisticResults){const E=this.hasListeners(),M=!E&&m0(t,n),B=E&&p0(t,s,n,a);(M||B)&&(f={...f,...$1(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:j,errorUpdatedAt:g,status:v}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===I(this,Jc))y=I(this,Lo);else try{ye(this,Jc,n.select),y=n.select(f.data),y=kp(i==null?void 0:i.data,y,n),ye(this,Lo,y),ye(this,as,null)}catch(E){ye(this,as,E)}else y=f.data;if(n.placeholderData!==void 0&&y===void 0&&v==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((T=I(this,$o))==null?void 0:T.state.data,I(this,$o)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),ye(this,as,null)}catch(M){ye(this,as,M)}E!==void 0&&(v="success",y=kp(i==null?void 0:i.data,E,n),h=!0)}I(this,as)&&(j=I(this,as),y=I(this,Lo),g=Date.now(),v="error");const x=f.fetchStatus==="fetching",p=v==="pending",w=v==="error",N=p&&x,b=y!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:p,isSuccess:v==="success",isError:w,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:f.dataUpdatedAt,error:j,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:w&&!b,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&b,isStale:Cg(t,n),refetch:this.refetch,promise:I(this,ya)};if(this.options.experimental_prefetchInRender){const E=Q=>{k.status==="error"?Q.reject(k.error):k.data!==void 0&&Q.resolve(k.data)},M=()=>{const Q=ye(this,ya,k.promise=_p());E(Q)},B=I(this,ya);switch(B.status){case"pending":t.queryHash===s.queryHash&&E(B);break;case"fulfilled":(k.status==="error"||k.data!==B.value)&&M();break;case"rejected":(k.status!=="error"||k.error!==B.reason)&&M();break}}return k}updateResult(t){const n=I(this,Mn),s=this.createResult(I(this,at),this.options);if(ye(this,pi,I(this,at).state),ye(this,Fo,this.options),I(this,pi).data!==void 0&&ye(this,$o,I(this,at)),Bu(s,n))return;ye(this,Mn,s);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!I(this,zo).size)return!0;const c=new Set(l??I(this,zo));return this.options.throwOnError&&c.add("error"),Object.keys(I(this,Mn)).some(d=>{const u=d;return I(this,Mn)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Ze(this,ht,V1).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,ht,Tp).call(this)}},Vn=new WeakMap,at=new WeakMap,Xc=new WeakMap,Mn=new WeakMap,pi=new WeakMap,Fo=new WeakMap,ya=new WeakMap,as=new WeakMap,Jc=new WeakMap,Lo=new WeakMap,$o=new WeakMap,xi=new WeakMap,gi=new WeakMap,ja=new WeakMap,zo=new WeakMap,ht=new WeakSet,Rl=function(t){Ze(this,ht,Ip).call(this);let n=I(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(jr)),n},Ep=function(){Ze(this,ht,Ap).call(this);const t=vo(this.options.staleTime,I(this,at));if(_i||I(this,Mn).isStale||!Sp(t))return;const s=A1(I(this,Mn).dataUpdatedAt,t)+1;ye(this,xi,setTimeout(()=>{I(this,Mn).isStale||this.updateResult()},s))},Pp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,at)):this.options.refetchInterval)??!1},Mp=function(t){Ze(this,ht,Dp).call(this),ye(this,ja,t),!(_i||Lr(this.options.enabled,I(this,at))===!1||!Sp(I(this,ja))||I(this,ja)===0)&&ye(this,gi,setInterval(()=>{(this.options.refetchIntervalInBackground||Sg.isFocused())&&Ze(this,ht,Rl).call(this)},I(this,ja)))},Tp=function(){Ze(this,ht,Ep).call(this),Ze(this,ht,Mp).call(this,Ze(this,ht,Pp).call(this))},Ap=function(){I(this,xi)&&(clearTimeout(I(this,xi)),ye(this,xi,void 0))},Dp=function(){I(this,gi)&&(clearInterval(I(this,gi)),ye(this,gi,void 0))},Ip=function(){const t=I(this,Vn).getQueryCache().build(I(this,Vn),this.options);if(t===I(this,at))return;const n=I(this,at);ye(this,at,t),ye(this,Xc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},V1=function(t){en.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(I(this,Mn))}),I(this,Vn).getQueryCache().notify({query:I(this,at),type:"observerResultsUpdated"})})},Qj);function nA(e,t){return Lr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function m0(e,t){return nA(e,t)||e.state.data!==void 0&&Rp(e,t,t.refetchOnMount)}function Rp(e,t,n){if(Lr(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Cg(e,t)}return!1}function p0(e,t,n,s){return(e!==t||Lr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Cg(e,n)}function Cg(e,t){return Lr(t.enabled,e)!==!1&&e.isStaleByTime(vo(t.staleTime,e))}function rA(e,t){return!Bu(e.getCurrentResult(),t)}var wa,Na,Un,Rs,Qs,hu,Op,qj,sA=(qj=class extends ll{constructor(n,s){super();$e(this,Qs);$e(this,wa);$e(this,Na);$e(this,Un);$e(this,Rs);ye(this,wa,n),this.setOptions(s),this.bindMethods(),Ze(this,Qs,hu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=I(this,wa).defaultMutationOptions(n),Bu(this.options,s)||I(this,wa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,Un),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ei(s.mutationKey)!==Ei(this.options.mutationKey)?this.reset():((a=I(this,Un))==null?void 0:a.state.status)==="pending"&&I(this,Un).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=I(this,Un))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,Qs,hu).call(this),Ze(this,Qs,Op).call(this,n)}getCurrentResult(){return I(this,Na)}reset(){var n;(n=I(this,Un))==null||n.removeObserver(this),ye(this,Un,void 0),Ze(this,Qs,hu).call(this),Ze(this,Qs,Op).call(this)}mutate(n,s){var a;return ye(this,Rs,s),(a=I(this,Un))==null||a.removeObserver(this),ye(this,Un,I(this,wa).getMutationCache().build(I(this,wa),this.options)),I(this,Un).addObserver(this),I(this,Un).execute(n)}},wa=new WeakMap,Na=new WeakMap,Un=new WeakMap,Rs=new WeakMap,Qs=new WeakSet,hu=function(){var s;const n=((s=I(this,Un))==null?void 0:s.state)??z1();ye(this,Na,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Op=function(n){en.batch(()=>{var s,a,i,o,l,c,d,u;if(I(this,Rs)&&this.hasListeners()){const f=I(this,Na).variables,h=I(this,Na).context;(n==null?void 0:n.type)==="success"?((a=(s=I(this,Rs)).onSuccess)==null||a.call(s,n.data,f,h),(o=(i=I(this,Rs)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(l=I(this,Rs)).onError)==null||c.call(l,n.error,f,h),(u=(d=I(this,Rs)).onSettled)==null||u.call(d,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(I(this,Na))})})},qj),U1=m.createContext(void 0),kg=e=>{const t=m.useContext(U1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},aA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(U1.Provider,{value:e,children:t})),Q1=m.createContext(!1),iA=()=>m.useContext(Q1);Q1.Provider;function oA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lA=m.createContext(oA()),cA=()=>m.useContext(lA);function q1(e,t){return typeof e=="function"?e(...t):!!e}function Fp(){}var dA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},uA=e=>{m.useEffect(()=>{e.clearReset()},[e])},fA=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&q1(n,[e.error,s]),hA=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},mA=(e,t)=>e.isLoading&&e.isFetching&&!t,pA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,x0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function xA(e,t,n){var u,f,h,y,j;const s=kg(),a=iA(),i=cA(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",hA(o),dA(o,i),uA(i);const l=!s.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const v=a?Fp:c.subscribe(en.batchCalls(g));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),pA(o,d))throw x0(o,c,i);if(fA({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,o,d),o.experimental_prefetchInRender&&!_i&&mA(d,a)){const g=l?x0(o,c,i):(j=s.getQueryCache().get(o.queryHash))==null?void 0:j.promise;g==null||g.catch(Fp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Pe(e,t){return xA(e,tA)}function De(e,t){const n=kg(),[s]=m.useState(()=>new sA(n,e));m.useEffect(()=>{s.setOptions(e)},[s,e]);const a=m.useSyncExternalStore(m.useCallback(o=>s.subscribe(en.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=m.useCallback((o,l)=>{s.mutate(o,l).catch(Fp)},[s]);if(a.error&&q1(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function gA(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var B1={exports:{}},W1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=m;function vA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yA=typeof Object.is=="function"?Object.is:vA,jA=Ko.useState,wA=Ko.useEffect,NA=Ko.useLayoutEffect,bA=Ko.useDebugValue;function SA(e,t){var n=t(),s=jA({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return NA(function(){a.value=n,a.getSnapshot=t,em(a)&&i({inst:a})},[e,n,t]),wA(function(){return em(a)&&i({inst:a}),e(function(){em(a)&&i({inst:a})})},[e]),bA(n),n}function em(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yA(e,n)}catch{return!0}}function CA(e,t){return t()}var kA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CA:SA;W1.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:kA;B1.exports=W1;var _A=B1.exports;const EA=EN.useInsertionEffect,PA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H1=PA?m.useLayoutEffect:m.useEffect,MA=EA||H1,_g=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return MA(()=>{t[0]=e}),t[1]},TA="popstate",Eg="pushState",Pg="replaceState",AA="hashchange",g0=[TA,Eg,Pg,AA],DA=e=>{for(const t of g0)addEventListener(t,e);return()=>{for(const t of g0)removeEventListener(t,e)}},K1=(e,t)=>_A.useSyncExternalStore(DA,e,t),IA=()=>location.search,RA=({ssrSearch:e=""}={})=>K1(IA,()=>e),v0=()=>location.pathname,OA=({ssrPath:e}={})=>K1(v0,e?()=>e:v0),FA=(e,{replace:t=!1,state:n=null}={})=>history[t?Pg:Eg](n,"",e),LA=(e={})=>[OA(e),FA],y0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[y0]>"u"){for(const e of[Eg,Pg]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,y0,{value:!0})}const $A=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",G1=(e="")=>e==="/"?"":e,zA=(e,t)=>e[0]==="~"?e.slice(1):G1(t)+e,VA=(e="",t)=>$A(j0(G1(e)),j0(t)),j0=e=>{try{return decodeURI(e)}catch{return e}},Y1={hook:LA,searchHook:RA,parser:gA,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Z1=m.createContext(Y1),ad=()=>m.useContext(Z1),X1={},J1=m.createContext(X1),UA=()=>m.useContext(J1),$f=e=>{const[t,n]=e.hook(e);return[VA(e.base,t),_g((s,a)=>n(zA(s,e.base),a))]},Zr=()=>$f(ad()),eS=(e,t,n,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},QA=({children:e,...t})=>{var u,f;const n=ad(),s=t.hook?Y1:n;let a=s;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,d=c;for(let h in s){const y=h==="base"?s[h]+(t[h]||""):t[h]||s[h];c===d&&y!==d[h]&&(l.current=d={...d}),d[h]=y,y!==s[h]&&(a=d)}return m.createElement(Z1.Provider,{value:a,children:e})},w0=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,qA=e=>{let t=m.useRef(X1),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},ts=({path:e,nest:t,match:n,...s})=>{const a=ad(),[i]=$f(a),[o,l,c]=n??eS(a.parser,e,i,t),d=qA({...UA(),...l});if(!o)return null;const u=c?m.createElement(QA,{base:c},w0(s,d)):w0(s,d);return m.createElement(J1.Provider,{value:d,children:u})},kr=m.forwardRef((e,t)=>{const n=ad(),[s,a]=$f(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:f,state:h,...y}=e,j=_g(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),a(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:j,href:g}):m.createElement("a",{...y,onClick:j,href:g,className:u!=null&&u.call?u(s===o):u,children:d,ref:t})}),tS=e=>Array.isArray(e)?e.flatMap(t=>tS(t&&t.type===m.Fragment?t.props.children:t)):[e],BA=({children:e,location:t})=>{const n=ad(),[s]=$f(n);for(const a of tS(e)){let i=0;if(m.isValidElement(a)&&(i=eS(n.parser,a.props.path,t||s,a.props.nest))[0])return m.cloneElement(a,{match:i})}return null},WA=e=>{const{to:t,href:n=t}=e,[,s]=Zr(),a=_g(()=>s(t||n,e));return H1(()=>{a()},[]),null},HA=1,KA=1e6;let tm=0;function GA(){return tm=(tm+1)%Number.MAX_SAFE_INTEGER,tm.toString()}const nm=new Map,N0=e=>{if(nm.has(e))return;const t=setTimeout(()=>{nm.delete(e),Yl({type:"REMOVE_TOAST",toastId:e})},KA);nm.set(e,t)},YA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},mu=[];let Ol={toasts:[]};function Yl(e){if(Ol=YA(Ol,e),e.type==="DISMISS_TOAST"){const{toastId:t}=e;t?N0(t):Ol.toasts.forEach(n=>{n.open||N0(n.id)})}mu.forEach(t=>{t(Ol)})}function ZA({...e}){const t=GA(),n=a=>Yl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Yl({type:"DISMISS_TOAST",toastId:t});return Yl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Qt(){const[e,t]=m.useState(Ol);return m.useEffect(()=>(mu.push(t),()=>{const n=mu.indexOf(t);n>-1&&mu.splice(n,1)}),[e]),{...e,toast:ZA,dismiss:n=>Yl({type:"DISMISS_TOAST",toastId:n})}}function ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function XA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function zf(...e){return t=>e.forEach(n=>XA(n,t))}function et(...e){return m.useCallback(zf(...e),e)}function JA(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:y,...j}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:v,children:y})}function u(f,h){const y=(h==null?void 0:h[e][c])||l,j=m.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,eD(a,...t)]}function eD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var vs=m.forwardRef((e,t)=>{const{children:n,...s}=e,a=m.Children.toArray(n),i=a.find(tD);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return r.jsx(Lp,{...s,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return r.jsx(Lp,{...s,ref:t,children:n})});vs.displayName="Slot";var Lp=m.forwardRef((e,t)=>{const{children:n,...s}=e;if(m.isValidElement(n)){const a=rD(n);return m.cloneElement(n,{...nD(s,n.props),ref:t?zf(t,a):a})}return m.Children.count(n)>1?m.Children.only(null):null});Lp.displayName="SlotClone";var Mg=({children:e})=>r.jsx(r.Fragment,{children:e});function tD(e){return m.isValidElement(e)&&e.type===Mg}function nD(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function rD(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function id(e){const t=e+"CollectionProvider",[n,s]=JA(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:g}=y,v=ge.useRef(null),x=ge.useRef(new Map).current;return r.jsx(a,{scope:j,itemMap:x,collectionRef:v,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=ge.forwardRef((y,j)=>{const{scope:g,children:v}=y,x=i(l,g),p=et(j,x.collectionRef);return r.jsx(vs,{ref:p,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=ge.forwardRef((y,j)=>{const{scope:g,children:v,...x}=y,p=ge.useRef(null),w=et(j,p),N=i(d,g);return ge.useEffect(()=>(N.itemMap.set(p,{ref:p,...x}),()=>void N.itemMap.delete(p))),r.jsx(vs,{[u]:"",ref:w,children:v})});f.displayName=d;function h(y){const j=i(e+"CollectionConsumer",y);return ge.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(j.itemMap.values()).sort((N,b)=>x.indexOf(N.ref.current)-x.indexOf(b.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,s]}function sD(e,t){const n=m.createContext(t),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function tr(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:h,children:y,...j}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=m.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:v,children:y})};d.displayName=i+"Provider";function u(f,h){var g;const y=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,j=m.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,aD(a,...t)]}function aD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var iD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=iD.reduce((e,t)=>{const n=m.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?vs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tg(e,t){e&&$i.flushSync(()=>e.dispatchEvent(t))}function mn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function oD(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var lD="DismissableLayer",$p="dismissableLayer.update",cD="dismissableLayer.pointerDownOutside",dD="dismissableLayer.focusOutside",b0,nS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zi=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(nS),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),j=et(t,k=>f(k)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),p=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=p>=x,b=fD(k=>{const T=k.target,E=[...d.branches].some(M=>M.contains(T));!N||E||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),_=hD(k=>{const T=k.target;[...d.branches].some(M=>M.contains(T))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return oD(k=>{p===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(b0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),S0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=b0)}},[u,h,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),S0())},[u,d]),m.useEffect(()=>{const k=()=>y({});return document.addEventListener($p,k),()=>document.removeEventListener($p,k)},[]),r.jsx(_e.div,{...c,ref:j,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,b.onPointerDownCapture)})});zi.displayName=lD;var uD="DismissableLayerBranch",rS=m.forwardRef((e,t)=>{const n=m.useContext(nS),s=m.useRef(null),a=et(t,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(_e.div,{...e,ref:a})});rS.displayName=uD;function fD(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){sS(cD,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function hD(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&sS(dD,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function S0(){const e=new CustomEvent($p);document.dispatchEvent(e)}function sS(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Tg(a,i):a.dispatchEvent(i)}var mD=zi,pD=rS,sn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},xD="Portal",cl=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=m.useState(!1);sn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?$4.createPortal(r.jsx(_e.div,{...s,ref:t}),o):null});cl.displayName=xD;function gD(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Ln=e=>{const{present:t,children:n}=e,s=vD(t),a=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=et(s.ref,yD(a));return typeof n=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};Ln.displayName="Presence";function vD(e){const[t,n]=m.useState(),s=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=gD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Bd(s.current);i.current=l==="mounted"?d:"none"},[l]),sn(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,y=Bd(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),sn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=y=>{const g=Bd(s.current).includes(y.animationName);if(y.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=y=>{y.target===t&&(i.current=Bd(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(s.current=getComputedStyle(d)),n(d)},[])}}function Bd(e){return(e==null?void 0:e.animationName)||"none"}function yD(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function er({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=jD({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:s,l=mn(n),c=m.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function jD({defaultProp:e,onChange:t}){const n=m.useState(e),[s]=n,a=m.useRef(s),i=mn(t);return m.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}var wD="VisuallyHidden",od=m.forwardRef((e,t)=>r.jsx(_e.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));od.displayName=wD;var ND=od,Ag="ToastProvider",[Dg,bD,SD]=id("Toast"),[aS,G9]=tr("Toast",[SD]),[CD,Vf]=aS(Ag),iS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ag}\`. Expected non-empty \`string\`.`),r.jsx(Dg.Provider,{scope:t,children:r.jsx(CD,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(y=>y+1),[]),onToastRemove:m.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};iS.displayName=Ag;var oS="ToastViewport",kD=["F8"],zp="toast.viewportPause",Vp="toast.viewportResume",lS=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=kD,label:a="Notifications ({hotkey})",...i}=e,o=Vf(oS,n),l=bD(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=et(t,f,o.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;m.useEffect(()=>{const v=x=>{var w;s.length!==0&&s.every(N=>x[N]||x.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),m.useEffect(()=>{const v=c.current,x=f.current;if(j&&v&&x){const p=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(zp);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Vp);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},N=_=>{!v.contains(_.relatedTarget)&&w()},b=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",p),v.addEventListener("focusout",N),v.addEventListener("pointermove",p),v.addEventListener("pointerleave",b),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",p),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",p),v.removeEventListener("pointerleave",b),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:v})=>{const p=l().map(w=>{const N=w.ref.current,b=[N,...$D(N)];return v==="forwards"?b:b.reverse()});return(v==="forwards"?p.reverse():p).flat()},[l]);return m.useEffect(()=>{const v=f.current;if(v){const x=p=>{var b,_,k;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const T=document.activeElement,E=p.shiftKey;if(p.target===v&&E){(b=d.current)==null||b.focus();return}const Q=g({tabbingDirection:E?"backwards":"forwards"}),z=Q.findIndex($=>$===T);rm(Q.slice(z+1))?p.preventDefault():E?(_=d.current)==null||_.focus():(k=u.current)==null||k.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),r.jsxs(pD,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Up,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});rm(v)}}),r.jsx(Dg.Slot,{scope:n,children:r.jsx(_e.ol,{tabIndex:-1,...i,ref:h})}),j&&r.jsx(Up,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});rm(v)}})]})});lS.displayName=oS;var cS="ToastFocusProxy",Up=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=Vf(cS,n);return r.jsx(od,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Up.displayName=cS;var Uf="Toast",_D="toast.swipeStart",ED="toast.swipeMove",PD="toast.swipeCancel",MD="toast.swipeEnd",dS=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=er({prop:s,defaultProp:a,onChange:i});return r.jsx(Ln,{present:n||l,children:r.jsx(DD,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:mn(e.onPause),onResume:mn(e.onResume),onSwipeStart:ue(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});dS.displayName=Uf;var[TD,AD]=aS(Uf,{onClose(){}}),DD=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...j}=e,g=Vf(Uf,n),[v,x]=m.useState(null),p=et(t,$=>x($)),w=m.useRef(null),N=m.useRef(null),b=a||g.duration,_=m.useRef(0),k=m.useRef(b),T=m.useRef(0),{onToastAdd:E,onToastRemove:M}=g,B=mn(()=>{var H;(v==null?void 0:v.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),Q=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),_.current=new Date().getTime(),T.current=window.setTimeout(B,$))},[B]);m.useEffect(()=>{const $=g.viewport;if($){const H=()=>{Q(k.current),d==null||d()},Y=()=>{const C=new Date().getTime()-_.current;k.current=k.current-C,window.clearTimeout(T.current),c==null||c()};return $.addEventListener(zp,Y),$.addEventListener(Vp,H),()=>{$.removeEventListener(zp,Y),$.removeEventListener(Vp,H)}}},[g.viewport,b,c,d,Q]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&Q(b)},[i,b,g.isClosePausedRef,Q]),m.useEffect(()=>(E(),()=>M()),[E,M]);const z=m.useMemo(()=>v?gS(v):null,[v]);return g.viewport?r.jsxs(r.Fragment,{children:[z&&r.jsx(ID,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),r.jsx(TD,{scope:n,onClose:B,children:$i.createPortal(r.jsx(Dg.ItemSlot,{scope:n,children:r.jsx(mD,{asChild:!0,onEscapeKeyDown:ue(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ue(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:ue(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:ue(e.onPointerMove,$=>{if(!w.current)return;const H=$.clientX-w.current.x,Y=$.clientY-w.current.y,C=!!N.current,P=["left","right"].includes(g.swipeDirection),q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=P?q(0,H):0,ie=P?0:q(0,Y),V=$.pointerType==="touch"?10:2,ee={x:G,y:ie},Z={originalEvent:$,delta:ee};C?(N.current=ee,Wd(ED,f,Z,{discrete:!1})):C0(ee,g.swipeDirection,V)?(N.current=ee,Wd(_D,u,Z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(H)>V||Math.abs(Y)>V)&&(w.current=null)}),onPointerUp:ue(e.onPointerUp,$=>{const H=N.current,Y=$.target;if(Y.hasPointerCapture($.pointerId)&&Y.releasePointerCapture($.pointerId),N.current=null,w.current=null,H){const C=$.currentTarget,P={originalEvent:$,delta:H};C0(H,g.swipeDirection,g.swipeThreshold)?Wd(MD,y,P,{discrete:!0}):Wd(PD,h,P,{discrete:!0}),C.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ID=e=>{const{__scopeToast:t,children:n,...s}=e,a=Vf(Uf,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return FD(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(cl,{asChild:!0,children:r.jsx(od,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},RD="ToastTitle",uS=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(_e.div,{...s,ref:t})});uS.displayName=RD;var OD="ToastDescription",fS=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(_e.div,{...s,ref:t})});fS.displayName=OD;var hS="ToastAction",mS=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(xS,{altText:n,asChild:!0,children:r.jsx(Ig,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hS}\`. Expected non-empty \`string\`.`),null)});mS.displayName=hS;var pS="ToastClose",Ig=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=AD(pS,n);return r.jsx(xS,{asChild:!0,children:r.jsx(_e.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,a.onClose)})})});Ig.displayName=pS;var xS=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function gS(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),LD(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...gS(s))}}),t}function Wd(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Tg(a,i):a.dispatchEvent(i)}var C0=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function FD(e=()=>{}){const t=mn(e);sn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function LD(e){return e.nodeType===e.ELEMENT_NODE}function $D(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zD=iS,vS=lS,yS=dS,jS=uS,wS=fS,NS=mS,bS=Ig;function SS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=SS(e[t]))&&(s&&(s+=" "),s+=n);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function VD(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=SS(e))&&(s&&(s+=" "),s+=t);return s}const k0=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,_0=VD,ld=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return _0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const h=k0(u)||k0(f);return a[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:h,...y}=u;return Object.entries(y).every(j=>{let[g,v]=j;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,f,h]:d},[]);return _0(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CS=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...QD,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:CS("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=m.forwardRef(({className:s,...a},i)=>m.createElement(qD,{ref:i,iconNode:t,className:CS(`lucide-${UD(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=pe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=pe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=pe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=pe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=pe("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=pe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=pe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=pe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=pe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=pe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=pe("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=pe("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=pe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=pe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=pe("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function DS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=DS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function yI(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=DS(e))&&(s&&(s+=" "),s+=t);return s}const Fg="-",jI=e=>{const t=NI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Fg);return l[0]===""&&l.length!==1&&l.shift(),IS(l,t)||wI(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},IS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?IS(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Fg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},A0=/^\[(.+)\]$/,wI=e=>{if(A0.test(e)){const t=A0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NI=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return SI(Object.entries(e.classGroups),n).forEach(([i,o])=>{Kp(o,s,i,t)}),s},Kp=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:D0(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(bI(a)){Kp(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Kp(o,D0(t,i),n,s)})})},D0=(e,t)=>{let n=e;return t.split(Fg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},bI=e=>e.isThemeGetter,SI=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,CI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},RS="!",kI=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(d===0){if(x===a&&(s||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(x==="/"){f=v;continue}}x==="["?d++:x==="]"&&d--}const h=c.length===0?l:l.substring(u),y=h.startsWith(RS),j=y?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},_I=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},EI=e=>({cache:CI(e.cacheSize),parseClassName:kI(e),...jI(e)}),PI=/\s+/,MI=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(PI);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(d);let j=!!y,g=s(j?h.substring(0,y):h);if(!g){if(!j){l=d+(l.length>0?" "+l:l);continue}if(g=s(h),!g){l=d+(l.length>0?" "+l:l);continue}j=!1}const v=_I(u).join(":"),x=f?v+RS:v,p=x+g;if(i.includes(p))continue;i.push(p);const w=a(g,j);for(let N=0;N<w.length;++N){const b=w[N];i.push(x+b)}l=d+(l.length>0?" "+l:l)}return l};function TI(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=OS(t))&&(s&&(s+=" "),s+=n);return s}const OS=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=OS(e[s]))&&(n&&(n+=" "),n+=t);return n};function AI(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=EI(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=MI(c,n);return a(c,u),u}return function(){return i(TI.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},FS=/^\[(?:([a-z-]+):)?(.+)\]$/i,DI=/^\d+\/\d+$/,II=new Set(["px","full","screen"]),RI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$I=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=e=>wo(e)||II.has(e)||DI.test(e),ra=e=>dl(e,"length",HI),wo=e=>!!e&&!Number.isNaN(Number(e)),im=e=>dl(e,"number",wo),Sl=e=>!!e&&Number.isInteger(Number(e)),zI=e=>e.endsWith("%")&&wo(e.slice(0,-1)),Ye=e=>FS.test(e),sa=e=>RI.test(e),VI=new Set(["length","size","percentage"]),UI=e=>dl(e,VI,LS),QI=e=>dl(e,"position",LS),qI=new Set(["image","url"]),BI=e=>dl(e,qI,GI),WI=e=>dl(e,"",KI),Cl=()=>!0,dl=(e,t,n)=>{const s=FS.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},HI=e=>OI.test(e)&&!FI.test(e),LS=()=>!1,KI=e=>LI.test(e),GI=e=>$I.test(e),YI=()=>{const e=St("colors"),t=St("spacing"),n=St("blur"),s=St("brightness"),a=St("borderColor"),i=St("borderRadius"),o=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),d=St("grayscale"),u=St("hueRotate"),f=St("invert"),h=St("gap"),y=St("gradientColorStops"),j=St("gradientColorStopPositions"),g=St("inset"),v=St("margin"),x=St("opacity"),p=St("padding"),w=St("saturate"),N=St("scale"),b=St("sepia"),_=St("skew"),k=St("space"),T=St("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Ye,t],Q=()=>[Ye,t],z=()=>["",Es,ra],$=()=>["auto",wo,Ye],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Ye],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[wo,Ye];return{cacheSize:500,separator:":",theme:{colors:[Cl],spacing:[Es,ra],blur:["none","",sa,Ye],brightness:ie(),borderColor:[e],borderRadius:["none","","full",sa,Ye],borderSpacing:Q(),borderWidth:z(),contrast:ie(),grayscale:q(),hueRotate:ie(),invert:q(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[zI,ra],inset:B(),margin:B(),opacity:ie(),padding:Q(),saturate:ie(),scale:ie(),sepia:q(),skew:ie(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ye]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sl,Ye]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Sl,Ye]}],"grid-cols":[{"grid-cols":[Cl]}],"col-start-end":[{col:["auto",{span:["full",Sl,Ye]},Ye]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Cl]}],"row-start-end":[{row:["auto",{span:[Sl,Ye]},Ye]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",im]}],"font-family":[{font:[Cl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",wo,im]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,ra]}],"underline-offset":[{"underline-offset":["auto",Es,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),QI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Es,Ye]}],"outline-w":[{outline:[Es,ra]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Es,ra]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sa,WI]}],"shadow-color":[{shadow:[Cl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sa,Ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Sl,Ye]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Es,ra,im]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZI=AI(YI);function J(...e){return ZI(yI(e))}const XI=zD,$S=m.forwardRef(({className:e,...t},n)=>r.jsx(vS,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));$S.displayName=vS.displayName;const JI=ld("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zS=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(yS,{ref:s,className:J(JI({variant:t}),e),...n}));zS.displayName=yS.displayName;const eR=m.forwardRef(({className:e,...t},n)=>r.jsx(NS,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eR.displayName=NS.displayName;const VS=m.forwardRef(({className:e,...t},n)=>r.jsx(bS,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(dd,{className:"h-4 w-4"})}));VS.displayName=bS.displayName;const US=m.forwardRef(({className:e,...t},n)=>r.jsx(jS,{ref:n,className:J("text-sm font-semibold",e),...t}));US.displayName=jS.displayName;const QS=m.forwardRef(({className:e,...t},n)=>r.jsx(wS,{ref:n,className:J("text-sm opacity-90",e),...t}));QS.displayName=wS.displayName;function tR(){const{toasts:e}=Qt();return r.jsxs(XI,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(zS,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(US,{children:n}),s&&r.jsx(QS,{children:s})]}),a,r.jsx(VS,{})]},t)}),r.jsx($S,{})]})}const le=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const Le=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const ze=m.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));ze.displayName="CardTitle";const ut=m.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:J("text-sm text-muted-foreground",e),...t}));ut.displayName="CardDescription";const de=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:J("p-6 pt-0",e),...t}));de.displayName="CardContent";const js=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",e),...t}));js.displayName="CardFooter";function nR(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(le,{className:"w-full max-w-md mx-4",children:r.jsxs(de,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Fa,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}async function qS(e,t,n){if(!e.ok){const s=e.headers.get("content-type")||"";let a=null;try{s.includes("application/json")?a=await e.json():a=await e.text()}catch{a=e.statusText}const i=new Error(typeof a=="string"?a:(a==null?void 0:a.message)||e.statusText||`Request failed with status ${e.status}`);throw i.status=e.status,i.statusText=e.statusText,i.responseData=a,i.endpoint=n,i.method=t,i}}async function ve(e,t,n){const s=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await qS(s,e,t),s}function BS(e){if(e instanceof Error){const t=e;if(t.status){const n=t.endpoint?` (${t.endpoint})`:"";switch(t.status){case 401:return{title:"Authentication Error",message:"You are not authenticated. Please log in again.",details:`${t.message}${n}`};case 403:return{title:"Access Denied",message:"You don't have permission to perform this action.",details:`${t.message}${n}`};case 404:return{title:"Not Found",message:"The requested resource was not found.",details:`${t.message}${n}`};case 422:return{title:"Validation Error",message:"The submitted data is invalid.",details:`${t.message}${n}`};case 500:return{title:"Server Error",message:"Something went wrong on the server. Please try again later.",details:`${t.message}${n}`};default:return{title:`Error (${t.status})`,message:t.message,details:JSON.stringify(t.responseData,null,2)}}}return{title:"Error",message:e.message,details:e.stack}}return{title:"Unknown Error",message:"An unexpected error occurred.",details:e?JSON.stringify(e,null,2):void 0}}const WS=({on401:e})=>async({queryKey:t})=>{const n=t[0],s=await fetch(n,{credentials:"include"});return e==="returnNull"&&s.status===401?null:(await qS(s,"GET",n),await s.json())},rt=new eA({defaultOptions:{queries:{queryFn:WS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),HS=m.createContext(null);function rR({children:e}){const{toast:t}=Qt(),{data:n,error:s,isLoading:a}=Pe({queryKey:["/api/user"],queryFn:WS({on401:"returnNull"})}),i=De({mutationFn:async c=>await(await ve("POST","/api/login",c)).json(),onSuccess:c=>{rt.setQueryData(["/api/user"],c),t({title:"Login successful",description:`Welcome back, ${c.fullName||c.username}!`})},onError:c=>{t({title:"Login failed",description:c.message,variant:"destructive"})}}),o=De({mutationFn:async c=>await(await ve("POST","/api/register",c)).json(),onSuccess:c=>{rt.setQueryData(["/api/user"],c),t({title:"Registration successful",description:`Welcome, ${c.fullName||c.username}!`})},onError:c=>{t({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=De({mutationFn:async()=>{await ve("POST","/api/logout")},onSuccess:()=>{rt.setQueryData(["/api/user"],null),t({title:"Logged out",description:"You have been successfully logged out."})},onError:c=>{t({title:"Logout failed",description:c.message,variant:"destructive"})}});return r.jsx(HS.Provider,{value:{user:n??null,isLoading:a,error:s,loginMutation:i,logoutMutation:l,registerMutation:o},children:e})}function _n(){const e=m.useContext(HS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var ud=e=>e.type==="checkbox",di=e=>e instanceof Date,An=e=>e==null;const KS=e=>typeof e=="object";var Ht=e=>!An(e)&&!Array.isArray(e)&&KS(e)&&!di(e),GS=e=>Ht(e)&&e.target?ud(e.target)?e.target.checked:e.target.value:e,sR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YS=(e,t)=>e.has(sR(t)),aR=e=>{const t=e.constructor&&e.constructor.prototype;return Ht(t)&&t.hasOwnProperty("isPrototypeOf")},Lg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Lg&&(e instanceof Blob||e instanceof FileList))&&(n||Ht(e)))if(t=n?[]:{},!n&&!aR(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=zn(e[s]));else return e;return t}var Bf=e=>Array.isArray(e)?e.filter(Boolean):[],Vt=e=>e===void 0,me=(e,t,n)=>{if(!t||!Ht(e))return n;const s=Bf(t.split(/[,[\].]+?/)).reduce((a,i)=>An(a)?a:a[i],e);return Vt(s)||s===e?Vt(e[t])?n:e[t]:s},Nr=e=>typeof e=="boolean",$g=e=>/^\w*$/.test(e),ZS=e=>Bf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ft=(e,t,n)=>{let s=-1;const a=$g(t)?[t]:ZS(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=n;if(s!==o){const d=e[l];c=Ht(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Hu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XS=ge.createContext(null),Wf=()=>ge.useContext(XS),iR=e=>{const{children:t,...n}=e;return ge.createElement(XS.Provider,{value:n},t)};var JS=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$r.all&&(t._proxyFormState[o]=!s||$r.all),n&&(n[o]=!0),e[o]}});return a},Qn=e=>Ht(e)&&!Object.keys(e).length,eC=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return Qn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||$r.all))},Xl=e=>Array.isArray(e)?e:[e],tC=(e,t,n)=>!e||!t||e===t||Xl(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s)));function zg(e){const t=ge.useRef(e);t.current=e,ge.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function oR(e){const t=Wf(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=ge.useState(n._formState),c=ge.useRef(!0),d=ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ge.useRef(a);return u.current=a,zg({disabled:s,next:f=>c.current&&tC(u.current,f.name,i)&&eC(f,d.current,n._updateFormState)&&l({...n._formState,...f}),subject:n._subjects.state}),ge.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),JS(o,n,d.current,!1)}var ds=e=>typeof e=="string",nC=(e,t,n,s,a)=>ds(e)?(s&&t.watch.add(e),me(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),me(n,i))):(s&&(t.watchAll=!0),n);function lR(e){const t=Wf(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=ge.useRef(s);l.current=s,zg({disabled:i,subject:n._subjects.values,next:u=>{tC(l.current,u.name,o)&&d(zn(nC(l.current,n._names,u.values||n._formValues,!1,a)))}});const[c,d]=ge.useState(n._getWatch(s,a));return ge.useEffect(()=>n._removeUnmounted()),c}function cR(e){const t=Wf(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=YS(a._names.array,n),l=lR({control:a,name:n,defaultValue:me(a._formValues,n,me(a._defaultValues,n,e.defaultValue)),exact:!0}),c=oR({control:a,name:n,exact:!0}),d=ge.useRef(a.register(n,{...e.rules,value:l,...Nr(e.disabled)?{disabled:e.disabled}:{}}));return ge.useEffect(()=>{const u=a._options.shouldUnregister||i,f=(h,y)=>{const j=me(a._fields,h);j&&j._f&&(j._f.mount=y)};if(f(n,!0),u){const h=zn(me(a._options.defaultValues,n));ft(a._defaultValues,n,h),Vt(me(a._formValues,n))&&ft(a._formValues,n,h)}return()=>{(o?u&&!a._state.action:u)?a.unregister(n):f(n,!1)}},[n,a,o,i]),ge.useEffect(()=>{me(a._fields,n)&&a._updateDisabledField({disabled:s,fields:a._fields,name:n,value:me(a._fields,n)._f.value})},[s,n,a]),{field:{name:n,value:l,...Nr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:ge.useCallback(u=>d.current.onChange({target:{value:GS(u),name:n},type:Hu.CHANGE}),[n]),onBlur:ge.useCallback(()=>d.current.onBlur({target:{value:me(a._formValues,n),name:n},type:Hu.BLUR}),[n,a]),ref:ge.useCallback(u=>{const f=me(a._fields,n);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})},[a._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!me(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!me(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!me(c.validatingFields,n)},error:{enumerable:!0,get:()=>me(c.errors,n)}})}}const dR=e=>e.render(cR(e));var rC=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},I0=e=>({isOnSubmit:!e||e===$r.onSubmit,isOnBlur:e===$r.onBlur,isOnChange:e===$r.onChange,isOnAll:e===$r.all,isOnTouch:e===$r.onTouched}),R0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Jl=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=me(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Jl(l,t))break}else if(Ht(l)&&Jl(l,t))break}}};var uR=(e,t,n)=>{const s=Xl(me(e,n));return ft(s,"root",t[n]),ft(e,n,s),e},Vg=e=>e.type==="file",Ls=e=>typeof e=="function",Ku=e=>{if(!Lg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xu=e=>ds(e),Ug=e=>e.type==="radio",Gu=e=>e instanceof RegExp;const O0={value:!1,isValid:!1},F0={value:!0,isValid:!0};var sC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?F0:{value:e[0].value,isValid:!0}:F0:O0}return O0};const L0={isValid:!1,value:null};var aC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,L0):L0;function $0(e,t,n="validate"){if(xu(e)||Array.isArray(e)&&e.every(xu)||Nr(e)&&!e)return{type:n,message:xu(e)?e:"",ref:t}}var qi=e=>Ht(e)&&!Gu(e)?e:{value:e,message:""},z0=async(e,t,n,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:h,validate:y,name:j,valueAsNumber:g,mount:v,disabled:x}=e._f,p=me(t,j);if(!v||x)return{};const w=o?o[0]:i,N=Q=>{s&&w.reportValidity&&(w.setCustomValidity(Nr(Q)?"":Q||""),w.reportValidity())},b={},_=Ug(i),k=ud(i),T=_||k,E=(g||Vg(i))&&Vt(i.value)&&Vt(p)||Ku(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,M=rC.bind(null,j,n,b),B=(Q,z,$,H=Ps.maxLength,Y=Ps.minLength)=>{const C=Q?z:$;b[j]={type:Q?H:Y,message:C,ref:i,...M(Q?H:Y,C)}};if(a?!Array.isArray(p)||!p.length:l&&(!T&&(E||An(p))||Nr(p)&&!p||k&&!sC(o).isValid||_&&!aC(o).isValid)){const{value:Q,message:z}=xu(l)?{value:!!l,message:l}:qi(l);if(Q&&(b[j]={type:Ps.required,message:z,ref:w,...M(Ps.required,z)},!n))return N(z),b}if(!E&&(!An(u)||!An(f))){let Q,z;const $=qi(f),H=qi(u);if(!An(p)&&!isNaN(p)){const Y=i.valueAsNumber||p&&+p;An($.value)||(Q=Y>$.value),An(H.value)||(z=Y<H.value)}else{const Y=i.valueAsDate||new Date(p),C=G=>new Date(new Date().toDateString()+" "+G),P=i.type=="time",q=i.type=="week";ds($.value)&&p&&(Q=P?C(p)>C($.value):q?p>$.value:Y>new Date($.value)),ds(H.value)&&p&&(z=P?C(p)<C(H.value):q?p<H.value:Y<new Date(H.value))}if((Q||z)&&(B(!!Q,$.message,H.message,Ps.max,Ps.min),!n))return N(b[j].message),b}if((c||d)&&!E&&(ds(p)||a&&Array.isArray(p))){const Q=qi(c),z=qi(d),$=!An(Q.value)&&p.length>+Q.value,H=!An(z.value)&&p.length<+z.value;if(($||H)&&(B($,Q.message,z.message),!n))return N(b[j].message),b}if(h&&!E&&ds(p)){const{value:Q,message:z}=qi(h);if(Gu(Q)&&!p.match(Q)&&(b[j]={type:Ps.pattern,message:z,ref:i,...M(Ps.pattern,z)},!n))return N(z),b}if(y){if(Ls(y)){const Q=await y(p,t),z=$0(Q,w);if(z&&(b[j]={...z,...M(Ps.validate,z.message)},!n))return N(z.message),b}else if(Ht(y)){let Q={};for(const z in y){if(!Qn(Q)&&!n)break;const $=$0(await y[z](p,t),w,z);$&&(Q={...$,...M(z,$.message)},N($.message),n&&(b[j]=Q))}if(!Qn(Q)&&(b[j]={ref:w,...Q},!n))return b}}return N(!0),b};function fR(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Vt(e)?s++:e[t[s++]];return e}function hR(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function Xt(e,t){const n=Array.isArray(t)?t:$g(t)?[t]:ZS(t),s=n.length===1?e:fR(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Ht(s)&&Qn(s)||Array.isArray(s)&&hR(s))&&Xt(e,n.slice(0,-1)),e}var om=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Gp=e=>An(e)||!KS(e);function fa(e,t){if(Gp(e)||Gp(t))return e===t;if(di(e)&&di(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(di(i)&&di(o)||Ht(i)&&Ht(o)||Array.isArray(i)&&Array.isArray(o)?!fa(i,o):i!==o)return!1}}return!0}var iC=e=>e.type==="select-multiple",mR=e=>Ug(e)||ud(e),lm=e=>Ku(e)&&e.isConnected,oC=e=>{for(const t in e)if(Ls(e[t]))return!0;return!1};function Yu(e,t={}){const n=Array.isArray(e);if(Ht(e)||n)for(const s in e)Array.isArray(e[s])||Ht(e[s])&&!oC(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Yu(e[s],t[s])):An(e[s])||(t[s]=!0);return t}function lC(e,t,n){const s=Array.isArray(e);if(Ht(e)||s)for(const a in e)Array.isArray(e[a])||Ht(e[a])&&!oC(e[a])?Vt(t)||Gp(n[a])?n[a]=Array.isArray(e[a])?Yu(e[a],[]):{...Yu(e[a])}:lC(e[a],An(t)?{}:t[a],n[a]):n[a]=!fa(e[a],t[a]);return n}var kl=(e,t)=>lC(e,t,Yu(t)),cC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Vt(e)?e:t?e===""?NaN:e&&+e:n&&ds(e)?new Date(e):s?s(e):e;function cm(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Vg(t)?t.files:Ug(t)?aC(e.refs).value:iC(t)?[...t.selectedOptions].map(({value:n})=>n):ud(t)?sC(e.refs).value:cC(Vt(t.value)?e.ref.value:t.value,e)}var pR=(e,t,n,s)=>{const a={};for(const i of e){const o=me(t,i);o&&ft(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},_l=e=>Vt(e)?e:Gu(e)?e.source:Ht(e)?Gu(e.value)?e.value.source:e.value:e;const V0="AsyncFunction";var xR=e=>(!e||!e.validate)&&!!(Ls(e.validate)&&e.validate.constructor.name===V0||Ht(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===V0)),gR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function U0(e,t,n){const s=me(e,n);if(s||$g(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=me(t,i),l=me(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var vR=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,yR=(e,t)=>!Bf(me(e,t)).length&&Xt(e,t);const jR={mode:$r.onSubmit,reValidateMode:$r.onChange,shouldFocusError:!0};function wR(e={}){let t={...jR,...e},n={submitCount:0,isDirty:!1,isLoading:Ls(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Ht(t.defaultValues)||Ht(t.values)?zn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:zn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:om(),array:om(),state:om()},h=I0(t.mode),y=I0(t.reValidateMode),j=t.criteriaMode===$r.all,g=S=>F=>{clearTimeout(d),d=setTimeout(S,F)},v=async S=>{if(!e.disabled&&(u.isValid||S)){const F=t.resolver?Qn((await T()).errors):await M(s,!0);F!==n.isValid&&f.state.next({isValid:F})}},x=(S,F)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((S||Array.from(l.mount)).forEach(W=>{W&&(F?ft(n.validatingFields,W,F):Xt(n.validatingFields,W))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},p=(S,F=[],W,he,ce=!0,se=!0)=>{if(he&&W&&!e.disabled){if(o.action=!0,se&&Array.isArray(me(s,S))){const Me=W(me(s,S),he.argA,he.argB);ce&&ft(s,S,Me)}if(se&&Array.isArray(me(n.errors,S))){const Me=W(me(n.errors,S),he.argA,he.argB);ce&&ft(n.errors,S,Me),yR(n.errors,S)}if(u.touchedFields&&se&&Array.isArray(me(n.touchedFields,S))){const Me=W(me(n.touchedFields,S),he.argA,he.argB);ce&&ft(n.touchedFields,S,Me)}u.dirtyFields&&(n.dirtyFields=kl(a,i)),f.state.next({name:S,isDirty:Q(S,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(i,S,F)},w=(S,F)=>{ft(n.errors,S,F),f.state.next({errors:n.errors})},N=S=>{n.errors=S,f.state.next({errors:n.errors,isValid:!1})},b=(S,F,W,he)=>{const ce=me(s,S);if(ce){const se=me(i,S,Vt(W)?me(a,S):W);Vt(se)||he&&he.defaultChecked||F?ft(i,S,F?se:cm(ce._f)):H(S,se),o.mount&&v()}},_=(S,F,W,he,ce)=>{let se=!1,Me=!1;const tt={name:S};if(!e.disabled){const an=!!(me(s,S)&&me(s,S)._f&&me(s,S)._f.disabled);if(!W||he){u.isDirty&&(Me=n.isDirty,n.isDirty=tt.isDirty=Q(),se=Me!==tt.isDirty);const on=an||fa(me(a,S),F);Me=!!(!an&&me(n.dirtyFields,S)),on||an?Xt(n.dirtyFields,S):ft(n.dirtyFields,S,!0),tt.dirtyFields=n.dirtyFields,se=se||u.dirtyFields&&Me!==!on}if(W){const on=me(n.touchedFields,S);on||(ft(n.touchedFields,S,W),tt.touchedFields=n.touchedFields,se=se||u.touchedFields&&on!==W)}se&&ce&&f.state.next(tt)}return se?tt:{}},k=(S,F,W,he)=>{const ce=me(n.errors,S),se=u.isValid&&Nr(F)&&n.isValid!==F;if(e.delayError&&W?(c=g(()=>w(S,W)),c(e.delayError)):(clearTimeout(d),c=null,W?ft(n.errors,S,W):Xt(n.errors,S)),(W?!fa(ce,W):ce)||!Qn(he)||se){const Me={...he,...se&&Nr(F)?{isValid:F}:{},errors:n.errors,name:S};n={...n,...Me},f.state.next(Me)}},T=async S=>{x(S,!0);const F=await t.resolver(i,t.context,pR(S||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return x(S),F},E=async S=>{const{errors:F}=await T(S);if(S)for(const W of S){const he=me(F,W);he?ft(n.errors,W,he):Xt(n.errors,W)}else n.errors=F;return F},M=async(S,F,W={valid:!0})=>{for(const he in S){const ce=S[he];if(ce){const{_f:se,...Me}=ce;if(se){const tt=l.array.has(se.name),an=ce._f&&xR(ce._f);an&&u.validatingFields&&x([he],!0);const on=await z0(ce,i,j,t.shouldUseNativeValidation&&!F,tt);if(an&&u.validatingFields&&x([he]),on[se.name]&&(W.valid=!1,F))break;!F&&(me(on,se.name)?tt?uR(n.errors,on,se.name):ft(n.errors,se.name,on[se.name]):Xt(n.errors,se.name))}!Qn(Me)&&await M(Me,F,W)}}return W.valid},B=()=>{for(const S of l.unMount){const F=me(s,S);F&&(F._f.refs?F._f.refs.every(W=>!lm(W)):!lm(F._f.ref))&&D(S)}l.unMount=new Set},Q=(S,F)=>!e.disabled&&(S&&F&&ft(i,S,F),!fa(ie(),a)),z=(S,F,W)=>nC(S,l,{...o.mount?i:Vt(F)?a:ds(S)?{[S]:F}:F},W,F),$=S=>Bf(me(o.mount?i:a,S,e.shouldUnregister?me(a,S,[]):[])),H=(S,F,W={})=>{const he=me(s,S);let ce=F;if(he){const se=he._f;se&&(!se.disabled&&ft(i,S,cC(F,se)),ce=Ku(se.ref)&&An(F)?"":F,iC(se.ref)?[...se.ref.options].forEach(Me=>Me.selected=ce.includes(Me.value)):se.refs?ud(se.ref)?se.refs.length>1?se.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(ce)?!!ce.find(tt=>tt===Me.value):ce===Me.value)):se.refs[0]&&(se.refs[0].checked=!!ce):se.refs.forEach(Me=>Me.checked=Me.value===ce):Vg(se.ref)?se.ref.value="":(se.ref.value=ce,se.ref.type||f.values.next({name:S,values:{...i}})))}(W.shouldDirty||W.shouldTouch)&&_(S,ce,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&G(S)},Y=(S,F,W)=>{for(const he in F){const ce=F[he],se=`${S}.${he}`,Me=me(s,se);(l.array.has(S)||Ht(ce)||Me&&!Me._f)&&!di(ce)?Y(se,ce,W):H(se,ce,W)}},C=(S,F,W={})=>{const he=me(s,S),ce=l.array.has(S),se=zn(F);ft(i,S,se),ce?(f.array.next({name:S,values:{...i}}),(u.isDirty||u.dirtyFields)&&W.shouldDirty&&f.state.next({name:S,dirtyFields:kl(a,i),isDirty:Q(S,se)})):he&&!he._f&&!An(se)?Y(S,se,W):H(S,se,W),R0(S,l)&&f.state.next({...n}),f.values.next({name:o.mount?S:void 0,values:{...i}})},P=async S=>{o.mount=!0;const F=S.target;let W=F.name,he=!0;const ce=me(s,W),se=()=>F.type?cm(ce._f):GS(S),Me=tt=>{he=Number.isNaN(tt)||di(tt)&&isNaN(tt.getTime())||fa(tt,me(i,W,tt))};if(ce){let tt,an;const on=se(),ni=S.type===Hu.BLUR||S.type===Hu.FOCUS_OUT,lM=!gR(ce._f)&&!t.resolver&&!me(n.errors,W)&&!ce._f.deps||vR(ni,me(n.touchedFields,W),n.isSubmitted,y,h),Sh=R0(W,l,ni);ft(i,W,on),ni?(ce._f.onBlur&&ce._f.onBlur(S),c&&c(0)):ce._f.onChange&&ce._f.onChange(S);const Ch=_(W,on,ni,!1),cM=!Qn(Ch)||Sh;if(!ni&&f.values.next({name:W,type:S.type,values:{...i}}),lM)return u.isValid&&(e.mode==="onBlur"?ni&&v():v()),cM&&f.state.next({name:W,...Sh?{}:Ch});if(!ni&&Sh&&f.state.next({...n}),t.resolver){const{errors:Yv}=await T([W]);if(Me(on),he){const dM=U0(n.errors,s,W),Zv=U0(Yv,s,dM.name||W);tt=Zv.error,W=Zv.name,an=Qn(Yv)}}else x([W],!0),tt=(await z0(ce,i,j,t.shouldUseNativeValidation))[W],x([W]),Me(on),he&&(tt?an=!1:u.isValid&&(an=await M(s,!0)));he&&(ce._f.deps&&G(ce._f.deps),k(W,an,tt,Ch))}},q=(S,F)=>{if(me(n.errors,F)&&S.focus)return S.focus(),1},G=async(S,F={})=>{let W,he;const ce=Xl(S);if(t.resolver){const se=await E(Vt(S)?S:ce);W=Qn(se),he=S?!ce.some(Me=>me(se,Me)):W}else S?(he=(await Promise.all(ce.map(async se=>{const Me=me(s,se);return await M(Me&&Me._f?{[se]:Me}:Me)}))).every(Boolean),!(!he&&!n.isValid)&&v()):he=W=await M(s);return f.state.next({...!ds(S)||u.isValid&&W!==n.isValid?{}:{name:S},...t.resolver||!S?{isValid:W}:{},errors:n.errors}),F.shouldFocus&&!he&&Jl(s,q,S?ce:l.mount),he},ie=S=>{const F={...o.mount?i:a};return Vt(S)?F:ds(S)?me(F,S):S.map(W=>me(F,W))},V=(S,F)=>({invalid:!!me((F||n).errors,S),isDirty:!!me((F||n).dirtyFields,S),error:me((F||n).errors,S),isValidating:!!me(n.validatingFields,S),isTouched:!!me((F||n).touchedFields,S)}),ee=S=>{S&&Xl(S).forEach(F=>Xt(n.errors,F)),f.state.next({errors:S?n.errors:{}})},Z=(S,F,W)=>{const he=(me(s,S,{_f:{}})._f||{}).ref,ce=me(n.errors,S)||{},{ref:se,message:Me,type:tt,...an}=ce;ft(n.errors,S,{...an,...F,ref:he}),f.state.next({name:S,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&he&&he.focus&&he.focus()},Fe=(S,F)=>Ls(S)?f.values.subscribe({next:W=>S(z(void 0,F),W)}):z(S,F,!0),D=(S,F={})=>{for(const W of S?Xl(S):l.mount)l.mount.delete(W),l.array.delete(W),F.keepValue||(Xt(s,W),Xt(i,W)),!F.keepError&&Xt(n.errors,W),!F.keepDirty&&Xt(n.dirtyFields,W),!F.keepTouched&&Xt(n.touchedFields,W),!F.keepIsValidating&&Xt(n.validatingFields,W),!t.shouldUnregister&&!F.keepDefaultValue&&Xt(a,W);f.values.next({values:{...i}}),f.state.next({...n,...F.keepDirty?{isDirty:Q()}:{}}),!F.keepIsValid&&v()},X=({disabled:S,name:F,field:W,fields:he,value:ce})=>{if(Nr(S)&&o.mount||S){const se=S?void 0:Vt(ce)?cm(W?W._f:me(he,F)._f):ce;ft(i,F,se),_(F,se,!1,!1,!0)}},Ie=(S,F={})=>{let W=me(s,S);const he=Nr(F.disabled)||Nr(e.disabled);return ft(s,S,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:S}},name:S,mount:!0,...F}}),l.mount.add(S),W?X({field:W,disabled:Nr(F.disabled)?F.disabled:e.disabled,name:S,value:F.value}):b(S,!0,F.value),{...he?{disabled:F.disabled||e.disabled}:{},...t.progressive?{required:!!F.required,min:_l(F.min),max:_l(F.max),minLength:_l(F.minLength),maxLength:_l(F.maxLength),pattern:_l(F.pattern)}:{},name:S,onChange:P,onBlur:P,ref:ce=>{if(ce){Ie(S,F),W=me(s,S);const se=Vt(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Me=mR(se),tt=W._f.refs||[];if(Me?tt.find(an=>an===se):se===W._f.ref)return;ft(s,S,{_f:{...W._f,...Me?{refs:[...tt.filter(lm),se,...Array.isArray(me(a,S))?[{}]:[]],ref:{type:se.type,name:S}}:{ref:se}}}),b(S,!1,void 0,se)}else W=me(s,S,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(YS(l.array,S)&&o.action)&&l.unMount.add(S)}}},A=()=>t.shouldFocusError&&Jl(s,q,l.mount),R=S=>{Nr(S)&&(f.state.next({disabled:S}),Jl(s,(F,W)=>{const he=me(s,W);he&&(F.disabled=he._f.disabled||S,Array.isArray(he._f.refs)&&he._f.refs.forEach(ce=>{ce.disabled=he._f.disabled||S}))},0,!1))},oe=(S,F)=>async W=>{let he;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ce=zn(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Me}=await T();n.errors=se,ce=Me}else await M(s);if(Xt(n.errors,"root"),Qn(n.errors)){f.state.next({errors:{}});try{await S(ce,W)}catch(se){he=se}}else F&&await F({...n.errors},W),A(),setTimeout(A);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},O=(S,F={})=>{me(s,S)&&(Vt(F.defaultValue)?C(S,zn(me(a,S))):(C(S,F.defaultValue),ft(a,S,zn(F.defaultValue))),F.keepTouched||Xt(n.touchedFields,S),F.keepDirty||(Xt(n.dirtyFields,S),n.isDirty=F.defaultValue?Q(S,zn(me(a,S))):Q()),F.keepError||(Xt(n.errors,S),u.isValid&&v()),f.state.next({...n}))},Re=(S,F={})=>{const W=S?zn(S):a,he=zn(W),ce=Qn(S),se=ce?a:he;if(F.keepDefaultValues||(a=W),!F.keepValues){if(F.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(kl(a,i))]);for(const tt of Array.from(Me))me(n.dirtyFields,tt)?ft(se,tt,me(i,tt)):C(tt,me(se,tt))}else{if(Lg&&Vt(S))for(const Me of l.mount){const tt=me(s,Me);if(tt&&tt._f){const an=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Ku(an)){const on=an.closest("form");if(on){on.reset();break}}}}s={}}i=e.shouldUnregister?F.keepDefaultValues?zn(a):{}:zn(se),f.array.next({values:{...se}}),f.values.next({values:{...se}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!fa(S,a)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:F.keepDirtyValues?F.keepDefaultValues&&i?kl(a,i):n.dirtyFields:F.keepDefaultValues&&S?kl(a,S):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(S,F)=>Re(Ls(S)?S(i):S,F);return{control:{register:Ie,unregister:D,getFieldState:V,handleSubmit:oe,setError:Z,_executeSchema:T,_getWatch:z,_getDirty:Q,_updateValid:v,_removeUnmounted:B,_updateFieldArray:p,_updateDisabledField:X,_getFieldArray:$,_reset:Re,_resetDefaultValues:()=>Ls(t.defaultValues)&&t.defaultValues().then(S=>{ot(S,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:S=>{n={...n,...S}},_disableForm:R,_subjects:f,_proxyFormState:u,_setErrors:N,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(S){o=S},get _defaultValues(){return a},get _names(){return l},set _names(S){l=S},get _formState(){return n},set _formState(S){n=S},get _options(){return t},set _options(S){t={...t,...S}}},trigger:G,register:Ie,handleSubmit:oe,watch:Fe,setValue:C,getValues:ie,reset:ot,resetField:O,clearErrors:ee,unregister:D,setError:Z,setFocus:(S,F={})=>{const W=me(s,S),he=W&&W._f;if(he){const ce=he.refs?he.refs[0]:he.ref;ce.focus&&(ce.focus(),F.shouldSelect&&ce.select())}},getFieldState:V}}function lr(e={}){const t=ge.useRef(),n=ge.useRef(),[s,a]=ge.useState({isDirty:!1,isValidating:!1,isLoading:Ls(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ls(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...wR(e),formState:s});const i=t.current.control;return i._options=e,zg({subject:i._subjects.state,next:o=>{eC(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),ge.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),ge.useEffect(()=>{e.values&&!fa(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ge.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ge.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ge.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),ge.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=JS(s,i),t.current}const Q0=(e,t,n)=>{if(e&&"reportValidity"in e){const s=me(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},dC=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?Q0(s.ref,n,e):s.refs&&s.refs.forEach(a=>Q0(a,n,e))}},NR=(e,t)=>{t.shouldUseNativeValidation&&dC(e,t);const n={};for(const s in e){const a=me(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(bR(t.names||Object.keys(e),s)){const o=Object.assign({},me(n,s));ft(o,"root",i),ft(n,s,o)}else ft(n,s,i)}return n},bR=(e,t)=>e.some(n=>n.startsWith(t+"."));var SR=function(e,t){for(var n={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[s.code];n[o]=rC(o,t,n,a,d?[].concat(d,s.message):s.message)}e.shift()}return n},cr=function(e,t,n){return n===void 0&&(n={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&dC({},i),{errors:{},values:n.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:NR(SR(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},it;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var Yp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Yp||(Yp={}));const je=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ha=e=>{switch(typeof e){case"undefined":return je.undefined;case"string":return je.string;case"number":return isNaN(e)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(e)?je.array:e===null?je.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?je.promise:typeof Map<"u"&&e instanceof Map?je.map:typeof Set<"u"&&e instanceof Set?je.set:typeof Date<"u"&&e instanceof Date?je.date:je.object;default:return je.unknown}},ae=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class dr extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof dr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}dr.create=e=>new dr(e);const Yo=(e,t)=>{let n;switch(e.code){case ae.invalid_type:e.received===je.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,it.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${it.joinValues(e.keys,", ")}`;break;case ae.invalid_union:n="Invalid input";break;case ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${it.joinValues(e.options)}`;break;case ae.invalid_enum_value:n=`Invalid enum value. Expected ${it.joinValues(e.options)}, received '${e.received}'`;break;case ae.invalid_arguments:n="Invalid function arguments";break;case ae.invalid_return_type:n="Invalid function return type";break;case ae.invalid_date:n="Invalid date";break;case ae.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:it.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ae.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ae.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ae.custom:n="Invalid input";break;case ae.invalid_intersection_types:n="Intersection results could not be merged";break;case ae.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ae.not_finite:n="Number must be finite";break;default:n=t.defaultError,it.assertNever(e)}return{message:n}};let uC=Yo;function kR(e){uC=e}function Zu(){return uC}const Xu=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},_R=[];function xe(e,t){const n=Zu(),s=Xu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Yo?void 0:Yo].filter(a=>!!a)});e.common.issues.push(s)}class kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return We;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return kn.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return We;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const We=Object.freeze({status:"aborted"}),co=e=>({status:"dirty",value:e}),Rn=e=>({status:"valid",value:e}),Zp=e=>e.status==="aborted",Xp=e=>e.status==="dirty",jc=e=>e.status==="valid",wc=e=>typeof Promise<"u"&&e instanceof Promise;function Ju(e,t,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function fC(e,t,n,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));var Fl,Ll;class ws{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const q0=(e,t)=>{if(jc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dr(e.common.issues);return this._error=n,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:a}}class Xe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ha(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new kn,ctx:{common:t.parent.common,data:t.data,parsedType:ha(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(wc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const a={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},i=this._parseSync({data:t,path:a.path,parent:a});return q0(a,i)}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ha(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(wc(a)?a:Promise.resolve(a));return q0(s,i)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ae.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new Br({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ps.create(this,this._def)}nullable(){return Ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this,this._def)}promise(){return Xo.create(this,this._def)}or(t){return Cc.create([this,t],this._def)}and(t){return kc.create(this,t,this._def)}transform(t){return new Br({...Ge(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Tc({...Ge(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new Qg({typeName:Ue.ZodBranded,type:this,...Ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ac({...Ge(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return fd.create(this,t)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ER=/^c[^\s-]{8,}$/i,PR=/^[0-9a-z]+$/,MR=/^[0-9A-HJKMNP-TV-Z]{26}$/,TR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AR=/^[a-z0-9_-]{21}$/i,DR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dm;const OR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FR=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,LR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$R=new RegExp(`^${hC}$`);function mC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zR(e){return new RegExp(`^${mC(e)}$`)}function pC(e){let t=`${hC}T${mC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function VR(e,t){return!!((t==="v4"||!t)&&OR.test(e)||(t==="v6"||!t)&&FR.test(e))}class zr extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==je.string){const i=this._getOrReturnCtx(t);return xe(i,{code:ae.invalid_type,expected:je.string,received:i.parsedType}),We}const s=new kn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?xe(a,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&xe(a,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")IR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"email",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")dm||(dm=new RegExp(RR,"u")),dm.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"emoji",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")TR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"uuid",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")AR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"nanoid",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")ER.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")PR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid2",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")MR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ulid",code:ae.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),xe(a,{validation:"url",code:ae.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"regex",code:ae.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pC(i).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?$R.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?zR(i).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?DR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"duration",code:ae.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?VR(t.data,i.version)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ip",code:ae.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?LR.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"base64",code:ae.invalid_string,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:ae.invalid_string,...Te.errToObj(s)})}_addCheck(t){return new zr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Te.errToObj(n)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zr.create=e=>{var t;return new zr({checks:[],typeName:Ue.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function UR(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class $a extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==je.number){const i=this._getOrReturnCtx(t);return xe(i,{code:ae.invalid_type,expected:je.number,received:i.parsedType}),We}let s;const a=new kn;for(const i of this._def.checks)i.kind==="int"?it.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?UR(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.not_finite,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,s,a){return new $a({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Te.toString(a)}]})}_addCheck(t){return new $a({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&it.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$a.create=e=>new $a({checks:[],typeName:Ue.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class za extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==je.bigint){const i=this._getOrReturnCtx(t);return xe(i,{code:ae.invalid_type,expected:je.bigint,received:i.parsedType}),We}let s;const a=new kn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,s,a){return new za({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Te.toString(a)}]})}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}za.create=e=>{var t;return new za({checks:[],typeName:Ue.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class Nc extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==je.boolean){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.boolean,received:s.parsedType}),We}return Rn(t.data)}}Nc.create=e=>new Nc({typeName:Ue.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Mi extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==je.date){const i=this._getOrReturnCtx(t);return xe(i,{code:ae.invalid_type,expected:je.date,received:i.parsedType}),We}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return xe(i,{code:ae.invalid_date}),We}const s=new kn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:ae.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):it.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Mi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Mi.create=e=>new Mi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ue.ZodDate,...Ge(e)});class ef extends Xe{_parse(t){if(this._getType(t)!==je.symbol){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.symbol,received:s.parsedType}),We}return Rn(t.data)}}ef.create=e=>new ef({typeName:Ue.ZodSymbol,...Ge(e)});class bc extends Xe{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.undefined,received:s.parsedType}),We}return Rn(t.data)}}bc.create=e=>new bc({typeName:Ue.ZodUndefined,...Ge(e)});class Sc extends Xe{_parse(t){if(this._getType(t)!==je.null){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.null,received:s.parsedType}),We}return Rn(t.data)}}Sc.create=e=>new Sc({typeName:Ue.ZodNull,...Ge(e)});class Zo extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return Rn(t.data)}}Zo.create=e=>new Zo({typeName:Ue.ZodAny,...Ge(e)});class wi extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rn(t.data)}}wi.create=e=>new wi({typeName:Ue.ZodUnknown,...Ge(e)});class Gs extends Xe{_parse(t){const n=this._getOrReturnCtx(t);return xe(n,{code:ae.invalid_type,expected:je.never,received:n.parsedType}),We}}Gs.create=e=>new Gs({typeName:Ue.ZodNever,...Ge(e)});class tf extends Xe{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.void,received:s.parsedType}),We}return Rn(t.data)}}tf.create=e=>new tf({typeName:Ue.ZodVoid,...Ge(e)});class Qr extends Xe{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==je.array)return xe(n,{code:ae.invalid_type,expected:je.array,received:n.parsedType}),We;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(xe(n,{code:o?ae.too_big:ae.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(xe(n,{code:ae.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(xe(n,{code:ae.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new ws(n,o,n.path,l)))).then(o=>kn.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new ws(n,o,n.path,l)));return kn.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Qr({...this._def,minLength:{value:t,message:Te.toString(n)}})}max(t,n){return new Qr({...this._def,maxLength:{value:t,message:Te.toString(n)}})}length(t,n){return new Qr({...this._def,exactLength:{value:t,message:Te.toString(n)}})}nonempty(t){return this.min(1,t)}}Qr.create=(e,t)=>new Qr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ge(t)});function Yi(e){if(e instanceof Dt){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=ps.create(Yi(s))}return new Dt({...e._def,shape:()=>t})}else return e instanceof Qr?new Qr({...e._def,type:Yi(e.element)}):e instanceof ps?ps.create(Yi(e.unwrap())):e instanceof Ua?Ua.create(Yi(e.unwrap())):e instanceof Ns?Ns.create(e.items.map(t=>Yi(t))):e}class Dt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=it.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==je.object){const d=this._getOrReturnCtx(t);return xe(d,{code:ae.invalid_type,expected:je.object,received:d.parsedType}),We}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ws(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Gs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(xe(a,{code:ae.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ws(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>kn.mergeObjectSync(s,d)):kn.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new Dt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=Te.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ue.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Dt({...this._def,catchall:t})}pick(t){const n={};return it.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Dt({...this._def,shape:()=>n})}omit(t){const n={};return it.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new Dt({...this._def,shape:()=>n})}deepPartial(){return Yi(this)}partial(t){const n={};return it.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}),new Dt({...this._def,shape:()=>n})}required(t){const n={};return it.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof ps;)i=i._def.innerType;n[s]=i}}),new Dt({...this._def,shape:()=>n})}keyof(){return xC(it.objectKeys(this.shape))}}Dt.create=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:Ue.ZodObject,...Ge(t)});Dt.strictCreate=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:Ue.ZodObject,...Ge(t)});Dt.lazycreate=(e,t)=>new Dt({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:Ue.ZodObject,...Ge(t)});class Cc extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new dr(l.ctx.common.issues));return xe(n,{code:ae.invalid_union,unionErrors:o}),We}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new dr(c));return xe(n,{code:ae.invalid_union,unionErrors:l}),We}}get options(){return this._def.options}}Cc.create=(e,t)=>new Cc({options:e,typeName:Ue.ZodUnion,...Ge(t)});const As=e=>e instanceof Ec?As(e.schema):e instanceof Br?As(e.innerType()):e instanceof Pc?[e.value]:e instanceof Va?e.options:e instanceof Mc?it.objectValues(e.enum):e instanceof Tc?As(e._def.innerType):e instanceof bc?[void 0]:e instanceof Sc?[null]:e instanceof ps?[void 0,...As(e.unwrap())]:e instanceof Ua?[null,...As(e.unwrap())]:e instanceof Qg||e instanceof Dc?As(e.unwrap()):e instanceof Ac?As(e._def.innerType):[];class Hf extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.object)return xe(n,{code:ae.invalid_type,expected:je.object,received:n.parsedType}),We;const s=this.discriminator,a=n.data[s],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const a=new Map;for(const i of n){const o=As(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Hf({typeName:Ue.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Ge(s)})}}function Jp(e,t){const n=ha(e),s=ha(t);if(e===t)return{valid:!0,data:e};if(n===je.object&&s===je.object){const a=it.objectKeys(t),i=it.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Jp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===je.array&&s===je.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Jp(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===je.date&&s===je.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kc extends Xe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(Zp(i)||Zp(o))return We;const l=Jp(i.value,o.value);return l.valid?((Xp(i)||Xp(o))&&n.dirty(),{status:n.value,value:l.data}):(xe(s,{code:ae.invalid_intersection_types}),We)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}kc.create=(e,t,n)=>new kc({left:e,right:t,typeName:Ue.ZodIntersection,...Ge(n)});class Ns extends Xe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.array)return xe(s,{code:ae.invalid_type,expected:je.array,received:s.parsedType}),We;if(s.data.length<this._def.items.length)return xe(s,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ws(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>kn.mergeArray(n,o)):kn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ns({...this._def,rest:t})}}Ns.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ns({items:e,typeName:Ue.ZodTuple,rest:null,...Ge(t)})};class _c extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.object)return xe(s,{code:ae.invalid_type,expected:je.object,received:s.parsedType}),We;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new ws(s,l,s.path,l)),value:o._parse(new ws(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?kn.mergeObjectAsync(n,a):kn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof Xe?new _c({keyType:t,valueType:n,typeName:Ue.ZodRecord,...Ge(s)}):new _c({keyType:zr.create(),valueType:t,typeName:Ue.ZodRecord,...Ge(n)})}}class nf extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.map)return xe(s,{code:ae.invalid_type,expected:je.map,received:s.parsedType}),We;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new ws(s,l,s.path,[d,"key"])),value:i._parse(new ws(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return We;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return We;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}nf.create=(e,t,n)=>new nf({valueType:t,keyType:e,typeName:Ue.ZodMap,...Ge(n)});class Ti extends Xe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.set)return xe(s,{code:ae.invalid_type,expected:je.set,received:s.parsedType}),We;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(xe(s,{code:ae.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(xe(s,{code:ae.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return We;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new ws(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Ti({...this._def,minSize:{value:t,message:Te.toString(n)}})}max(t,n){return new Ti({...this._def,maxSize:{value:t,message:Te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ti.create=(e,t)=>new Ti({valueType:e,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ge(t)});class No extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.function)return xe(n,{code:ae.invalid_type,expected:je.function,received:n.parsedType}),We;function s(l,c){return Xu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zu(),Yo].filter(d=>!!d),issueData:{code:ae.invalid_arguments,argumentsError:c}})}function a(l,c){return Xu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zu(),Yo].filter(d=>!!d),issueData:{code:ae.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Xo){const l=this;return Rn(async function(...c){const d=new dr([]),u=await l._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(s(c,y)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(y=>{throw d.addIssue(a(f,y)),d})})}else{const l=this;return Rn(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new dr([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new dr([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new No({...this._def,args:Ns.create(t).rest(wi.create())})}returns(t){return new No({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new No({args:t||Ns.create([]).rest(wi.create()),returns:n||wi.create(),typeName:Ue.ZodFunction,...Ge(s)})}}class Ec extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ec.create=(e,t)=>new Ec({getter:e,typeName:Ue.ZodLazy,...Ge(t)});class Pc extends Xe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return xe(n,{received:n.data,code:ae.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pc.create=(e,t)=>new Pc({value:e,typeName:Ue.ZodLiteral,...Ge(t)});function xC(e,t){return new Va({values:e,typeName:Ue.ZodEnum,...Ge(t)})}class Va extends Xe{constructor(){super(...arguments),Fl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return xe(n,{expected:it.joinValues(s),received:n.parsedType,code:ae.invalid_type}),We}if(Ju(this,Fl)||fC(this,Fl,new Set(this._def.values)),!Ju(this,Fl).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return xe(n,{received:n.data,code:ae.invalid_enum_value,options:s}),We}return Rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Va.create(t,{...this._def,...n})}exclude(t,n=this._def){return Va.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Fl=new WeakMap;Va.create=xC;class Mc extends Xe{constructor(){super(...arguments),Ll.set(this,void 0)}_parse(t){const n=it.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==je.string&&s.parsedType!==je.number){const a=it.objectValues(n);return xe(s,{expected:it.joinValues(a),received:s.parsedType,code:ae.invalid_type}),We}if(Ju(this,Ll)||fC(this,Ll,new Set(it.getValidEnumValues(this._def.values))),!Ju(this,Ll).has(t.data)){const a=it.objectValues(n);return xe(s,{received:s.data,code:ae.invalid_enum_value,options:a}),We}return Rn(t.data)}get enum(){return this._def.values}}Ll=new WeakMap;Mc.create=(e,t)=>new Mc({values:e,typeName:Ue.ZodNativeEnum,...Ge(t)});class Xo extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==je.promise&&n.common.async===!1)return xe(n,{code:ae.invalid_type,expected:je.promise,received:n.parsedType}),We;const s=n.parsedType===je.promise?n.data:Promise.resolve(n.data);return Rn(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xo.create=(e,t)=>new Xo({type:e,typeName:Ue.ZodPromise,...Ge(t)});class Br extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{xe(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return We;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?We:c.status==="dirty"||n.value==="dirty"?co(c.value):c});{if(n.value==="aborted")return We;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?We:l.status==="dirty"||n.value==="dirty"?co(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?We:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?We:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!jc(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>jc(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);it.assertNever(a)}}Br.create=(e,t,n)=>new Br({schema:e,typeName:Ue.ZodEffects,effect:t,...Ge(n)});Br.createWithPreprocess=(e,t,n)=>new Br({schema:t,effect:{type:"preprocess",transform:e},typeName:Ue.ZodEffects,...Ge(n)});class ps extends Xe{_parse(t){return this._getType(t)===je.undefined?Rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ps.create=(e,t)=>new ps({innerType:e,typeName:Ue.ZodOptional,...Ge(t)});class Ua extends Xe{_parse(t){return this._getType(t)===je.null?Rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ua.create=(e,t)=>new Ua({innerType:e,typeName:Ue.ZodNullable,...Ge(t)});class Tc extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===je.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tc.create=(e,t)=>new Tc({innerType:e,typeName:Ue.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class Ac extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return wc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ac.create=(e,t)=>new Ac({innerType:e,typeName:Ue.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class rf extends Xe{_parse(t){if(this._getType(t)!==je.nan){const s=this._getOrReturnCtx(t);return xe(s,{code:ae.invalid_type,expected:je.nan,received:s.parsedType}),We}return{status:"valid",value:t.data}}}rf.create=e=>new rf({typeName:Ue.ZodNaN,...Ge(e)});const QR=Symbol("zod_brand");class Qg extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class fd extends Xe{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),co(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?We:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new fd({in:t,out:n,typeName:Ue.ZodPipeline})}}class Dc extends Xe{_parse(t){const n=this._def.innerType._parse(t),s=a=>(jc(a)&&(a.value=Object.freeze(a.value)),a);return wc(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}Dc.create=(e,t)=>new Dc({innerType:e,typeName:Ue.ZodReadonly,...Ge(t)});function gC(e,t={},n){return e?Zo.create().superRefine((s,a)=>{var i,o;if(!e(s)){const l=typeof t=="function"?t(s):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...d,fatal:c})}}):Zo.create()}const qR={object:Dt.lazycreate};var Ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const BR=(e,t={message:`Input not instance of ${e.name}`})=>gC(n=>n instanceof e,t),vC=zr.create,yC=$a.create,WR=rf.create,HR=za.create,jC=Nc.create,KR=Mi.create,GR=ef.create,YR=bc.create,ZR=Sc.create,XR=Zo.create,JR=wi.create,eO=Gs.create,tO=tf.create,nO=Qr.create,rO=Dt.create,sO=Dt.strictCreate,aO=Cc.create,iO=Hf.create,oO=kc.create,lO=Ns.create,cO=_c.create,dO=nf.create,uO=Ti.create,fO=No.create,hO=Ec.create,mO=Pc.create,pO=Va.create,xO=Mc.create,gO=Xo.create,B0=Br.create,vO=ps.create,yO=Ua.create,jO=Br.createWithPreprocess,wO=fd.create,NO=()=>vC().optional(),bO=()=>yC().optional(),SO=()=>jC().optional(),CO={string:e=>zr.create({...e,coerce:!0}),number:e=>$a.create({...e,coerce:!0}),boolean:e=>Nc.create({...e,coerce:!0}),bigint:e=>za.create({...e,coerce:!0}),date:e=>Mi.create({...e,coerce:!0})},kO=We;var we=Object.freeze({__proto__:null,defaultErrorMap:Yo,setErrorMap:kR,getErrorMap:Zu,makeIssue:Xu,EMPTY_PATH:_R,addIssueToContext:xe,ParseStatus:kn,INVALID:We,DIRTY:co,OK:Rn,isAborted:Zp,isDirty:Xp,isValid:jc,isAsync:wc,get util(){return it},get objectUtil(){return Yp},ZodParsedType:je,getParsedType:ha,ZodType:Xe,datetimeRegex:pC,ZodString:zr,ZodNumber:$a,ZodBigInt:za,ZodBoolean:Nc,ZodDate:Mi,ZodSymbol:ef,ZodUndefined:bc,ZodNull:Sc,ZodAny:Zo,ZodUnknown:wi,ZodNever:Gs,ZodVoid:tf,ZodArray:Qr,ZodObject:Dt,ZodUnion:Cc,ZodDiscriminatedUnion:Hf,ZodIntersection:kc,ZodTuple:Ns,ZodRecord:_c,ZodMap:nf,ZodSet:Ti,ZodFunction:No,ZodLazy:Ec,ZodLiteral:Pc,ZodEnum:Va,ZodNativeEnum:Mc,ZodPromise:Xo,ZodEffects:Br,ZodTransformer:Br,ZodOptional:ps,ZodNullable:Ua,ZodDefault:Tc,ZodCatch:Ac,ZodNaN:rf,BRAND:QR,ZodBranded:Qg,ZodPipeline:fd,ZodReadonly:Dc,custom:gC,Schema:Xe,ZodSchema:Xe,late:qR,get ZodFirstPartyTypeKind(){return Ue},coerce:CO,any:XR,array:nO,bigint:HR,boolean:jC,date:KR,discriminatedUnion:iO,effect:B0,enum:pO,function:fO,instanceof:BR,intersection:oO,lazy:hO,literal:mO,map:dO,nan:WR,nativeEnum:xO,never:eO,null:ZR,nullable:yO,number:yC,object:rO,oboolean:SO,onumber:bO,optional:vO,ostring:NO,pipeline:wO,preprocess:jO,promise:gO,record:cO,set:uO,strictObject:sO,string:vC,symbol:GR,transformer:B0,tuple:lO,undefined:YR,union:aO,unknown:JR,void:tO,NEVER:kO,ZodIssueCode:ae,quotelessJson:CR,ZodError:dr});const Ke=Symbol.for("drizzle:entityKind");function Nn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Ke))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Ke in n&&n[Ke]===t[Ke])return!0;n=Object.getPrototypeOf(n)}return!1}var Bj;Bj=Ke;class Jo{constructor(t,n){te(this,"name");te(this,"keyAsName");te(this,"primary");te(this,"notNull");te(this,"default");te(this,"defaultFn");te(this,"onUpdateFn");te(this,"hasDefault");te(this,"isUnique");te(this,"uniqueName");te(this,"uniqueType");te(this,"dataType");te(this,"columnType");te(this,"enumValues");te(this,"generated");te(this,"generatedIdentity");te(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}te(Jo,Bj,"Column");var Wj;Wj=Ke;class wC{constructor(t,n,s){te(this,"config");te(this,"$default",this.$defaultFn);te(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}te(wC,Wj,"ColumnBuilder");const bo=Symbol.for("drizzle:Name"),W0=Symbol.for("drizzle:isPgEnum");function _O(e){return!!e&&typeof e=="function"&&W0 in e&&e[W0]===!0}var Hj;Hj=Ke;class qg{constructor(t,n,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:s,isWith:a}}}te(qg,Hj,"Subquery");const EO={startActiveSpan(e,t){return t()}},So=Symbol.for("drizzle:ViewBaseConfig"),um=Symbol.for("drizzle:Schema"),H0=Symbol.for("drizzle:Columns"),K0=Symbol.for("drizzle:ExtraConfigColumns"),fm=Symbol.for("drizzle:OriginalName"),hm=Symbol.for("drizzle:BaseName"),sf=Symbol.for("drizzle:IsAlias"),G0=Symbol.for("drizzle:ExtraConfigBuilder"),NC=Symbol.for("drizzle:IsDrizzleTable");var Kj,Gj,Yj,Zj,Xj,Jj,ew,tw,nw,rw,eu;let Bn=(rw=Ke,nw=bo,tw=fm,ew=um,Jj=H0,Xj=K0,Zj=hm,Yj=sf,Gj=NC,Kj=G0,eu=class{constructor(t,n,s){te(this,nw);te(this,tw);te(this,ew);te(this,Jj);te(this,Xj);te(this,Zj);te(this,Yj,!1);te(this,Gj,!0);te(this,Kj);this[bo]=this[fm]=t,this[um]=n,this[hm]=s}},te(eu,rw,"Table"),te(eu,"Symbol",{Name:bo,Schema:um,OriginalName:fm,Columns:H0,ExtraConfigColumns:K0,BaseName:hm,IsAlias:sf,ExtraConfigBuilder:G0}),eu);function bC(e){return typeof e=="object"&&e!==null&&NC in e}function PO(e){return e!=null&&typeof e.getSQL=="function"}function MO(e){var n;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(n=s.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var sw;sw=Ke;class wr{constructor(t){te(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new rn([this])}}te(wr,sw,"StringChunk");var aw;aw=Ke;const ii=class ii{constructor(t){te(this,"decoder",SC);te(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return EO.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return MO(t.map(u=>{var f;if(Nn(u,wr))return{sql:u.value.join(""),params:[]};if(Nn(u,af))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const h=[new wr("(")];for(const[y,j]of u.entries())h.push(j),y<u.length-1&&h.push(new wr(", "));return h.push(new wr(")")),this.buildQueryFromSourceParams(h,s)}if(Nn(u,ii))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:c||u.shouldInlineParams});if(Nn(u,Bn)){const h=u[Bn.Symbol.Schema],y=u[Bn.Symbol.Name];return{sql:h===void 0||u[sf]?i(y):i(h)+"."+i(y),params:[]}}if(Nn(u,Jo)){const h=a.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const y=u.table[Bn.Symbol.Schema];return{sql:u.table[sf]||y===void 0?i(u.table[Bn.Symbol.Name])+"."+i(h):i(y)+"."+i(u.table[Bn.Symbol.Name])+"."+i(h),params:[]}}if(Nn(u,_C)){const h=u[So].schema,y=u[So].name;return{sql:h===void 0||u[So].isAlias?i(y):i(h)+"."+i(y),params:[]}}if(Nn(u,Bg)){if(Nn(u.value,of))return{sql:o(d.value++,u),params:[u],typings:["none"]};const h=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Nn(h,ii))return this.buildQueryFromSourceParams([h],s);if(c)return{sql:this.mapInlineParam(h,s),params:[]};let y=["none"];return l&&(y=[l(u.encoder)]),{sql:o(d.value++,h),params:[h],typings:y}}return Nn(u,of)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Nn(u,ii.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Nn(u,qg)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new wr("("),u._.sql,new wr(") "),new af(u._.alias)],s):_O(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:PO(u)?(f=u.shouldOmitSQLParens)!=null&&f.call(u)?this.buildQueryFromSourceParams([u.getSQL()],s):this.buildQueryFromSourceParams([new wr("("),u.getSQL(),new wr(")")],s):c?{sql:this.mapInlineParam(u,s),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const s=t.toString();return n(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new ii.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};te(ii,aw,"SQL");let rn=ii;var iw;iw=Ke;class af{constructor(t){te(this,"brand");this.value=t}getSQL(){return new rn([this])}}te(af,iw,"Name");const SC={mapFromDriverValue:e=>e},CC={mapToDriverValue:e=>e};({...SC,...CC});var ow;ow=Ke;class Bg{constructor(t,n=CC){te(this,"brand");this.value=t,this.encoder=n}getSQL(){return new rn([this])}}te(Bg,ow,"Param");function ex(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new wr(e[0]));for(const[s,a]of t.entries())n.push(a,new wr(e[s+1]));return new rn(n)}(e=>{function t(){return new rn([])}e.empty=t;function n(c){return new rn(c)}e.fromList=n;function s(c){return new rn([new wr(c)])}e.raw=s;function a(c,d){const u=[];for(const[f,h]of c.entries())f>0&&d!==void 0&&u.push(d),u.push(h);return new rn(u)}e.join=a;function i(c){return new af(c)}e.identifier=i;function o(c){return new of(c)}e.placeholder=o;function l(c,d){return new Bg(c,d)}e.param=l})(ex||(ex={}));(e=>{var n;n=Ke;const s=class s{constructor(i,o){te(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};te(s,n,"SQL.Aliased");let t=s;e.Aliased=t})(rn||(rn={}));var lw;lw=Ke;class of{constructor(t){this.name=t}getSQL(){return new rn([this])}}te(of,lw,"Placeholder");const kC=Symbol.for("drizzle:IsDrizzleView");var cw,dw,uw;uw=Ke,dw=So,cw=kC;class _C{constructor({name:t,schema:n,selectedFields:s,query:a}){te(this,dw);te(this,cw,!0);this[So]={name:t,originalName:t,schema:n,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new rn([this])}}te(_C,uw,"View");function TO(e){return typeof e=="object"&&e!==null&&kC in e}Jo.prototype.getSQL=function(){return new rn([this])};Bn.prototype.getSQL=function(){return new rn([this])};qg.prototype.getSQL=function(){return new rn([this])};function AO(e){return e[Bn.Symbol.Columns]}function DO(e){return e[So].selectedFields}function Kf(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var fw;fw=Ke;class EC{constructor(t,n){te(this,"reference");te(this,"_onUpdate");te(this,"_onDelete");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t,this}onDelete(t){return this._onDelete=t,this}build(t){return new PC(t,this)}}te(EC,fw,"SQLiteForeignKeyBuilder");var hw;hw=Ke;class PC{constructor(t,n){te(this,"reference");te(this,"onUpdate");te(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:s}=this.reference(),a=n.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[bo],...a,s[0].table[bo],...i];return t??`${o.join("_")}_fk`}}te(PC,hw,"SQLiteForeignKey");function IO(e,t){return`${e[bo]}_${t.join("_")}_unique`}var mw,pw;class Cs extends(pw=wC,mw=Ke,pw){constructor(){super(...arguments);te(this,"foreignKeyConfigs",[])}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n){return this.config.isUnique=!0,this.config.uniqueName=n,this}generatedAlwaysAs(n,s){return this.config.generated={as:n,type:"always",mode:(s==null?void 0:s.mode)??"virtual"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>((o,l)=>{const c=new EC(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)})(a,i))}}te(Cs,mw,"SQLiteColumnBuilder");var xw,gw;class ks extends(gw=Jo,xw=Ke,gw){constructor(t,n){n.uniqueName||(n.uniqueName=IO(t,[n.name])),super(t,n),this.table=t}}te(ks,xw,"SQLiteColumn");var vw,yw;class MC extends(yw=Cs,vw=Ke,yw){constructor(t){super(t,"bigint","SQLiteBigInt")}build(t){return new TC(t,this.config)}}te(MC,vw,"SQLiteBigIntBuilder");var jw,ww;class TC extends(ww=ks,jw=Ke,ww){getSQLType(){return"blob"}mapFromDriverValue(t){if(Buffer.isBuffer(t))return BigInt(t.toString());if(t instanceof ArrayBuffer){const n=new TextDecoder;return BigInt(n.decode(t))}return BigInt(String.fromCodePoint(...t))}mapToDriverValue(t){return Buffer.from(t.toString())}}te(TC,jw,"SQLiteBigInt");var Nw,bw;class AC extends(bw=Cs,Nw=Ke,bw){constructor(t){super(t,"json","SQLiteBlobJson")}build(t){return new DC(t,this.config)}}te(AC,Nw,"SQLiteBlobJsonBuilder");var Sw,Cw;class DC extends(Cw=ks,Sw=Ke,Cw){getSQLType(){return"blob"}mapFromDriverValue(t){if(Buffer.isBuffer(t))return JSON.parse(t.toString());if(t instanceof ArrayBuffer){const n=new TextDecoder;return JSON.parse(n.decode(t))}return JSON.parse(String.fromCodePoint(...t))}mapToDriverValue(t){return Buffer.from(JSON.stringify(t))}}te(DC,Sw,"SQLiteBlobJson");var kw,_w;class IC extends(_w=Cs,kw=Ke,_w){constructor(t){super(t,"buffer","SQLiteBlobBuffer")}build(t){return new RC(t,this.config)}}te(IC,kw,"SQLiteBlobBufferBuilder");var Ew,Pw;class RC extends(Pw=ks,Ew=Ke,Pw){getSQLType(){return"blob"}}te(RC,Ew,"SQLiteBlobBuffer");function RO(e,t){const{name:n,config:s}=Kf(e,t);return(s==null?void 0:s.mode)==="json"?new AC(n):(s==null?void 0:s.mode)==="bigint"?new MC(n):new IC(n)}var Mw,Tw;class OC extends(Tw=Cs,Mw=Ke,Tw){constructor(t,n,s){super(t,"custom","SQLiteCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(t){return new FC(t,this.config)}}te(OC,Mw,"SQLiteCustomColumnBuilder");var Aw,Dw;class FC extends(Dw=ks,Aw=Ke,Dw){constructor(n,s){super(n,s);te(this,"sqlName");te(this,"mapTo");te(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}te(FC,Aw,"SQLiteCustomColumn");function OO(e){return(t,n)=>{const{name:s,config:a}=Kf(t,n);return new OC(s,a,e)}}var Iw,Rw;class Gf extends(Rw=Cs,Iw=Ke,Rw){constructor(t,n,s){super(t,n,s),this.config.autoIncrement=!1}primaryKey(t){return t!=null&&t.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}te(Gf,Iw,"SQLiteBaseIntegerBuilder");var Ow,Fw;class Yf extends(Fw=ks,Ow=Ke,Fw){constructor(){super(...arguments);te(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}te(Yf,Ow,"SQLiteBaseInteger");var Lw,$w;class LC extends($w=Gf,Lw=Ke,$w){constructor(t){super(t,"number","SQLiteInteger")}build(t){return new $C(t,this.config)}}te(LC,Lw,"SQLiteIntegerBuilder");var zw,Vw;class $C extends(Vw=Yf,zw=Ke,Vw){}te($C,zw,"SQLiteInteger");var Uw,Qw;class zC extends(Qw=Gf,Uw=Ke,Qw){constructor(t,n){super(t,"date","SQLiteTimestamp"),this.config.mode=n}defaultNow(){return this.default(ex`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(t){return new VC(t,this.config)}}te(zC,Uw,"SQLiteTimestampBuilder");var qw,Bw;class VC extends(Bw=Yf,qw=Ke,Bw){constructor(){super(...arguments);te(this,"mode",this.config.mode)}mapFromDriverValue(n){return this.config.mode==="timestamp"?new Date(n*1e3):new Date(n)}mapToDriverValue(n){const s=n.getTime();return this.config.mode==="timestamp"?Math.floor(s/1e3):s}}te(VC,qw,"SQLiteTimestamp");var Ww,Hw;class UC extends(Hw=Gf,Ww=Ke,Hw){constructor(t,n){super(t,"boolean","SQLiteBoolean"),this.config.mode=n}build(t){return new QC(t,this.config)}}te(UC,Ww,"SQLiteBooleanBuilder");var Kw,Gw;class QC extends(Gw=Yf,Kw=Ke,Gw){constructor(){super(...arguments);te(this,"mode",this.config.mode)}mapFromDriverValue(n){return Number(n)===1}mapToDriverValue(n){return n?1:0}}te(QC,Kw,"SQLiteBoolean");function ne(e,t){const{name:n,config:s}=Kf(e,t);return(s==null?void 0:s.mode)==="timestamp"||(s==null?void 0:s.mode)==="timestamp_ms"?new zC(n,s.mode):(s==null?void 0:s.mode)==="boolean"?new UC(n,s.mode):new LC(n)}var Yw,Zw;class qC extends(Zw=Cs,Yw=Ke,Zw){constructor(t){super(t,"string","SQLiteNumeric")}build(t){return new BC(t,this.config)}}te(qC,Yw,"SQLiteNumericBuilder");var Xw,Jw;class BC extends(Jw=ks,Xw=Ke,Jw){getSQLType(){return"numeric"}}te(BC,Xw,"SQLiteNumeric");function FO(e){return new qC(e??"")}var eN,tN;class WC extends(tN=Cs,eN=Ke,tN){constructor(t){super(t,"number","SQLiteReal")}build(t){return new HC(t,this.config)}}te(WC,eN,"SQLiteRealBuilder");var nN,rN;class HC extends(rN=ks,nN=Ke,rN){getSQLType(){return"real"}}te(HC,nN,"SQLiteReal");function KC(e){return new WC(e??"")}var sN,aN;class GC extends(aN=Cs,sN=Ke,aN){constructor(t,n){super(t,"string","SQLiteText"),this.config.enumValues=n.enum,this.config.length=n.length}build(t){return new YC(t,this.config)}}te(GC,sN,"SQLiteTextBuilder");var iN,oN;class YC extends(oN=ks,iN=Ke,oN){constructor(n,s){super(n,s);te(this,"enumValues",this.config.enumValues);te(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}te(YC,iN,"SQLiteText");var lN,cN;class ZC extends(cN=Cs,lN=Ke,cN){constructor(t){super(t,"json","SQLiteTextJson")}build(t){return new XC(t,this.config)}}te(ZC,lN,"SQLiteTextJsonBuilder");var dN,uN;class XC extends(uN=ks,dN=Ke,uN){getSQLType(){return"text"}mapFromDriverValue(t){return JSON.parse(t)}mapToDriverValue(t){return JSON.stringify(t)}}te(XC,dN,"SQLiteTextJson");function Je(e,t={}){const{name:n,config:s}=Kf(e,t);return s.mode==="json"?new ZC(n):new GC(n,s)}function LO(){return{blob:RO,customType:OO,integer:ne,numeric:FO,real:KC,text:Je}}const tx=Symbol.for("drizzle:SQLiteInlineForeignKeys");var fN,hN,mN,pN,xN;class nx extends(xN=Bn,pN=Ke,mN=Bn.Symbol.Columns,hN=tx,fN=Bn.Symbol.ExtraConfigBuilder,xN){constructor(){super(...arguments);te(this,mN);te(this,hN,[]);te(this,fN)}}te(nx,pN,"SQLiteTable"),te(nx,"Symbol",Object.assign({},Bn.Symbol,{InlineForeignKeys:tx}));function $O(e,t,n,s,a=e){const i=new nx(e,s,a),o=typeof t=="function"?t(LO()):t,l=Object.fromEntries(Object.entries(o).map(([d,u])=>{const f=u;f.setName(d);const h=f.build(i);return i[tx].push(...f.buildForeignKeys(h,i)),[d,h]})),c=Object.assign(i,l);return c[Bn.Symbol.Columns]=l,c[Bn.Symbol.ExtraConfigColumns]=l,c}const En=(e,t,n)=>$O(e,t),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Bt(e,t){return t.includes(e.columnType)}function zO(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const VO=we.union([we.string(),we.number(),we.boolean(),we.null()]),UO=we.union([VO,we.record(we.any()),we.array(we.any())]),QO=we.custom(e=>e instanceof Buffer);function JC(e,t){const n=(t==null?void 0:t.zodInstance)??we,s=(t==null?void 0:t.coerce)??{};let a;return zO(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||(Bt(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):Bt(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):Bt(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):Bt(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):Bt(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):Bt(e,["PgArray"])?(a=n.array(JC(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=qO(e,n,s):e.dataType==="bigint"?a=BO(e,n,s):e.dataType==="boolean"?a=s===!0||s.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=s===!0||s.date?n.coerce.date():n.date():e.dataType==="string"?a=WO(e,n,s):e.dataType==="json"?a=UO:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=QO)),a||(a=n.any()),a}function qO(e,t,n){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;Bt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:At.INT8_MIN,i=s?At.INT8_UNSIGNED_MAX:At.INT8_MAX,o=!0):Bt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:At.INT16_MIN,i=s?At.INT16_UNSIGNED_MAX:At.INT16_MAX,o=!0):Bt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:At.INT24_MIN,i=s?At.INT24_UNSIGNED_MAX:At.INT24_MAX,o=Bt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Bt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:At.INT32_MIN,i=s?At.INT32_UNSIGNED_MAX:At.INT32_MAX,o=!0):Bt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:At.INT48_MIN,i=s?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Bt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Bt(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Bt(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function BO(e,t,n){const s=e.getSQLType().includes("unsigned"),a=s?0n:At.INT64_MIN,i=s?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function WO(e,t,n){if(Bt(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;Bt(e,["PgVarchar","SQLiteText"])?s=e.length:Bt(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??At.INT16_UNSIGNED_MAX:Bt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=At.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=At.INT24_UNSIGNED_MAX:e.textType==="text"?s=At.INT16_UNSIGNED_MAX:s=At.INT8_UNSIGNED_MAX),Bt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),Bt(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function e2(e){return bC(e)?AO(e):DO(e)}function t2(e,t,n,s){const a={};for(const[i,o]of Object.entries(e)){if(!Nn(o,Jo)&&!Nn(o,rn)&&!Nn(o,rn.Aliased)&&typeof o=="object"){const f=bC(o)||TO(o)?e2(o):o;a[i]=t2(f,t[i]??{},n,s);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Nn(o,Jo)?o:void 0,d=c?JC(c,s):we.any(),u=typeof l=="function"?l(d):d;n.never(c)||(a[i]=u,c&&(n.nullable(c)&&(a[i]=a[i].nullable()),n.optional(c)&&(a[i]=a[i].optional())))}return we.object(a)}const HO={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},vn=(e,t)=>{const n=e2(e);return t2(n,{},HO)},n2=En("users",{id:ne("id").primaryKey({autoIncrement:!0}),username:Je("username").notNull().unique(),password:Je("password").notNull(),fullName:Je("full_name").notNull(),role:Je("role",{enum:["admin","manager","office","shop"]}).notNull().default("shop"),active:ne("active",{mode:"boolean"}).notNull().default(!0),rfidNumber:Je("rfid_number"),email:Je("email"),enableSoundNotifications:ne("enable_sound_notifications",{mode:"boolean"}).default(!0),enableVisualNotifications:ne("enable_visual_notifications",{mode:"boolean"}).default(!0),notificationSound:Je("notification_sound").default("default"),orderCompletedNotifications:ne("order_completed_notifications",{mode:"boolean"}).default(!0),orderStartedNotifications:ne("order_started_notifications",{mode:"boolean"}).default(!0),helpRequestNotifications:ne("help_request_notifications",{mode:"boolean"}).default(!0),notificationsLastSeenAt:ne("notifications_last_seen_at",{mode:"timestamp"}),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),KO=En("locations",{id:ne("id").primaryKey({autoIncrement:!0}),name:Je("name").notNull().unique(),usedOrder:ne("used_order").notNull(),isPrimary:ne("is_primary",{mode:"boolean"}).notNull().default(!1),skipAutoQueue:ne("skip_auto_queue",{mode:"boolean"}).notNull().default(!1),countMultiplier:KC("count_multiplier").notNull().default(1),noCount:ne("no_count",{mode:"boolean"}).notNull().default(!1),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),GO=En("machines",{id:ne("id").primaryKey({autoIncrement:!0}),name:Je("name").notNull(),machineId:Je("machine_id").notNull().unique(),locationId:ne("location_id").notNull(),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),YO=En("machine_permissions",{id:ne("id").primaryKey({autoIncrement:!0}),userId:ne("user_id").notNull(),machineId:ne("machine_id").notNull(),accessRole:Je("access_role",{enum:["operator","admin"]}).notNull().default("operator"),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),ZO=En("machine_assignments",{id:ne("id").primaryKey({autoIncrement:!0}),orderId:ne("order_id").notNull(),locationId:ne("location_id").notNull(),machineId:ne("machine_id").notNull(),assignedQuantity:ne("assigned_quantity").notNull().default(0),assignedAt:ne("assigned_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),XO=En("orders",{id:ne("id").primaryKey({autoIncrement:!0}),orderNumber:Je("order_number").notNull().unique(),tbfosNumber:Je("tbfos_number").notNull(),client:Je("client").notNull(),dueDate:ne("due_date",{mode:"timestamp"}).notNull(),totalQuantity:ne("total_quantity").notNull(),description:Je("description"),notes:Je("notes"),isFinished:ne("is_finished",{mode:"boolean"}).notNull().default(!1),isShipped:ne("is_shipped",{mode:"boolean"}).notNull().default(!1),partiallyShipped:ne("partially_shipped",{mode:"boolean"}).notNull().default(!1),shippedQuantity:ne("shipped_quantity").notNull().default(0),globalQueuePosition:ne("global_queue_position"),rush:ne("rush",{mode:"boolean"}).notNull().default(!1),rushSetAt:ne("rush_set_at",{mode:"timestamp"}),pdfPrefix:Je("pdf_prefix").default(""),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date),createdBy:ne("created_by")}),JO=En("order_locations",{id:ne("id").primaryKey({autoIncrement:!0}),orderId:ne("order_id").notNull(),locationId:ne("location_id").notNull(),status:Je("status",{enum:["not_started","in_queue","in_progress","paused","done"]}).notNull().default("not_started"),queuePosition:ne("queue_position"),completedQuantity:ne("completed_quantity").notNull().default(0),notes:Je("notes"),startedAt:ne("started_at",{mode:"timestamp"}),completedAt:ne("completed_at",{mode:"timestamp"}),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),e3=En("audit_trail",{id:ne("id").primaryKey({autoIncrement:!0}),orderId:ne("order_id").notNull(),userId:ne("user_id"),locationId:ne("location_id"),action:Je("action").notNull(),details:Je("details"),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),t3=En("help_requests",{id:ne("id").primaryKey({autoIncrement:!0}),orderId:ne("order_id").notNull(),locationId:ne("location_id").notNull(),userId:ne("user_id").notNull(),notes:Je("notes"),isResolved:ne("is_resolved",{mode:"boolean"}).notNull().default(!1),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date),resolvedAt:ne("resolved_at",{mode:"timestamp"})}),n3=En("email_settings",{id:ne("id").primaryKey({autoIncrement:!0}),email:Je("email").notNull(),forShipping:ne("for_shipping",{mode:"boolean"}).notNull().default(!0),forHelp:ne("for_help",{mode:"boolean"}).notNull().default(!1),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),r3=En("pdf_settings",{id:ne("id").primaryKey({autoIncrement:!0}),pdfPrefix:Je("pdf_prefix").notNull().default(""),pdfPostfix:Je("pdf_postfix").notNull().default(".pdf"),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),s3=En("rfid_cards",{cardId:Je("card_id").primaryKey(),userId:ne("user_id").notNull(),active:ne("active",{mode:"boolean"}).notNull().default(!0),issueDate:ne("issue_date",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date),expiryDate:ne("expiry_date",{mode:"timestamp"}),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),a3=En("access_levels",{id:ne("id").primaryKey({autoIncrement:!0}),userId:ne("user_id").notNull(),machineId:Je("machine_id").notNull(),accessLevel:Je("access_level",{enum:["operator","admin","maintenance"]}).notNull().default("operator"),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),i3=En("access_logs",{id:ne("id").primaryKey({autoIncrement:!0}),userId:ne("user_id"),machineId:Je("machine_id").notNull(),cardId:Je("card_id").notNull(),accessGranted:ne("access_granted",{mode:"boolean"}).notNull().default(!1),reason:Je("reason"),timestamp:ne("timestamp",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)}),o3=vn(n2).pick({username:!0,password:!0,fullName:!0,role:!0,rfidNumber:!0,email:!0,active:!0});vn(n2).pick({enableSoundNotifications:!0,enableVisualNotifications:!0,notificationSound:!0,orderCompletedNotifications:!0,orderStartedNotifications:!0,helpRequestNotifications:!0});const l3=vn(KO).pick({name:!0,usedOrder:!0,isPrimary:!0,skipAutoQueue:!0,countMultiplier:!0,noCount:!0});vn(GO).pick({name:!0,machineId:!0,locationId:!0});vn(YO).pick({userId:!0,machineId:!0,accessRole:!0});vn(ZO).pick({orderId:!0,locationId:!0,machineId:!0,assignedQuantity:!0});const c3=vn(XO).pick({orderNumber:!0,tbfosNumber:!0,client:!0,dueDate:!0,totalQuantity:!0,description:!0,notes:!0,pdfPrefix:!0,createdBy:!0});vn(JO).pick({orderId:!0,locationId:!0,status:!0,queuePosition:!0,completedQuantity:!0,notes:!0});vn(e3).pick({orderId:!0,userId:!0,locationId:!0,action:!0,details:!0});vn(t3).pick({orderId:!0,locationId:!0,userId:!0,notes:!0});vn(n3).pick({email:!0,forShipping:!0,forHelp:!0});vn(r3).pick({pdfPrefix:!0,pdfPostfix:!0});vn(s3).pick({cardId:!0,userId:!0,active:!0,issueDate:!0,expiryDate:!0});vn(a3).pick({userId:!0,machineId:!0,accessLevel:!0});vn(i3).pick({userId:!0,machineId:!0,cardId:!0,accessGranted:!0,reason:!0,timestamp:!0});we.object({card_id:we.string(),machine_id:we.string()});const d3=En("api_configs",{id:ne("id").primaryKey({autoIncrement:!0}),shopMonitorApiKey:Je("machine_monitor_api_key").notNull(),shopMonitorApiUrl:Je("machine_monitor_api_url").notNull(),syncEnabled:ne("sync_enabled",{mode:"boolean"}).notNull().default(!1),syncInterval:ne("sync_interval").notNull().default(60),alertsEnabled:ne("alerts_enabled",{mode:"boolean"}).notNull().default(!1),pushUserData:ne("push_user_data",{mode:"boolean"}).notNull().default(!0),pushLocationData:ne("push_location_data",{mode:"boolean"}).notNull().default(!0),pushMachineData:ne("push_machine_data",{mode:"boolean"}).notNull().default(!0),pullAccessLogs:ne("pull_access_logs",{mode:"boolean"}).notNull().default(!0),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date),updatedAt:ne("updated_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)});vn(d3).pick({shopMonitorApiKey:!0,shopMonitorApiUrl:!0,syncEnabled:!0,syncInterval:!0,alertsEnabled:!0,pushUserData:!0,pushLocationData:!0,pushMachineData:!0,pullAccessLogs:!0});const u3=En("machine_alerts",{id:ne("id").primaryKey({autoIncrement:!0}),machineId:Je("machine_id").notNull(),senderId:ne("sender_id"),message:Je("message").notNull(),alertType:Je("alert_type",{enum:["help_request","notification","warning","error"]}).notNull(),status:Je("status",{enum:["pending","acknowledged","resolved"]}).notNull().default("pending"),origin:Je("origin",{enum:["machine","system"]}).notNull(),resolvedById:ne("resolved_by_id"),resolvedAt:ne("resolved_at",{mode:"timestamp"}),createdAt:ne("created_at",{mode:"timestamp"}).notNull().$defaultFn(()=>new Date)});vn(u3).pick({machineId:!0,senderId:!0,message:!0,alertType:!0,status:!0,origin:!0});var f3="Label",r2=m.forwardRef((e,t)=>r.jsx(_e.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r2.displayName=f3;var s2=r2;const h3=ld("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=m.forwardRef(({className:e,...t},n)=>r.jsx(s2,{ref:n,className:J(h3(),e),...t}));gt.displayName=s2.displayName;const ur=iR,a2=m.createContext({}),Ee=({...e})=>r.jsx(a2.Provider,{value:{name:e.name},children:r.jsx(dR,{...e})}),Zf=()=>{const e=m.useContext(a2),t=m.useContext(i2),{getFieldState:n,formState:s}=Wf(),a=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},i2=m.createContext({}),Se=m.forwardRef(({className:e,...t},n)=>{const s=m.useId();return r.jsx(i2.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:J("space-y-2",e),...t})})});Se.displayName="FormItem";const Ce=m.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:a}=Zf();return r.jsx(gt,{ref:n,className:J(s&&"text-destructive",e),htmlFor:a,...t})});Ce.displayName="FormLabel";const ke=m.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=Zf();return r.jsx(vs,{ref:t,id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});ke.displayName="FormControl";const kt=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=Zf();return r.jsx("p",{ref:n,id:s,className:J("text-sm text-muted-foreground",e),...t})});kt.displayName="FormDescription";const He=m.forwardRef(({className:e,children:t,...n},s)=>{const{error:a,formMessageId:i}=Zf(),o=a?String(a==null?void 0:a.message):t;return o?r.jsx("p",{ref:s,id:i,className:J("text-sm font-medium text-destructive",e),...n,children:o}):null});He.displayName="FormMessage";const Be=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Be.displayName="Input";const Ic=ld("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?vs:"button";return r.jsx(o,{className:J(Ic({variant:t,size:n,className:e})),ref:i,...a})});L.displayName="Button";function m3(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:y,...j}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:v,children:y})}function u(f,h){const y=(h==null?void 0:h[e][c])||l,j=m.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,p3(a,...t)]}function p3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var x3=EN.useId||(()=>{}),g3=0;function Xn(e){const[t,n]=m.useState(x3());return sn(()=>{e||n(s=>s??String(g3++))},[e]),e||(t?`radix-${t}`:"")}var v3=m.createContext(void 0);function hd(e){const t=m.useContext(v3);return e||t||"ltr"}var mm="rovingFocusGroup.onEntryFocus",y3={bubbles:!1,cancelable:!0},Xf="RovingFocusGroup",[rx,o2,j3]=id(Xf),[w3,Jf]=m3(Xf,[j3]),[N3,b3]=w3(Xf),l2=m.forwardRef((e,t)=>r.jsx(rx.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(rx.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(S3,{...e,ref:t})})}));l2.displayName=Xf;var S3=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=m.useRef(null),y=et(t,h),j=hd(i),[g=null,v]=er({prop:o,defaultProp:l,onChange:c}),[x,p]=m.useState(!1),w=mn(d),N=o2(n),b=m.useRef(!1),[_,k]=m.useState(0);return m.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(mm,w),()=>T.removeEventListener(mm,w)},[w]),r.jsx(N3,{scope:n,orientation:s,dir:j,loop:a,currentTabStopId:g,onItemFocus:m.useCallback(T=>v(T),[v]),onItemShiftTab:m.useCallback(()=>p(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>k(T=>T-1),[]),children:r.jsx(_e.div,{tabIndex:x||_===0?-1:0,"data-orientation":s,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{b.current=!0}),onFocus:ue(e.onFocus,T=>{const E=!b.current;if(T.target===T.currentTarget&&E&&!x){const M=new CustomEvent(mm,y3);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const B=N().filter(Y=>Y.focusable),Q=B.find(Y=>Y.active),z=B.find(Y=>Y.id===g),H=[Q,z,...B].filter(Boolean).map(Y=>Y.ref.current);u2(H,u)}}b.current=!1}),onBlur:ue(e.onBlur,()=>p(!1))})})}),c2="RovingFocusGroupItem",d2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=Xn(),c=i||l,d=b3(c2,n),u=d.currentTabStopId===c,f=o2(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=d;return m.useEffect(()=>{if(s)return h(),()=>y()},[s,h,y]),r.jsx(rx.ItemSlot,{scope:n,id:c,focusable:s,active:a,children:r.jsx(_e.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:ue(e.onMouseDown,j=>{s?d.onItemFocus(c):j.preventDefault()}),onFocus:ue(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ue(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const g=_3(j,d.orientation,d.dir);if(g!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let x=f().filter(p=>p.focusable).map(p=>p.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const p=x.indexOf(j.currentTarget);x=d.loop?E3(x,p+1):x.slice(p+1)}setTimeout(()=>u2(x))}})})})});d2.displayName=c2;var C3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _3(e,t,n){const s=k3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return C3[s]}function u2(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function E3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var f2=l2,h2=d2,Wg="Tabs",[P3,Z9]=tr(Wg,[Jf]),m2=Jf(),[M3,Hg]=P3(Wg),p2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=hd(l),[f,h]=er({prop:s,onChange:a,defaultProp:i});return r.jsx(M3,{scope:n,baseId:Xn(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:r.jsx(_e.div,{dir:u,"data-orientation":o,...d,ref:t})})});p2.displayName=Wg;var x2="TabsList",g2=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Hg(x2,n),o=m2(n);return r.jsx(f2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});g2.displayName=x2;var v2="TabsTrigger",y2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=Hg(v2,n),l=m2(n),c=N2(o.baseId,s),d=b2(o.baseId,s),u=s===o.value;return r.jsx(h2,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(_e.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ue(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ue(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});y2.displayName=v2;var j2="TabsContent",w2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=Hg(j2,n),c=N2(l.baseId,s),d=b2(l.baseId,s),u=s===l.value,f=m.useRef(u);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(Ln,{present:a||u,children:({present:h})=>r.jsx(_e.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});w2.displayName=j2;function N2(e,t){return`${e}-trigger-${t}`}function b2(e,t){return`${e}-content-${t}`}var T3=p2,S2=g2,C2=y2,k2=w2;const Tr=T3,mr=m.forwardRef(({className:e,...t},n)=>r.jsx(S2,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));mr.displayName=S2.displayName;const dt=m.forwardRef(({className:e,...t},n)=>r.jsx(C2,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));dt.displayName=C2.displayName;const pt=m.forwardRef(({className:e,...t},n)=>r.jsx(k2,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pt.displayName=k2.displayName;const A3=we.object({username:we.string().min(3,"Username must be at least 3 characters"),password:we.string().min(6,"Password must be at least 6 characters")}),D3=o3.extend({password:we.string().min(6,"Password must be at least 6 characters"),confirmPassword:we.string(),email:we.string().email("Invalid email format").optional().or(we.literal("")),rfidNumber:we.string().optional().or(we.literal(""))}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function I3(){const[e,t]=m.useState("login"),{user:n,loginMutation:s,registerMutation:a}=_n();Zr();const i=lr({resolver:cr(A3),defaultValues:{username:"",password:""}}),o=lr({resolver:cr(D3),defaultValues:{username:"",password:"",confirmPassword:"",fullName:"",role:"user",email:"",rfidNumber:""}}),l=d=>{s.mutate(d,{onSuccess:()=>{console.log("Login successful, navigating to dashboard"),window.location.href="/"}})},c=d=>{const{confirmPassword:u,...f}=d;a.mutate(f,{onSuccess:()=>{console.log("Registration successful, navigating to dashboard"),window.location.href="/"}})};return ge.useEffect(()=>{console.log("Auth page - user state:",n),console.log("Auth page - isLoading:",s.isPending),n&&(console.log("Auth page - redirecting to dashboard"),window.location.href="/")},[n,s.isPending]),r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"flex flex-col justify-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Workshop Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage your workshop orders efficiently"})]}),r.jsxs(le,{className:"w-full",children:[r.jsxs(Le,{children:[r.jsx(ze,{children:e==="login"?"Sign In":"Create an Account"}),r.jsx(ut,{children:e==="login"?"Enter your credentials to access the workshop management system":"Register to get started with workshop management"})]}),r.jsx(de,{children:r.jsxs(Tr,{value:e,onValueChange:t,className:"w-full",children:[r.jsxs(mr,{className:"grid w-full grid-cols-2 mb-6",children:[r.jsx(dt,{value:"login",children:"Login"}),r.jsx(dt,{value:"register",children:"Register"})]}),r.jsx(pt,{value:"login",children:r.jsx(ur,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[r.jsx(Ee,{control:i.control,name:"username",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Username"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter your username",...d})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:i.control,name:"password",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Password"}),r.jsx(ke,{children:r.jsx(Be,{type:"password",placeholder:"••••••••",...d})}),r.jsx(He,{})]})}),r.jsx(L,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx(aI,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})})}),r.jsx(pt,{value:"register",children:r.jsx(ur,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[r.jsx(Ee,{control:o.control,name:"username",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Username"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Choose a username",...d})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"fullName",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Full Name"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter your full name",...d})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"email",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Email (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{type:"email",placeholder:"Enter your email",...d,value:d.value||""})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"rfidNumber",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"RFID Number (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter your RFID number",...d,value:d.value||""})}),r.jsx(He,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ee,{control:o.control,name:"password",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Password"}),r.jsx(ke,{children:r.jsx(Be,{type:"password",placeholder:"••••••••",...d})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"confirmPassword",render:({field:d})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Confirm Password"}),r.jsx(ke,{children:r.jsx(Be,{type:"password",placeholder:"••••••••",...d})}),r.jsx(He,{})]})})]}),r.jsx(L,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx(Zl,{className:"mr-2 h-4 w-4"}),"Create Account"]})})]})})})]})}),r.jsx(js,{className:"flex justify-center text-sm text-gray-500",children:e==="login"?r.jsxs("p",{children:["Don't have an account? ",r.jsx(L,{variant:"link",onClick:()=>t("register"),className:"p-0",children:"Register"})]}):r.jsxs("p",{children:["Already have an account? ",r.jsx(L,{variant:"link",onClick:()=>t("login"),className:"p-0",children:"Login"})]})})]})]}),r.jsxs("div",{className:"hidden lg:flex flex-col justify-center bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-lg p-8 shadow-lg",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(PS,{className:"h-16 w-16 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Workshop Order Management"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"A comprehensive system for tracking orders through your workshop's various locations."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-full mr-3",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:"Dynamic Order Tracking"}),r.jsx("p",{className:"text-blue-100",children:"Monitor orders as they move through different locations in your workshop."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-full mr-3",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[r.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"}),r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:"Quantity Management"}),r.jsx("p",{className:"text-blue-100",children:"Track quantities at every stage of production with visual progress indicators."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-full mr-3",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),r.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:"Optimized Workflows"}),r.jsx("p",{className:"text-blue-100",children:"Customize production flows with location-specific queues and priorities."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-full mr-3",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:"Secure Role-Based Access"}),r.jsx("p",{className:"text-blue-100",children:"Control who can access different parts of the system based on permissions."})]})]})]})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sx=function(e,t){return sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])},sx(e,t)};function R3(e,t){sx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var O3=100,F3=100,Y0=50,ax=50,ix=50;function Z0(e){var t=e.className,n=e.counterClockwise,s=e.dashRatio,a=e.pathRadius,i=e.strokeWidth,o=e.style;return m.createElement("path",{className:t,style:Object.assign({},o,$3({pathRadius:a,dashRatio:s,counterClockwise:n})),d:L3({pathRadius:a,counterClockwise:n}),strokeWidth:i,fillOpacity:0})}function L3(e){var t=e.pathRadius,n=e.counterClockwise,s=t,a=n?1:0;return`
      M `+ax+","+ix+`
      m 0,-`+s+`
      a `+s+","+s+" "+a+" 1 1 0,"+2*s+`
      a `+s+","+s+" "+a+" 1 1 0,-"+2*s+`
    `}function $3(e){var t=e.counterClockwise,n=e.dashRatio,s=e.pathRadius,a=Math.PI*2*s,i=(1-n)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(t?-i:i)+"px"}}var Qa=function(e){R3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return Y0-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var n=this.props,s=n.value,a=n.minValue,i=n.maxValue,o=Math.min(Math.max(s,a),i);return(o-a)/(i-a)},t.prototype.render=function(){var n=this.props,s=n.circleRatio,a=n.className,i=n.classes,o=n.counterClockwise,l=n.styles,c=n.strokeWidth,d=n.text,u=this.getPathRadius(),f=this.getPathRatio();return m.createElement("svg",{className:i.root+" "+a,style:l.root,viewBox:"0 0 "+O3+" "+F3,"data-test-id":"CircularProgressbar"},this.props.background?m.createElement("circle",{className:i.background,style:l.background,cx:ax,cy:ix,r:Y0}):null,m.createElement(Z0,{className:i.trail,counterClockwise:o,dashRatio:s,pathRadius:u,strokeWidth:c,style:l.trail}),m.createElement(Z0,{className:i.path,counterClockwise:o,dashRatio:f*s,pathRadius:u,strokeWidth:c,style:l.path}),d?m.createElement("text",{className:i.text,style:l.text,x:ax,y:ix},d):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(m.Component);function qa(e){var t=e.rotation,n=e.strokeLinecap,s=e.textColor,a=e.textSize,i=e.pathColor,o=e.pathTransition,l=e.pathTransitionDuration,c=e.trailColor,d=e.backgroundColor,u=t==null?void 0:"rotate("+t+"turn)",f=t==null?void 0:"center center";return{root:{},path:Hd({stroke:i,strokeLinecap:n,transform:u,transformOrigin:f,transition:o,transitionDuration:l==null?void 0:l+"s"}),trail:Hd({stroke:c,strokeLinecap:n,transform:u,transformOrigin:f}),text:Hd({fill:s,fontSize:a}),background:Hd({fill:d})}}function Hd(e){return Object.keys(e).forEach(function(t){e[t]==null&&delete e[t]}),e}const pn=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:J("w-full caption-bottom text-sm",e),...t})}));pn.displayName="Table";const xn=m.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:J("[&_tr]:border-b",e),...t}));xn.displayName="TableHeader";const gn=m.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:J("[&_tr:last-child]:border-0",e),...t}));gn.displayName="TableBody";const z3=m.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));z3.displayName="TableFooter";const qe=m.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));qe.displayName="TableRow";const fe=m.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));fe.displayName="TableHead";const K=m.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));K.displayName="TableCell";const ox=m.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:J("mt-4 text-sm text-muted-foreground",e),...t}));ox.displayName="TableCaption";var pm="focusScope.autoFocusOnMount",xm="focusScope.autoFocusOnUnmount",X0={bubbles:!1,cancelable:!0},V3="FocusScope",md=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=mn(a),u=mn(i),f=m.useRef(null),h=et(t,g=>c(g)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let g=function(w){if(y.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:oa(f.current,{select:!0})},v=function(w){if(y.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||oa(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&oa(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),p.disconnect()}}},[s,l,y.paused]),m.useEffect(()=>{if(l){ej.add(y);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(pm,X0);l.addEventListener(pm,d),l.dispatchEvent(x),x.defaultPrevented||(U3(H3(_2(l)),{select:!0}),document.activeElement===g&&oa(l))}return()=>{l.removeEventListener(pm,d),setTimeout(()=>{const x=new CustomEvent(xm,X0);l.addEventListener(xm,u),l.dispatchEvent(x),x.defaultPrevented||oa(g??document.body,{select:!0}),l.removeEventListener(xm,u),ej.remove(y)},0)}}},[l,d,u,y]);const j=m.useCallback(g=>{if(!n&&!s||y.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const p=g.currentTarget,[w,N]=Q3(p);w&&N?!g.shiftKey&&x===N?(g.preventDefault(),n&&oa(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),n&&oa(N,{select:!0})):x===p&&g.preventDefault()}},[n,s,y.paused]);return r.jsx(_e.div,{tabIndex:-1,...o,ref:h,onKeyDown:j})});md.displayName=V3;function U3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(oa(s,{select:t}),document.activeElement!==n)return}function Q3(e){const t=_2(e),n=J0(t,e),s=J0(t.reverse(),e);return[n,s]}function _2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J0(e,t){for(const n of e)if(!q3(n,{upTo:t}))return n}function q3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B3(e){return e instanceof HTMLInputElement&&"select"in e}function oa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&B3(e)&&t&&e.select()}}var ej=W3();function W3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tj(e,t),e.unshift(t)},remove(t){var n;e=tj(e,t),(n=e[0])==null||n.resume()}}}function tj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function H3(e){return e.filter(t=>t.tagName!=="A")}var gm=0;function eh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nj()),document.body.insertAdjacentElement("beforeend",e[1]??nj()),gm++,()=>{gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gm--}},[])}function nj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cs=function(){return cs=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cs.apply(this,arguments)};function E2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function K3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",vu="width-before-scroll-bar",G3="with-scroll-bars-hidden",Y3="--removed-body-scroll-bar-size";function vm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Z3(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var X3=typeof window<"u"?m.useLayoutEffect:m.useEffect,rj=new WeakMap;function J3(e,t){var n=Z3(null,function(s){return e.forEach(function(a){return vm(a,s)})});return X3(function(){var s=rj.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||vm(l,null)}),i.forEach(function(l){a.has(l)||vm(l,o)})}rj.set(n,e)},[e]),n}function eF(e){return e}function tF(e,t){t===void 0&&(t=eF);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function nF(e){e===void 0&&(e={});var t=tF(null);return t.options=cs({async:!0,ssr:!1},e),t}var P2=function(e){var t=e.sideCar,n=E2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,cs({},n))};P2.isSideCarExport=!0;function rF(e,t){return e.useMedium(t),P2}var M2=nF(),ym=function(){},th=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,y=e.noIsolation,j=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,p=e.gapMode,w=E2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,b=J3([n,t]),_=cs(cs({},w),a);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:M2,removeScrollBar:d,shards:f,noIsolation:y,inert:j,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:p}),o?m.cloneElement(m.Children.only(l),cs(cs({},_),{ref:b})):m.createElement(x,cs({},_,{className:c,ref:b}),l))});th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};th.classNames={fullWidth:vu,zeroRight:gu};var sF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sF();return t&&e.setAttribute("nonce",t),e}function iF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aF())&&(iF(t,n),oF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cF=function(){var e=lF();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},T2=function(){var e=cF(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},dF={left:0,top:0,right:0,gap:0},jm=function(e){return parseInt(e||"",10)||0},uF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[jm(n),jm(s),jm(a)]},fF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dF;var t=uF(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},hF=T2(),Co="data-scroll-locked",mF=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(G3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(vu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(Y3,": ").concat(l,`px;
  }
`)},sj=function(){var e=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(e)?e:0},pF=function(){m.useEffect(function(){return document.body.setAttribute(Co,(sj()+1).toString()),function(){var e=sj()-1;e<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,e.toString())}},[])},xF=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;pF();var i=m.useMemo(function(){return fF(a)},[a]);return m.createElement(hF,{styles:mF(i,!t,a,n?"":"!important")})},lx=!1;if(typeof window<"u")try{var Kd=Object.defineProperty({},"passive",{get:function(){return lx=!0,!0}});window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{lx=!1}var Bi=lx?{passive:!1}:!1,gF=function(e){return e.tagName==="TEXTAREA"},A2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gF(e)&&n[t]==="visible")},vF=function(e){return A2(e,"overflowY")},yF=function(e){return A2(e,"overflowX")},aj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=D2(e,s);if(a){var i=I2(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},jF=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},wF=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},D2=function(e,t){return e==="v"?vF(t):yF(t)},I2=function(e,t){return e==="v"?jF(t):wF(t)},NF=function(e,t){return e==="h"&&t==="rtl"?-1:1},bF=function(e,t,n,s,a){var i=NF(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var y=I2(e,l),j=y[0],g=y[1],v=y[2],x=g-v-i*j;(j||x)&&D2(e,l)&&(f+=x,h+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Gd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ij=function(e){return[e.deltaX,e.deltaY]},oj=function(e){return e&&"current"in e?e.current:e},SF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kF=0,Wi=[];function _F(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),a=m.useState(kF++)[0],i=m.useState(T2)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=K3([e.lockRef.current],(e.shards||[]).map(oj),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Gd(g),p=n.current,w="deltaX"in g?g.deltaX:p[0]-x[0],N="deltaY"in g?g.deltaY:p[1]-x[1],b,_=g.target,k=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in g&&k==="h"&&_.type==="range")return!1;var T=aj(k,_);if(!T)return!0;if(T?b=k:(b=k==="v"?"h":"v",T=aj(k,_)),!T)return!1;if(!s.current&&"changedTouches"in g&&(w||N)&&(s.current=b),!b)return!0;var E=s.current||b;return bF(E,v,g,E==="h"?w:N,!0)},[]),c=m.useCallback(function(g){var v=g;if(!(!Wi.length||Wi[Wi.length-1]!==i)){var x="deltaY"in v?ij(v):Gd(v),p=t.current.filter(function(b){return b.name===v.type&&(b.target===v.target||v.target===b.shadowParent)&&SF(b.delta,x)})[0];if(p&&p.should){v.cancelable&&v.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(oj).filter(Boolean).filter(function(b){return b.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),d=m.useCallback(function(g,v,x,p){var w={name:g,delta:v,target:x,should:p,shadowParent:EF(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=m.useCallback(function(g){n.current=Gd(g),s.current=void 0},[]),f=m.useCallback(function(g){d(g.type,ij(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){d(g.type,Gd(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bi),document.addEventListener("touchmove",c,Bi),document.addEventListener("touchstart",u,Bi),function(){Wi=Wi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Bi),document.removeEventListener("touchmove",c,Bi),document.removeEventListener("touchstart",u,Bi)}},[]);var y=e.removeScrollBar,j=e.inert;return m.createElement(m.Fragment,null,j?m.createElement(i,{styles:CF(a)}):null,y?m.createElement(xF,{gapMode:e.gapMode}):null)}function EF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PF=rF(M2,_F);var pd=m.forwardRef(function(e,t){return m.createElement(th,cs({},e,{ref:t,sideCar:PF}))});pd.classNames=th.classNames;var MF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hi=new WeakMap,Yd=new WeakMap,Zd={},wm=0,R2=function(e){return e&&(e.host||R2(e.parentNode))},TF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=R2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AF=function(e,t,n,s){var a=TF(t,Array.isArray(e)?e:[e]);Zd[n]||(Zd[n]=new WeakMap);var i=Zd[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var y=h.getAttribute(s),j=y!==null&&y!=="false",g=(Hi.get(h)||0)+1,v=(i.get(h)||0)+1;Hi.set(h,g),i.set(h,v),o.push(h),g===1&&j&&Yd.set(h,!0),v===1&&h.setAttribute(n,"true"),j||h.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),wm++,function(){o.forEach(function(f){var h=Hi.get(f)-1,y=i.get(f)-1;Hi.set(f,h),i.set(f,y),h||(Yd.has(f)||f.removeAttribute(s),Yd.delete(f)),y||f.removeAttribute(n)}),wm--,wm||(Hi=new WeakMap,Hi=new WeakMap,Yd=new WeakMap,Zd={})}},nh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=MF(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),AF(s,a,n,"aria-hidden")):function(){return null}},Kg="Dialog",[O2,F2]=tr(Kg),[DF,Xr]=O2(Kg),L2=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=er({prop:s,defaultProp:a,onChange:i});return r.jsx(DF,{scope:t,triggerRef:l,contentRef:c,contentId:Xn(),titleId:Xn(),descriptionId:Xn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};L2.displayName=Kg;var $2="DialogTrigger",z2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Xr($2,n),i=et(t,a.triggerRef);return r.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zg(a.open),...s,ref:i,onClick:ue(e.onClick,a.onOpenToggle)})});z2.displayName=$2;var Gg="DialogPortal",[IF,V2]=O2(Gg,{forceMount:void 0}),U2=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Xr(Gg,t);return r.jsx(IF,{scope:t,forceMount:n,children:m.Children.map(s,o=>r.jsx(Ln,{present:n||i.open,children:r.jsx(cl,{asChild:!0,container:a,children:o})}))})};U2.displayName=Gg;var lf="DialogOverlay",Q2=m.forwardRef((e,t)=>{const n=V2(lf,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Xr(lf,e.__scopeDialog);return i.modal?r.jsx(Ln,{present:s||i.open,children:r.jsx(RF,{...a,ref:t})}):null});Q2.displayName=lf;var RF=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Xr(lf,n);return r.jsx(pd,{as:vs,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(_e.div,{"data-state":Zg(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ai="DialogContent",q2=m.forwardRef((e,t)=>{const n=V2(Ai,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Xr(Ai,e.__scopeDialog);return r.jsx(Ln,{present:s||i.open,children:i.modal?r.jsx(OF,{...a,ref:t}):r.jsx(FF,{...a,ref:t})})});q2.displayName=Ai;var OF=m.forwardRef((e,t)=>{const n=Xr(Ai,e.__scopeDialog),s=m.useRef(null),a=et(t,n.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return nh(i)},[]),r.jsx(B2,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault())})}),FF=m.forwardRef((e,t)=>{const n=Xr(Ai,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(B2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),B2=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Xr(Ai,n),c=m.useRef(null),d=et(t,c);return eh(),r.jsxs(r.Fragment,{children:[r.jsx(md,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(zi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zg(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx($F,{titleId:l.titleId}),r.jsx(VF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yg="DialogTitle",W2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Xr(Yg,n);return r.jsx(_e.h2,{id:a.titleId,...s,ref:t})});W2.displayName=Yg;var H2="DialogDescription",K2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Xr(H2,n);return r.jsx(_e.p,{id:a.descriptionId,...s,ref:t})});K2.displayName=H2;var G2="DialogClose",Y2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Xr(G2,n);return r.jsx(_e.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});Y2.displayName=G2;function Zg(e){return e?"open":"closed"}var Z2="DialogTitleWarning",[LF,X2]=sD(Z2,{contentName:Ai,titleName:Yg,docsSlug:"dialog"}),$F=({titleId:e})=>{const t=X2(Z2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zF="DialogDescriptionWarning",VF=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X2(zF).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},J2=L2,ek=z2,tk=U2,Xg=Q2,Jg=q2,ev=W2,tv=K2,nv=Y2;const Ot=J2,Us=ek,UF=tk,nk=m.forwardRef(({className:e,...t},n)=>r.jsx(Xg,{ref:n,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nk.displayName=Xg.displayName;const Pt=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(UF,{children:[r.jsx(nk,{}),r.jsxs(Jg,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[90vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(nv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(dd,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pt.displayName=Jg.displayName;const Mt=({className:e,...t})=>r.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mt.displayName="DialogHeader";const xs=({className:e,...t})=>r.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xs.displayName="DialogFooter";const Tt=m.forwardRef(({className:e,...t},n)=>r.jsx(ev,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=ev.displayName;const Yt=m.forwardRef(({className:e,...t},n)=>r.jsx(tv,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Yt.displayName=tv.displayName;const QF=ld("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...n}){return r.jsx("div",{className:J(QF({variant:t}),e),...n})}function Oe({className:e,...t}){return r.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function lj(e,[t,n]){return Math.min(n,Math.max(t,e))}const qF=["top","right","bottom","left"],Ba=Math.min,sr=Math.max,cf=Math.round,Xd=Math.floor,gs=e=>({x:e,y:e}),BF={left:"right",right:"left",bottom:"top",top:"bottom"},WF={start:"end",end:"start"};function cx(e,t,n){return sr(e,Ba(t,n))}function Ys(e,t){return typeof e=="function"?e(t):e}function Zs(e){return e.split("-")[0]}function ul(e){return e.split("-")[1]}function rv(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}function Wa(e){return["top","bottom"].includes(Zs(e))?"y":"x"}function av(e){return rv(Wa(e))}function HF(e,t,n){n===void 0&&(n=!1);const s=ul(e),a=av(e),i=sv(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=df(o)),[o,df(o)]}function KF(e){const t=df(e);return[dx(e),t,dx(t)]}function dx(e){return e.replace(/start|end/g,t=>WF[t])}function GF(e,t,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function YF(e,t,n,s){const a=ul(e);let i=GF(Zs(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(dx)))),i}function df(e){return e.replace(/left|right|bottom|top/g,t=>BF[t])}function ZF(e){return{top:0,right:0,bottom:0,left:0,...e}}function rk(e){return typeof e!="number"?ZF(e):{top:e,right:e,bottom:e,left:e}}function uf(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function cj(e,t,n){let{reference:s,floating:a}=e;const i=Wa(t),o=av(t),l=sv(o),c=Zs(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let y;switch(c){case"top":y={x:u,y:s.y-a.height};break;case"bottom":y={x:u,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:f};break;case"left":y={x:s.x-a.width,y:f};break;default:y={x:s.x,y:s.y}}switch(ul(t)){case"start":y[o]-=h*(n&&d?-1:1);break;case"end":y[o]+=h*(n&&d?-1:1);break}return y}const XF=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=cj(d,s,c),h=s,y={},j=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:p,y:w,data:N,reset:b}=await x({x:u,y:f,initialPlacement:s,placement:h,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=w??f,y={...y,[v]:{...y[v],...N}},b&&j<=50&&(j++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:f}=cj(d,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:y}};async function Rc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=Ys(t,e),j=rk(y),v=l[h?f==="floating"?"reference":"floating":f],x=uf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=uf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(x.top-b.top+j.top)/N.y,bottom:(b.bottom-x.bottom+j.bottom)/N.y,left:(x.left-b.left+j.left)/N.x,right:(b.right-x.right+j.right)/N.x}}const JF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ys(e,t)||{};if(d==null)return{};const f=rk(u),h={x:n,y:s},y=av(a),j=sv(y),g=await o.getDimensions(d),v=y==="y",x=v?"top":"left",p=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=i.reference[j]+i.reference[y]-h[y]-i.floating[j],b=h[y]-i.reference[y],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=_?_[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[w]||i.floating[j]);const T=N/2-b/2,E=k/2-g[j]/2-1,M=Ba(f[x],E),B=Ba(f[p],E),Q=M,z=k-g[j]-B,$=k/2-g[j]/2+T,H=cx(Q,$,z),Y=!c.arrow&&ul(a)!=null&&$!==H&&i.reference[j]/2-($<Q?M:B)-g[j]/2<0,C=Y?$<Q?$-Q:$-z:0;return{[y]:h[y]+C,data:{[y]:H,centerOffset:$-H-C,...Y&&{alignmentOffset:C}},reset:Y}}}),e5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...v}=Ys(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Zs(a),p=Wa(l),w=Zs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=h||(w||!g?[df(l)]:KF(l)),_=j!=="none";!h&&_&&b.push(...YF(l,g,j,N));const k=[l,...b],T=await Rc(t,v),E=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&E.push(T[x]),f){const $=HF(a,o,N);E.push(T[$[0]],T[$[1]])}if(M=[...M,{placement:a,overflows:E}],!E.every($=>$<=0)){var B,Q;const $=(((B=i.flip)==null?void 0:B.index)||0)+1,H=k[$];if(H)return{data:{index:$,overflows:M},reset:{placement:H}};let Y=(Q=M.filter(C=>C.overflows[0]<=0).sort((C,P)=>C.overflows[1]-P.overflows[1])[0])==null?void 0:Q.placement;if(!Y)switch(y){case"bestFit":{var z;const C=(z=M.filter(P=>{if(_){const q=Wa(P.placement);return q===p||q==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(q=>q>0).reduce((q,G)=>q+G,0)]).sort((P,q)=>P[1]-q[1])[0])==null?void 0:z[0];C&&(Y=C);break}case"initialPlacement":Y=l;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function dj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uj(e){return qF.some(t=>e[t]>=0)}const t5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Ys(e,t);switch(s){case"referenceHidden":{const i=await Rc(t,{...a,elementContext:"reference"}),o=dj(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uj(o)}}}case"escaped":{const i=await Rc(t,{...a,altBoundary:!0}),o=dj(i,n.floating);return{data:{escapedOffsets:o,escaped:uj(o)}}}default:return{}}}}};async function n5(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Zs(n),l=ul(n),c=Wa(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Ys(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(y=l==="end"?j*-1:j),c?{x:y*u,y:h*d}:{x:h*d,y:y*u}}const r5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await n5(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},s5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:p}=v;return{x,y:p}}},...c}=Ys(e,t),d={x:n,y:s},u=await Rc(t,c),f=Wa(Zs(a)),h=rv(f);let y=d[h],j=d[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",p=y+u[v],w=y-u[x];y=cx(p,y,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=j+u[v],w=j-u[x];j=cx(p,j,w)}const g=l.fn({...t,[h]:y,[f]:j});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[h]:i,[f]:o}}}}}},a5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ys(e,t),u={x:n,y:s},f=Wa(a),h=rv(f);let y=u[h],j=u[f];const g=Ys(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",N=i.reference[h]-i.floating[w]+v.mainAxis,b=i.reference[h]+i.reference[w]-v.mainAxis;y<N?y=N:y>b&&(y=b)}if(d){var x,p;const w=h==="y"?"width":"height",N=["top","left"].includes(Zs(a)),b=i.reference[f]-i.floating[w]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:v.crossAxis),_=i.reference[f]+i.reference[w]+(N?0:((p=o.offset)==null?void 0:p[f])||0)-(N?v.crossAxis:0);j<b?j=b:j>_&&(j=_)}return{[h]:y,[f]:j}}}},i5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ys(e,t),u=await Rc(t,d),f=Zs(a),h=ul(a),y=Wa(a)==="y",{width:j,height:g}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const p=g-u.top-u.bottom,w=j-u.left-u.right,N=Ba(g-u[v],p),b=Ba(j-u[x],w),_=!t.middlewareData.shift;let k=N,T=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=p),_&&!h){const M=sr(u.left,0),B=sr(u.right,0),Q=sr(u.top,0),z=sr(u.bottom,0);y?T=j-2*(M!==0||B!==0?M+B:sr(u.left,u.right)):k=g-2*(Q!==0||z!==0?Q+z:sr(u.top,u.bottom))}await c({...t,availableWidth:T,availableHeight:k});const E=await o.getDimensions(l.floating);return j!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function rh(){return typeof window<"u"}function fl(e){return sk(e)?(e.nodeName||"").toLowerCase():"#document"}function fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(sk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sk(e){return rh()?e instanceof Node||e instanceof fr(e).Node:!1}function Wr(e){return rh()?e instanceof Element||e instanceof fr(e).Element:!1}function bs(e){return rh()?e instanceof HTMLElement||e instanceof fr(e).HTMLElement:!1}function fj(e){return!rh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fr(e).ShadowRoot}function xd(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function o5(e){return["table","td","th"].includes(fl(e))}function sh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function iv(e){const t=ov(),n=Wr(e)?Hr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function l5(e){let t=Ha(e);for(;bs(t)&&!el(t);){if(iv(t))return t;if(sh(t))return null;t=Ha(t)}return null}function ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function el(e){return["html","body","#document"].includes(fl(e))}function Hr(e){return fr(e).getComputedStyle(e)}function ah(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fj(e)&&e.host||_s(e);return fj(t)?t.host:t}function ak(e){const t=Ha(e);return el(t)?e.ownerDocument?e.ownerDocument.body:e.body:bs(t)&&xd(t)?t:ak(t)}function Oc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=ak(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=fr(a);if(i){const l=ux(o);return t.concat(o,o.visualViewport||[],xd(a)?a:[],l&&n?Oc(l):[])}return t.concat(a,Oc(a,[],n))}function ux(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ik(e){const t=Hr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=bs(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=cf(n)!==i||cf(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function lv(e){return Wr(e)?e:e.contextElement}function ko(e){const t=lv(e);if(!bs(t))return gs(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=ik(t);let o=(i?cf(n.width):n.width)/s,l=(i?cf(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const c5=gs(0);function ok(e){const t=fr(e);return!ov()||!t.visualViewport?c5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function d5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fr(e)?!1:t}function Di(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=lv(e);let o=gs(1);t&&(s?Wr(s)&&(o=ko(s)):o=ko(e));const l=d5(i,n,s)?ok(i):gs(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=fr(i),y=s&&Wr(s)?fr(s):s;let j=h,g=ux(j);for(;g&&s&&y!==j;){const v=ko(g),x=g.getBoundingClientRect(),p=Hr(g),w=x.left+(g.clientLeft+parseFloat(p.paddingLeft))*v.x,N=x.top+(g.clientTop+parseFloat(p.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,f*=v.y,c+=w,d+=N,j=fr(g),g=ux(j)}}return uf({width:u,height:f,x:c,y:d})}function cv(e,t){const n=ah(e).scrollLeft;return t?t.left+n:Di(_s(e)).left+n}function lk(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:cv(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function u5(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=_s(s),l=t?sh(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=gs(1);const u=gs(0),f=bs(s);if((f||!f&&!i)&&((fl(s)!=="body"||xd(o))&&(c=ah(s)),bs(s))){const y=Di(s);d=ko(s),u.x=y.x+s.clientLeft,u.y=y.y+s.clientTop}const h=o&&!f&&!i?lk(o,c,!0):gs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function f5(e){return Array.from(e.getClientRects())}function h5(e){const t=_s(e),n=ah(e),s=e.ownerDocument.body,a=sr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=sr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+cv(e);const l=-n.scrollTop;return Hr(s).direction==="rtl"&&(o+=sr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function m5(e,t){const n=fr(e),s=_s(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=ov();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function p5(e,t){const n=Di(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=bs(e)?ko(e):gs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function hj(e,t,n){let s;if(t==="viewport")s=m5(e,n);else if(t==="document")s=h5(_s(e));else if(Wr(t))s=p5(t,n);else{const a=ok(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return uf(s)}function ck(e,t){const n=Ha(e);return n===t||!Wr(n)||el(n)?!1:Hr(n).position==="fixed"||ck(n,t)}function x5(e,t){const n=t.get(e);if(n)return n;let s=Oc(e,[],!1).filter(l=>Wr(l)&&fl(l)!=="body"),a=null;const i=Hr(e).position==="fixed";let o=i?Ha(e):e;for(;Wr(o)&&!el(o);){const l=Hr(o),c=iv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||xd(o)&&!c&&ck(e,o))?s=s.filter(u=>u!==o):a=l,o=Ha(o)}return t.set(e,s),s}function g5(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?sh(t)?[]:x5(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const f=hj(t,u,a);return d.top=sr(f.top,d.top),d.right=Ba(f.right,d.right),d.bottom=Ba(f.bottom,d.bottom),d.left=sr(f.left,d.left),d},hj(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v5(e){const{width:t,height:n}=ik(e);return{width:t,height:n}}function y5(e,t,n){const s=bs(t),a=_s(t),i=n==="fixed",o=Di(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=gs(0);if(s||!s&&!i)if((fl(t)!=="body"||xd(a))&&(l=ah(t)),s){const h=Di(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=cv(a));const d=a&&!s&&!i?lk(a,l):gs(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Nm(e){return Hr(e).position==="static"}function mj(e,t){if(!bs(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _s(e)===n&&(n=n.ownerDocument.body),n}function dk(e,t){const n=fr(e);if(sh(e))return n;if(!bs(e)){let a=Ha(e);for(;a&&!el(a);){if(Wr(a)&&!Nm(a))return a;a=Ha(a)}return n}let s=mj(e,t);for(;s&&o5(s)&&Nm(s);)s=mj(s,t);return s&&el(s)&&Nm(s)&&!iv(s)?n:s||l5(e)||n}const j5=async function(e){const t=this.getOffsetParent||dk,n=this.getDimensions,s=await n(e.floating);return{reference:y5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function w5(e){return Hr(e).direction==="rtl"}const N5={convertOffsetParentRelativeRectToViewportRelativeRect:u5,getDocumentElement:_s,getClippingRect:g5,getOffsetParent:dk,getElementRects:j5,getClientRects:f5,getDimensions:v5,getScale:ko,isElement:Wr,isRTL:w5};function b5(e,t){let n=null,s;const a=_s(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const y=Xd(u),j=Xd(a.clientWidth-(d+f)),g=Xd(a.clientHeight-(u+h)),v=Xd(d),p={rootMargin:-y+"px "+-j+"px "+-g+"px "+-v+"px",threshold:sr(0,Ba(1,c))||1};let w=!0;function N(b){const _=b[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(N,{...p,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,p)}n.observe(e)}return o(!0),i}function S5(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=lv(e),u=a||i?[...d?Oc(d):[],...Oc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?b5(d,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(t)})),n()}),d&&!c&&y.observe(d),y.observe(t));let j,g=c?Di(e):null;c&&v();function v(){const x=Di(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,j=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(p=>{a&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(j)}}const C5=r5,k5=s5,_5=e5,E5=i5,P5=t5,pj=JF,M5=a5,T5=(e,t,n)=>{const s=new Map,a={platform:N5,...n},i={...a.platform,_c:s};return XF(e,t,{...a,platform:i})};var yu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ff(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!ff(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!ff(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function uk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xj(e,t){const n=uk(e);return Math.round(t*n)/n}function bm(e){const t=m.useRef(e);return yu(()=>{t.current=e}),t}function A5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=m.useState(s);ff(h,s)||y(s);const[j,g]=m.useState(null),[v,x]=m.useState(null),p=m.useCallback(P=>{P!==_.current&&(_.current=P,g(P))},[]),w=m.useCallback(P=>{P!==k.current&&(k.current=P,x(P))},[]),N=i||j,b=o||v,_=m.useRef(null),k=m.useRef(null),T=m.useRef(u),E=c!=null,M=bm(c),B=bm(a),Q=bm(d),z=m.useCallback(()=>{if(!_.current||!k.current)return;const P={placement:t,strategy:n,middleware:h};B.current&&(P.platform=B.current),T5(_.current,k.current,P).then(q=>{const G={...q,isPositioned:Q.current!==!1};$.current&&!ff(T.current,G)&&(T.current=G,$i.flushSync(()=>{f(G)}))})},[h,t,n,B,Q]);yu(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[d]);const $=m.useRef(!1);yu(()=>($.current=!0,()=>{$.current=!1}),[]),yu(()=>{if(N&&(_.current=N),b&&(k.current=b),N&&b){if(M.current)return M.current(N,b,z);z()}},[N,b,z,M,E]);const H=m.useMemo(()=>({reference:_,floating:k,setReference:p,setFloating:w}),[p,w]),Y=m.useMemo(()=>({reference:N,floating:b}),[N,b]),C=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!Y.floating)return P;const q=xj(Y.floating,u.x),G=xj(Y.floating,u.y);return l?{...P,transform:"translate("+q+"px, "+G+"px)",...uk(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:G}},[n,l,Y.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:z,refs:H,elements:Y,floatingStyles:C}),[u,z,H,Y,C])}const D5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?pj({element:s.current,padding:a}).fn(n):{}:s?pj({element:s,padding:a}).fn(n):{}}}},I5=(e,t)=>({...C5(e),options:[e,t]}),R5=(e,t)=>({...k5(e),options:[e,t]}),O5=(e,t)=>({...M5(e),options:[e,t]}),F5=(e,t)=>({..._5(e),options:[e,t]}),L5=(e,t)=>({...E5(e),options:[e,t]}),$5=(e,t)=>({...P5(e),options:[e,t]}),z5=(e,t)=>({...D5(e),options:[e,t]});var V5="Arrow",fk=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(_e.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});fk.displayName=V5;var U5=fk;function Q5(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:y,...j}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:v,children:y})}function u(f,h){const y=(h==null?void 0:h[e][c])||l,j=m.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,q5(a,...t)]}function q5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function dv(e){const[t,n]=m.useState(void 0);return sn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var uv="Popper",[hk,Za]=Q5(uv),[B5,mk]=hk(uv),pk=e=>{const{__scopePopper:t,children:n}=e,[s,a]=m.useState(null);return r.jsx(B5,{scope:t,anchor:s,onAnchorChange:a,children:n})};pk.displayName=uv;var xk="PopperAnchor",gk=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=mk(xk,n),o=m.useRef(null),l=et(t,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(_e.div,{...a,ref:l})});gk.displayName=xk;var fv="PopperContent",[W5,H5]=hk(fv),vk=m.forwardRef((e,t)=>{var X,Ie,A,R,oe,O;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:j,...g}=e,v=mk(fv,n),[x,p]=m.useState(null),w=et(t,Re=>p(Re)),[N,b]=m.useState(null),_=dv(N),k=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,E=s+(i!=="center"?"-"+i:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(d)?d:[d],Q=B.length>0,z={padding:M,boundary:B.filter(G5),altBoundary:Q},{refs:$,floatingStyles:H,placement:Y,isPositioned:C,middlewareData:P}=A5({strategy:"fixed",placement:E,whileElementsMounted:(...Re)=>S5(...Re,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[I5({mainAxis:a+T,alignmentAxis:o}),c&&R5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?O5():void 0,...z}),c&&F5({...z}),L5({...z,apply:({elements:Re,rects:ot,availableWidth:qt,availableHeight:U})=>{const{width:Ne,height:S}=ot.reference,F=Re.floating.style;F.setProperty("--radix-popper-available-width",`${qt}px`),F.setProperty("--radix-popper-available-height",`${U}px`),F.setProperty("--radix-popper-anchor-width",`${Ne}px`),F.setProperty("--radix-popper-anchor-height",`${S}px`)}}),N&&z5({element:N,padding:l}),Y5({arrowWidth:k,arrowHeight:T}),h&&$5({strategy:"referenceHidden",...z})]}),[q,G]=wk(Y),ie=mn(j);sn(()=>{C&&(ie==null||ie())},[C,ie]);const V=(X=P.arrow)==null?void 0:X.x,ee=(Ie=P.arrow)==null?void 0:Ie.y,Z=((A=P.arrow)==null?void 0:A.centerOffset)!==0,[Fe,D]=m.useState();return sn(()=>{x&&D(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:C?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(R=P.transformOrigin)==null?void 0:R.x,(oe=P.transformOrigin)==null?void 0:oe.y].join(" "),...((O=P.hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(W5,{scope:n,placedSide:q,onArrowChange:b,arrowX:V,arrowY:ee,shouldHideArrow:Z,children:r.jsx(_e.div,{"data-side":q,"data-align":G,...g,ref:w,style:{...g.style,animation:C?void 0:"none"}})})})});vk.displayName=fv;var yk="PopperArrow",K5={top:"bottom",right:"left",bottom:"top",left:"right"},jk=m.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=H5(yk,s),o=K5[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(U5,{...a,ref:n,style:{...a.style,display:"block"}})})});jk.displayName=yk;function G5(e){return e!==null}var Y5=e=>({name:"transformOrigin",options:e,fn(t){var v,x,p;const{placement:n,rects:s,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=wk(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,y=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let j="",g="";return d==="bottom"?(j=o?f:`${h}px`,g=`${-c}px`):d==="top"?(j=o?f:`${h}px`,g=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,g=o?f:`${y}px`):d==="left"&&(j=`${s.floating.width+c}px`,g=o?f:`${y}px`),{data:{x:j,y:g}}}});function wk(e){const[t,n="center"]=e.split("-");return[t,n]}var ih=pk,gd=gk,oh=vk,lh=jk;function hv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Z5=[" ","Enter","ArrowUp","ArrowDown"],X5=[" ","Enter"],vd="Select",[ch,dh,J5]=id(vd),[hl,X9]=tr(vd,[J5,Za]),uh=Za(),[eL,Xa]=hl(vd),[tL,nL]=hl(vd),Nk=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:y,form:j}=e,g=uh(t),[v,x]=m.useState(null),[p,w]=m.useState(null),[N,b]=m.useState(!1),_=hd(d),[k=!1,T]=er({prop:s,defaultProp:a,onChange:i}),[E,M]=er({prop:o,defaultProp:l,onChange:c}),B=m.useRef(null),Q=v?j||!!v.closest("form"):!0,[z,$]=m.useState(new Set),H=Array.from(z).map(Y=>Y.props.value).join(";");return r.jsx(ih,{...g,children:r.jsxs(eL,{required:y,scope:t,trigger:v,onTriggerChange:x,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:Xn(),value:E,onValueChange:M,open:k,onOpenChange:T,dir:_,triggerPointerDownPosRef:B,disabled:h,children:[r.jsx(ch.Provider,{scope:t,children:r.jsx(tL,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{$(C=>new Set(C).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{$(C=>{const P=new Set(C);return P.delete(Y),P})},[]),children:n})}),Q?r.jsxs(Hk,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:Y=>M(Y.target.value),disabled:h,form:j,children:[E===void 0?r.jsx("option",{value:""}):null,Array.from(z)]},H):null]})})};Nk.displayName=vd;var bk="SelectTrigger",Sk=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=uh(n),o=Xa(bk,n),l=o.disabled||s,c=et(t,o.onTriggerChange),d=dh(n),u=m.useRef("touch"),[f,h,y]=Kk(g=>{const v=d().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),p=Gk(v,g,x);p!==void 0&&o.onValueChange(p.value)}),j=g=>{l||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(gd,{asChild:!0,...i,children:r.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Wk(o.value)?"":void 0,...a,ref:c,onClick:ue(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&j(g)}),onPointerDown:ue(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:ue(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&Z5.includes(g.key)&&(j(),g.preventDefault())})})})});Sk.displayName=bk;var Ck="SelectValue",kk=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Xa(Ck,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=et(t,c.onValueNodeChange);return sn(()=>{d(u)},[d,u]),r.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:Wk(c.value)?r.jsx(r.Fragment,{children:o}):i})});kk.displayName=Ck;var rL="SelectIcon",_k=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(_e.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});_k.displayName=rL;var sL="SelectPortal",Ek=e=>r.jsx(cl,{asChild:!0,...e});Ek.displayName=sL;var Ii="SelectContent",Pk=m.forwardRef((e,t)=>{const n=Xa(Ii,e.__scopeSelect),[s,a]=m.useState();if(sn(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?$i.createPortal(r.jsx(Mk,{scope:e.__scopeSelect,children:r.jsx(ch.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Tk,{...e,ref:t})});Pk.displayName=Ii;var Dr=10,[Mk,Ja]=hl(Ii),aL="SelectContentImpl",Tk=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:v,...x}=e,p=Xa(Ii,n),[w,N]=m.useState(null),[b,_]=m.useState(null),k=et(t,X=>N(X)),[T,E]=m.useState(null),[M,B]=m.useState(null),Q=dh(n),[z,$]=m.useState(!1),H=m.useRef(!1);m.useEffect(()=>{if(w)return nh(w)},[w]),eh();const Y=m.useCallback(X=>{const[Ie,...A]=Q().map(O=>O.ref.current),[R]=A.slice(-1),oe=document.activeElement;for(const O of X)if(O===oe||(O==null||O.scrollIntoView({block:"nearest"}),O===Ie&&b&&(b.scrollTop=0),O===R&&b&&(b.scrollTop=b.scrollHeight),O==null||O.focus(),document.activeElement!==oe))return},[Q,b]),C=m.useCallback(()=>Y([T,w]),[Y,T,w]);m.useEffect(()=>{z&&C()},[z,C]);const{onOpenChange:P,triggerPointerDownPosRef:q}=p;m.useEffect(()=>{if(w){let X={x:0,y:0};const Ie=R=>{var oe,O;X={x:Math.abs(Math.round(R.pageX)-(((oe=q.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(R.pageY)-(((O=q.current)==null?void 0:O.y)??0))}},A=R=>{X.x<=10&&X.y<=10?R.preventDefault():w.contains(R.target)||P(!1),document.removeEventListener("pointermove",Ie),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",A,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",A,{capture:!0})}}},[w,P,q]),m.useEffect(()=>{const X=()=>P(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[P]);const[G,ie]=Kk(X=>{const Ie=Q().filter(oe=>!oe.disabled),A=Ie.find(oe=>oe.ref.current===document.activeElement),R=Gk(Ie,X,A);R&&setTimeout(()=>R.ref.current.focus())}),V=m.useCallback((X,Ie,A)=>{const R=!H.current&&!A;(p.value!==void 0&&p.value===Ie||R)&&(E(X),R&&(H.current=!0))},[p.value]),ee=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=m.useCallback((X,Ie,A)=>{const R=!H.current&&!A;(p.value!==void 0&&p.value===Ie||R)&&B(X)},[p.value]),Fe=s==="popper"?fx:Ak,D=Fe===fx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:j,hideWhenDetached:g,avoidCollisions:v}:{};return r.jsx(Mk,{scope:n,content:w,viewport:b,onViewportChange:_,itemRefCallback:V,selectedItem:T,onItemLeave:ee,itemTextRefCallback:Z,focusSelectedItem:C,selectedItemText:M,position:s,isPositioned:z,searchRef:G,children:r.jsx(pd,{as:vs,allowPinchZoom:!0,children:r.jsx(md,{asChild:!0,trapped:p.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ue(a,X=>{var Ie;(Ie=p.trigger)==null||Ie.focus({preventScroll:!0}),X.preventDefault()}),children:r.jsx(zi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(Fe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:X=>X.preventDefault(),...x,...D,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,X=>{const Ie=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Ie&&X.key.length===1&&ie(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let R=Q().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const oe=X.target,O=R.indexOf(oe);R=R.slice(O+1)}setTimeout(()=>Y(R)),X.preventDefault()}})})})})})})});Tk.displayName=aL;var iL="SelectItemAlignedPosition",Ak=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Xa(Ii,n),o=Ja(Ii,n),[l,c]=m.useState(null),[d,u]=m.useState(null),f=et(t,k=>u(k)),h=dh(n),y=m.useRef(!1),j=m.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:p}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&x){const k=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const oe=M.left-T.left,O=E.left-oe,Re=k.left-O,ot=k.width+Re,qt=Math.max(ot,T.width),U=window.innerWidth-Dr,Ne=lj(O,[Dr,Math.max(Dr,U-qt)]);l.style.minWidth=ot+"px",l.style.left=Ne+"px"}else{const oe=T.right-M.right,O=window.innerWidth-E.right-oe,Re=window.innerWidth-k.right-O,ot=k.width+Re,qt=Math.max(ot,T.width),U=window.innerWidth-Dr,Ne=lj(O,[Dr,Math.max(Dr,U-qt)]);l.style.minWidth=ot+"px",l.style.right=Ne+"px"}const B=h(),Q=window.innerHeight-Dr*2,z=g.scrollHeight,$=window.getComputedStyle(d),H=parseInt($.borderTopWidth,10),Y=parseInt($.paddingTop,10),C=parseInt($.borderBottomWidth,10),P=parseInt($.paddingBottom,10),q=H+Y+z+P+C,G=Math.min(v.offsetHeight*5,q),ie=window.getComputedStyle(g),V=parseInt(ie.paddingTop,10),ee=parseInt(ie.paddingBottom,10),Z=k.top+k.height/2-Dr,Fe=Q-Z,D=v.offsetHeight/2,X=v.offsetTop+D,Ie=H+Y+X,A=q-Ie;if(Ie<=Z){const oe=B.length>0&&v===B[B.length-1].ref.current;l.style.bottom="0px";const O=d.clientHeight-g.offsetTop-g.offsetHeight,Re=Math.max(Fe,D+(oe?ee:0)+O+C),ot=Ie+Re;l.style.height=ot+"px"}else{const oe=B.length>0&&v===B[0].ref.current;l.style.top="0px";const Re=Math.max(Z,H+g.offsetTop+(oe?V:0)+D)+A;l.style.height=Re+"px",g.scrollTop=Ie-Z+g.offsetTop}l.style.margin=`${Dr}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=Q+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[h,i.trigger,i.valueNode,l,d,g,v,x,i.dir,s]);sn(()=>w(),[w]);const[N,b]=m.useState();sn(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const _=m.useCallback(k=>{k&&j.current===!0&&(w(),p==null||p(),j.current=!1)},[w,p]);return r.jsx(lL,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:_,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(_e.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ak.displayName=iL;var oL="SelectPopperPosition",fx=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Dr,...i}=e,o=uh(n);return r.jsx(oh,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fx.displayName=oL;var[lL,mv]=hl(Ii,{}),hx="SelectViewport",Dk=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Ja(hx,n),o=mv(hx,n),l=et(t,i.onViewportChange),c=m.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(ch.Slot,{scope:n,children:r.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const y=Math.abs(c.current-u.scrollTop);if(y>0){const j=window.innerHeight-Dr*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<j){const p=x+y,w=Math.min(j,p),N=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Dk.displayName=hx;var Ik="SelectGroup",[cL,dL]=hl(Ik),uL=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Xn();return r.jsx(cL,{scope:n,id:a,children:r.jsx(_e.div,{role:"group","aria-labelledby":a,...s,ref:t})})});uL.displayName=Ik;var Rk="SelectLabel",Ok=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=dL(Rk,n);return r.jsx(_e.div,{id:a.id,...s,ref:t})});Ok.displayName=Rk;var hf="SelectItem",[fL,Fk]=hl(hf),Lk=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Xa(hf,n),c=Ja(hf,n),d=l.value===s,[u,f]=m.useState(i??""),[h,y]=m.useState(!1),j=et(t,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,s,a)}),g=Xn(),v=m.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(fL,{scope:n,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:m.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(ch.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:ue(o.onFocus,()=>y(!0)),onBlur:ue(o.onBlur,()=>y(!1)),onClick:ue(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:ue(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:ue(o.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:ue(o.onPointerMove,p=>{var w;v.current=p.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ue(o.onKeyDown,p=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&p.key===" "||(X5.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});Lk.displayName=hf;var $l="SelectItemText",$k=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Xa($l,n),l=Ja($l,n),c=Fk($l,n),d=nL($l,n),[u,f]=m.useState(null),h=et(t,x=>f(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),y=u==null?void 0:u.textContent,j=m.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return sn(()=>(g(j),()=>v(j)),[g,v,j]),r.jsxs(r.Fragment,{children:[r.jsx(_e.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$i.createPortal(i.children,o.valueNode):null]})});$k.displayName=$l;var zk="SelectItemIndicator",Vk=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Fk(zk,n).isSelected?r.jsx(_e.span,{"aria-hidden":!0,...s,ref:t}):null});Vk.displayName=zk;var mx="SelectScrollUpButton",Uk=m.forwardRef((e,t)=>{const n=Ja(mx,e.__scopeSelect),s=mv(mx,e.__scopeSelect),[a,i]=m.useState(!1),o=et(t,s.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(qk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Uk.displayName=mx;var px="SelectScrollDownButton",Qk=m.forwardRef((e,t)=>{const n=Ja(px,e.__scopeSelect),s=mv(px,e.__scopeSelect),[a,i]=m.useState(!1),o=et(t,s.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(qk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Qk.displayName=px;var qk=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Ja("SelectScrollButton",n),o=m.useRef(null),l=dh(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),sn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(_e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ue(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{c()})})}),hL="SelectSeparator",Bk=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(_e.div,{"aria-hidden":!0,...s,ref:t})});Bk.displayName=hL;var xx="SelectArrow",mL=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=uh(n),i=Xa(xx,n),o=Ja(xx,n);return i.open&&o.position==="popper"?r.jsx(lh,{...a,...s,ref:t}):null});mL.displayName=xx;function Wk(e){return e===""||e===void 0}var Hk=m.forwardRef((e,t)=>{const{value:n,...s}=e,a=m.useRef(null),i=et(t,a),o=hv(n);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),r.jsx(od,{asChild:!0,children:r.jsx("select",{...s,ref:i,defaultValue:n})})});Hk.displayName="BubbleSelect";function Kk(e){const t=mn(e),n=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function Gk(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=pL(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function pL(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var xL=Nk,Yk=Sk,gL=kk,vL=_k,yL=Ek,Zk=Pk,jL=Dk,Xk=Ok,Jk=Lk,wL=$k,NL=Vk,e_=Uk,t_=Qk,n_=Bk;const jt=xL,wt=gL,vt=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Yk,{ref:s,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(vL,{asChild:!0,children:r.jsx(ji,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=Yk.displayName;const r_=m.forwardRef(({className:e,...t},n)=>r.jsx(e_,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(KD,{className:"h-4 w-4"})}));r_.displayName=e_.displayName;const s_=m.forwardRef(({className:e,...t},n)=>r.jsx(t_,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ji,{className:"h-4 w-4"})}));s_.displayName=t_.displayName;const yt=m.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(yL,{children:r.jsxs(Zk,{ref:a,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(r_,{}),r.jsx(jL,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(s_,{})]})}));yt.displayName=Zk.displayName;const bL=m.forwardRef(({className:e,...t},n)=>r.jsx(Xk,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bL.displayName=Xk.displayName;const Ve=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Jk,{ref:s,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(NL,{children:r.jsx(Qf,{className:"h-4 w-4"})})}),r.jsx(wL,{children:t})]}));Ve.displayName=Jk.displayName;const SL=m.forwardRef(({className:e,...t},n)=>r.jsx(n_,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));SL.displayName=n_.displayName;const Fc=m.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Fc.displayName="Textarea";function ct(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Dn(e,t){const n=ct(e);return isNaN(t)?pr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Kr(e,t){const n=ct(e);if(isNaN(t))return pr(e,NaN);if(!t)return n;const s=n.getDate(),a=pr(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const pv=6048e5,CL=864e5;let kL={};function yd(){return kL}function Ss(e,t){var l,c,d,u;const n=yd(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ct(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ri(e){return Ss(e,{weekStartsOn:1})}function a_(e){const t=ct(e),n=t.getFullYear(),s=pr(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Ri(s),i=pr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ri(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function tl(e){const t=ct(e);return t.setHours(0,0,0,0),t}function mf(e){const t=ct(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function us(e,t){const n=tl(e),s=tl(t),a=+n-mf(n),i=+s-mf(s);return Math.round((a-i)/CL)}function _L(e){const t=a_(e),n=pr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ri(n)}function gx(e,t){const n=t*7;return Dn(e,n)}function EL(e,t){return Kr(e,t*12)}function PL(e){let t;return e.forEach(function(n){const s=ct(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function ML(e){let t;return e.forEach(n=>{const s=ct(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Kn(e,t){const n=tl(e),s=tl(t);return+n==+s}function xv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TL(e){if(!xv(e)&&typeof e!="number")return!1;const t=ct(e);return!isNaN(Number(t))}function Lc(e,t){const n=ct(e),s=ct(t),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function AL(e,t,n){const s=Ss(e,n),a=Ss(t,n),i=+s-mf(s),o=+a-mf(a);return Math.round((i-o)/pv)}function gv(e){const t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Jn(e){const t=ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function i_(e){const t=ct(e),n=pr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function vv(e,t){var l,c,d,u;const n=yd(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ct(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function o_(e){return vv(e,{weekStartsOn:1})}const DL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IL=(e,t,n)=>{let s;const a=DL[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Sm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const RL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LL={date:Sm({formats:RL,defaultWidth:"full"}),time:Sm({formats:OL,defaultWidth:"full"}),dateTime:Sm({formats:FL,defaultWidth:"full"})},$L={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zL=(e,t,n,s)=>$L[e];function El(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const VL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HL=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KL={ordinalNumber:HL,era:El({values:VL,defaultWidth:"wide"}),quarter:El({values:UL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:El({values:QL,defaultWidth:"wide"}),day:El({values:qL,defaultWidth:"wide"}),dayPeriod:El({values:BL,defaultWidth:"wide",formattingValues:WL,defaultFormattingWidth:"wide"})};function Pl(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?YL(l,f=>f.test(o)):GL(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function GL(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function YL(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ZL(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const XL=/^(\d+)(th|st|nd|rd)?/i,JL=/\d+/i,e6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t6={any:[/^b/i,/^(a|c)/i]},n6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r6={any:[/1/i,/2/i,/3/i,/4/i]},s6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},a6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d6={ordinalNumber:ZL({matchPattern:XL,parsePattern:JL,valueCallback:e=>parseInt(e,10)}),era:Pl({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any"}),quarter:Pl({matchPatterns:n6,defaultMatchWidth:"wide",parsePatterns:r6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pl({matchPatterns:s6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any"}),day:Pl({matchPatterns:i6,defaultMatchWidth:"wide",parsePatterns:o6,defaultParseWidth:"any"}),dayPeriod:Pl({matchPatterns:l6,defaultMatchWidth:"any",parsePatterns:c6,defaultParseWidth:"any"})},l_={code:"en-US",formatDistance:IL,formatLong:LL,formatRelative:zL,localize:KL,match:d6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u6(e){const t=ct(e);return us(t,i_(t))+1}function c_(e){const t=ct(e),n=+Ri(t)-+_L(t);return Math.round(n/pv)+1}function d_(e,t){var u,f,h,y;const n=ct(e),s=n.getFullYear(),a=yd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(h=a.locale)==null?void 0:h.options)==null?void 0:y.firstWeekContainsDate)??1,o=pr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ss(o,t),c=pr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Ss(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function f6(e,t){var l,c,d,u;const n=yd(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=d_(e,t),i=pr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Ss(i,t)}function u_(e,t){const n=ct(e),s=+Ss(n,t)-+f6(n,t);return Math.round(s/pv)+1}function mt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const aa={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return mt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mt(n+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return mt(a,t.length)}},Ki={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gj={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return aa.y(e,t)},Y:function(e,t,n,s){const a=d_(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mt(i,t.length)},R:function(e,t){const n=a_(e);return mt(n,t.length)},u:function(e,t){const n=e.getFullYear();return mt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return mt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return mt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return aa.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return mt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=u_(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mt(a,t.length)},I:function(e,t,n){const s=c_(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):mt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):aa.d(e,t)},D:function(e,t,n){const s=u6(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):mt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return mt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Ki.noon:s===0?a=Ki.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Ki.evening:s>=12?a=Ki.afternoon:s>=4?a=Ki.morning:a=Ki.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return aa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):aa.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):mt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):mt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):aa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):aa.s(e,t)},S:function(e,t){return aa.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return yj(s);case"XXXX":case"XX":return ai(s);case"XXXXX":case"XXX":default:return ai(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return yj(s);case"xxxx":case"xx":return ai(s);case"xxxxx":case"xxx":default:return ai(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vj(s,":");case"OOOO":default:return"GMT"+ai(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vj(s,":");case"zzzz":default:return"GMT"+ai(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return mt(s,t.length)},T:function(e,t,n){const s=e.getTime();return mt(s,t.length)}};function vj(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+mt(i,2)}function yj(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):ai(e,t)}function ai(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=mt(Math.trunc(s/60),2),i=mt(s%60,2);return n+a+t+i}const jj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},h6=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return jj(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",jj(s,t)).replace("{{time}}",f_(a,t))},m6={p:f_,P:h6},p6=/^D+$/,x6=/^Y+$/,g6=["D","DD","YY","YYYY"];function v6(e){return p6.test(e)}function y6(e){return x6.test(e)}function j6(e,t,n){const s=w6(e,t,n);if(console.warn(s),g6.includes(e))throw new RangeError(s)}function w6(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S6=/^'([^]*?)'?$/,C6=/''/g,k6=/[a-zA-Z]/;function Gr(e,t,n){var u,f,h,y,j,g,v,x;const s=yd(),a=(n==null?void 0:n.locale)??s.locale??l_,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(h=s.locale)==null?void 0:h.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((x=(v=s.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=ct(e);if(!TL(l))throw new RangeError("Invalid time value");let c=t.match(b6).map(p=>{const w=p[0];if(w==="p"||w==="P"){const N=m6[w];return N(p,a.formatLong)}return p}).join("").match(N6).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:_6(p)};if(gj[w])return{isToken:!0,value:p};if(w.match(k6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const w=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&y6(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&v6(w))&&j6(w,t,String(e));const N=gj[w[0]];return N(l,w,a.localize,d)}).join("")}function _6(e){const t=e.match(S6);return t?t[1].replace(C6,"'"):e}function E6(e){const t=ct(e),n=t.getFullYear(),s=t.getMonth(),a=pr(e,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function P6(e){return Math.trunc(+ct(e)/1e3)}function M6(e){const t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function T6(e,t){return AL(M6(e),Jn(e),t)+1}function vx(e,t){const n=ct(e),s=ct(t);return n.getTime()>s.getTime()}function h_(e,t){const n=ct(e),s=ct(t);return+n<+s}function yv(e,t){const n=ct(e),s=ct(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function A6(e,t){const n=ct(e),s=ct(t);return n.getFullYear()===s.getFullYear()}function Cm(e,t){return Dn(e,-t)}function km(e,t){const n=ct(e),s=n.getFullYear(),a=n.getDate(),i=pr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=E6(i);return n.setMonth(t,Math.min(a,o)),n}function wj(e,t){const n=ct(e);return isNaN(+n)?pr(e,NaN):(n.setFullYear(t),n)}var Qe=function(){return Qe=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qe.apply(this,arguments)};function D6(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function m_(e,t,n){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function jd(e){return e.mode==="multiple"}function wd(e){return e.mode==="range"}function fh(e){return e.mode==="single"}var I6={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function R6(e,t){return Gr(e,"LLLL y",t)}function O6(e,t){return Gr(e,"d",t)}function F6(e,t){return Gr(e,"LLLL",t)}function L6(e){return"".concat(e)}function $6(e,t){return Gr(e,"cccccc",t)}function z6(e,t){return Gr(e,"yyyy",t)}var V6=Object.freeze({__proto__:null,formatCaption:R6,formatDay:O6,formatMonthCaption:F6,formatWeekNumber:L6,formatWeekdayName:$6,formatYearCaption:z6}),U6=function(e,t,n){return Gr(e,"do MMMM (EEEE)",n)},Q6=function(){return"Month: "},q6=function(){return"Go to next month"},B6=function(){return"Go to previous month"},W6=function(e,t){return Gr(e,"cccc",t)},H6=function(e){return"Week n. ".concat(e)},K6=function(){return"Year: "},G6=Object.freeze({__proto__:null,labelDay:U6,labelMonthDropdown:Q6,labelNext:q6,labelPrevious:B6,labelWeekNumber:H6,labelWeekday:W6,labelYearDropdown:K6});function Y6(){var e="buttons",t=I6,n=l_,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:V6,labels:G6,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Z6(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Jn(s):t&&(i=new Date(t,0,1)),a?o=gv(a):n&&(o=new Date(n,11,31)),{fromDate:i?tl(i):void 0,toDate:o?tl(o):void 0}}var p_=m.createContext(void 0);function X6(e){var t,n=e.initialProps,s=Y6(),a=Z6(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(fh(n)||jd(n)||wd(n))&&(c=n.onSelect);var d=Qe(Qe(Qe({},s),n),{captionLayout:l,classNames:Qe(Qe({},s.classNames),n.classNames),components:Qe({},n.components),formatters:Qe(Qe({},s.formatters),n.formatters),fromDate:i,labels:Qe(Qe({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Qe(Qe({},s.modifiers),n.modifiers),modifiersClassNames:Qe(Qe({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Qe(Qe({},s.styles),n.styles),toDate:o});return r.jsx(p_.Provider,{value:d,children:e.children})}function bt(){var e=m.useContext(p_);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function x_(e){var t=bt(),n=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function J6(e){return r.jsx("svg",Qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function g_(e){var t,n,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=bt(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:J6;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function e$(e){var t,n=bt(),s=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});var f=[];if(A6(s,a))for(var h=Jn(s),y=s.getMonth();y<=a.getMonth();y++)f.push(km(h,y));else for(var h=Jn(new Date),y=0;y<=11;y++)f.push(km(h,y));var j=function(v){var x=Number(v.target.value),p=km(Jn(e.displayMonth),x);e.onChange(p)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:g_;return r.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return r.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function t$(e){var t,n=e.displayMonth,s=bt(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,h=[];if(!a)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});for(var y=a.getFullYear(),j=i.getFullYear(),g=y;g<=j;g++)h.push(wj(i_(new Date),g));var v=function(p){var w=wj(Jn(n),Number(p.target.value));e.onChange(w)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:g_;return r.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:u(n,{locale:o}),children:h.map(function(p){return r.jsx("option",{value:p.getFullYear(),children:u(p,{locale:o})},p.getFullYear())})})}function n$(e,t){var n=m.useState(e),s=n[0],a=n[1],i=t===void 0?s:t;return[i,a]}function r$(e){var t=e.month,n=e.defaultMonth,s=e.today,a=t||n||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Lc(i,a)<0){var d=-1*(c-1);a=Kr(i,d)}return o&&Lc(a,o)<0&&(a=o),Jn(a)}function s$(){var e=bt(),t=r$(e),n=n$(t,e.month),s=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=Jn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function a$(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,a=Jn(e),i=Jn(Kr(a,s)),o=Lc(i,a),l=[],c=0;c<o;c++){var d=Kr(a,c);l.push(d)}return n&&(l=l.reverse()),l}function i$(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Jn(e);if(!n)return Kr(l,o);var c=Lc(n,e);if(!(c<i))return Kr(l,o)}}function o$(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Jn(e);if(!n)return Kr(l,-o);var c=Lc(l,n);if(!(c<=0))return Kr(l,-o)}}var v_=m.createContext(void 0);function l$(e){var t=bt(),n=s$(),s=n[0],a=n[1],i=a$(s,t),o=i$(s,t),l=o$(s,t),c=function(f){return i.some(function(h){return yv(f,h)})},d=function(f,h){c(f)||(h&&h_(f,h)?a(Kr(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return r.jsx(v_.Provider,{value:u,children:e.children})}function Nd(){var e=m.useContext(v_);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Nj(e){var t,n=bt(),s=n.classNames,a=n.styles,i=n.components,o=Nd().goToMonth,l=function(u){o(Kr(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:x_,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(e$,{onChange:l,displayMonth:e.displayMonth}),r.jsx(t$,{onChange:l,displayMonth:e.displayMonth})]})}function c$(e){return r.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d$(e){return r.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var pf=m.forwardRef(function(e,t){var n=bt(),s=n.classNames,a=n.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Qe(Qe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),r.jsx("button",Qe({},e,{ref:t,type:"button",className:o,style:l}))});function u$(e){var t,n,s=bt(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var h=d(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),j=u(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:d$,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:c$;return r.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(pf,{name:"previous-month","aria-label":h,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?r.jsx(v,{className:o.nav_icon,style:l.nav_icon}):r.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(pf,{name:"next-month","aria-label":j,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?r.jsx(x,{className:o.nav_icon,style:l.nav_icon}):r.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function bj(e){var t=bt().numberOfMonths,n=Nd(),s=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(j){return yv(e.displayMonth,j)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){s&&i(s)},y=function(){a&&i(a)};return r.jsx(u$,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:y})}function f$(e){var t,n=bt(),s=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:x_,d;return a?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=r.jsx(Nj,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(Nj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(bj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(bj,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:i.caption,children:d})}function h$(e){var t=bt(),n=t.footer,s=t.styles,a=t.classNames.tfoot;return n?r.jsx("tfoot",{className:a,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function m$(e,t,n){for(var s=n?Ri(new Date):Ss(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Dn(s,i);a.push(o)}return a}function p$(){var e=bt(),t=e.classNames,n=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=m$(a,i,o);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,f){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function x$(){var e,t=bt(),n=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:p$;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(i,{})})}function g$(e){var t=bt(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var jv=m.createContext(void 0);function v$(e){if(!jd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(jv.Provider,{value:t,children:e.children})}return r.jsx(y$,{initialProps:e.initialProps,children:e.children})}function y$(e){var t=e.initialProps,n=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var h,y;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var j=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!j){var g=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var v=s?m_([],s):[];if(u.selected){var x=v.findIndex(function(p){return Kn(d,p)});v.splice(x,1)}else v.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,v,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(h){return Kn(h,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return r.jsx(jv.Provider,{value:c,children:n})}function wv(){var e=m.useContext(jv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function j$(e,t){var n=t||{},s=n.from,a=n.to;return s&&a?Kn(a,e)&&Kn(s,e)?void 0:Kn(a,e)?{from:a,to:void 0}:Kn(s,e)?void 0:vx(s,e)?{from:e,to:a}:{from:s,to:e}:a?vx(e,a)?{from:a,to:e}:{from:e,to:a}:s?h_(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Nv=m.createContext(void 0);function w$(e){if(!wd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(Nv.Provider,{value:t,children:e.children})}return r.jsx(N$,{initialProps:e.initialProps,children:e.children})}function N$(e){var t=e.initialProps,n=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(y,j,g){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,y,j,g);var p=j$(y,s);(x=t.onSelect)===null||x===void 0||x.call(t,p,y,j,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Kn(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Cm(i,l-1),before:Dn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Dn(i,l-1)}),!i&&o&&u.disabled.push({after:Cm(o,l-1),before:Dn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Dn(i,-c+1)}),u.disabled.push({after:Dn(i,c-1)})),i&&o){var f=us(o,i)+1,h=c-f;u.disabled.push({before:Cm(i,h)}),u.disabled.push({after:Dn(o,h)})}!i&&o&&(u.disabled.push({before:Dn(o,-c+1)}),u.disabled.push({after:Dn(o,c-1)}))}return r.jsx(Nv.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:n})}function bv(){var e=m.useContext(Nv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ju(e){return Array.isArray(e)?m_([],e):e!==void 0?[e]:[]}function b$(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],a=n[1];t[s]=ju(a)}),t}var Yr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Yr||(Yr={}));var S$=Yr.Selected,Ms=Yr.Disabled,C$=Yr.Hidden,k$=Yr.Today,_m=Yr.RangeEnd,Em=Yr.RangeMiddle,Pm=Yr.RangeStart,_$=Yr.Outside;function E$(e,t,n){var s,a=(s={},s[S$]=ju(e.selected),s[Ms]=ju(e.disabled),s[C$]=ju(e.hidden),s[k$]=[e.today],s[_m]=[],s[Em]=[],s[Pm]=[],s[_$]=[],s);return e.fromDate&&a[Ms].push({before:e.fromDate}),e.toDate&&a[Ms].push({after:e.toDate}),jd(e)?a[Ms]=a[Ms].concat(t.modifiers[Ms]):wd(e)&&(a[Ms]=a[Ms].concat(n.modifiers[Ms]),a[Pm]=n.modifiers[Pm],a[Em]=n.modifiers[Em],a[_m]=n.modifiers[_m]),a}var y_=m.createContext(void 0);function P$(e){var t=bt(),n=wv(),s=bv(),a=E$(t,n,s),i=b$(t.modifiers),o=Qe(Qe({},a),i);return r.jsx(y_.Provider,{value:o,children:e.children})}function j_(){var e=m.useContext(y_);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function M$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function T$(e){return!!(e&&typeof e=="object"&&"from"in e)}function A$(e){return!!(e&&typeof e=="object"&&"after"in e)}function D$(e){return!!(e&&typeof e=="object"&&"before"in e)}function I$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function R$(e,t){var n,s=t.from,a=t.to;if(s&&a){var i=us(a,s)<0;i&&(n=[a,s],s=n[0],a=n[1]);var o=us(e,s)>=0&&us(a,e)>=0;return o}return a?Kn(a,e):s?Kn(s,e):!1}function O$(e){return xv(e)}function F$(e){return Array.isArray(e)&&e.every(xv)}function L$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(O$(n))return Kn(e,n);if(F$(n))return n.includes(e);if(T$(n))return R$(e,n);if(I$(n))return n.dayOfWeek.includes(e.getDay());if(M$(n)){var s=us(n.before,e),a=us(n.after,e),i=s>0,o=a<0,l=vx(n.before,n.after);return l?o&&i:i||o}return A$(n)?us(e,n.after)>0:D$(n)?us(n.before,e)>0:typeof n=="function"?n(e):!1})}function Sv(e,t,n){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return L$(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),n&&!yv(e,n)&&(a.outside=!0),a}function $$(e,t){for(var n=Jn(e[0]),s=gv(e[e.length-1]),a,i,o=n;o<=s;){var l=Sv(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Dn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Dn(o,1)}return i||a}var z$=365;function w_(e,t){var n=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,h={day:Dn,week:gx,month:Kr,year:EL,startOfWeek:function(v){return a.ISOWeek?Ri(v):Ss(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?o_(v):vv(v,{locale:f,weekStartsOn:c})}},y=h[n](e,s==="after"?1:-1);s==="before"&&d?y=PL([d,y]):s==="after"&&u&&(y=ML([u,y]));var j=!0;if(i){var g=Sv(y,i);j=!g.disabled&&!g.hidden}return j?y:l.count>z$?l.lastFocused:w_(y,{moveBy:n,direction:s,context:a,modifiers:i,retry:Qe(Qe({},l),{count:l.count+1})})}var N_=m.createContext(void 0);function V$(e){var t=Nd(),n=j_(),s=m.useState(),a=s[0],i=s[1],o=m.useState(),l=o[0],c=o[1],d=$$(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},h=function(v){i(v)},y=bt(),j=function(v,x){if(a){var p=w_(a,{moveBy:v,direction:x,context:y,modifiers:n});Kn(a,p)||(t.goToDate(p,a),h(p))}},g={focusedDay:a,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return r.jsx(N_.Provider,{value:g,children:e.children})}function Cv(){var e=m.useContext(N_);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function U$(e,t){var n=j_(),s=Sv(e,n,t);return s}var kv=m.createContext(void 0);function Q$(e){if(!fh(e.initialProps)){var t={selected:void 0};return r.jsx(kv.Provider,{value:t,children:e.children})}return r.jsx(q$,{initialProps:e.initialProps,children:e.children})}function q$(e){var t=e.initialProps,n=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return r.jsx(kv.Provider,{value:a,children:n})}function b_(){var e=m.useContext(kv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function B$(e,t){var n=bt(),s=b_(),a=wv(),i=bv(),o=Cv(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,y=o.focusMonthBefore,j=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,p=o.focusEndOfWeek,w=function(C){var P,q,G,ie;fh(n)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,C):jd(n)?(q=a.onDayClick)===null||q===void 0||q.call(a,e,t,C):wd(n)?(G=i.onDayClick)===null||G===void 0||G.call(i,e,t,C):(ie=n.onDayClick)===null||ie===void 0||ie.call(n,e,t,C)},N=function(C){var P;h(e),(P=n.onDayFocus)===null||P===void 0||P.call(n,e,t,C)},b=function(C){var P;f(),(P=n.onDayBlur)===null||P===void 0||P.call(n,e,t,C)},_=function(C){var P;(P=n.onDayMouseEnter)===null||P===void 0||P.call(n,e,t,C)},k=function(C){var P;(P=n.onDayMouseLeave)===null||P===void 0||P.call(n,e,t,C)},T=function(C){var P;(P=n.onDayPointerEnter)===null||P===void 0||P.call(n,e,t,C)},E=function(C){var P;(P=n.onDayPointerLeave)===null||P===void 0||P.call(n,e,t,C)},M=function(C){var P;(P=n.onDayTouchCancel)===null||P===void 0||P.call(n,e,t,C)},B=function(C){var P;(P=n.onDayTouchEnd)===null||P===void 0||P.call(n,e,t,C)},Q=function(C){var P;(P=n.onDayTouchMove)===null||P===void 0||P.call(n,e,t,C)},z=function(C){var P;(P=n.onDayTouchStart)===null||P===void 0||P.call(n,e,t,C)},$=function(C){var P;(P=n.onDayKeyUp)===null||P===void 0||P.call(n,e,t,C)},H=function(C){var P;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),d();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),u();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?g():y();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?v():j();break;case"Home":C.preventDefault(),C.stopPropagation(),x();break;case"End":C.preventDefault(),C.stopPropagation(),p();break}(P=n.onDayKeyDown)===null||P===void 0||P.call(n,e,t,C)},Y={onClick:w,onFocus:N,onBlur:b,onKeyDown:H,onKeyUp:$,onMouseEnter:_,onMouseLeave:k,onPointerEnter:T,onPointerLeave:E,onTouchCancel:M,onTouchEnd:B,onTouchMove:Q,onTouchStart:z};return Y}function W$(){var e=bt(),t=b_(),n=wv(),s=bv(),a=fh(e)?t.selected:jd(e)?n.selected:wd(e)?s.selected:void 0;return a}function H$(e){return Object.values(Yr).includes(e)}function K$(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)n.push(a);else if(H$(s)){var i=e.classNames["day_".concat(s)];i&&n.push(i)}}),n}function G$(e,t){var n=Qe({},e.styles.day);return Object.keys(t).forEach(function(s){var a;n=Qe(Qe({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function Y$(e,t,n){var s,a,i,o=bt(),l=Cv(),c=U$(e,t),d=B$(e,c),u=W$(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var _;c.outside||l.focusedDay&&f&&Kn(l.focusedDay,e)&&((_=n.current)===null||_===void 0||_.focus())},[l.focusedDay,e,n,f,c.outside]);var h=K$(o,c).join(" "),y=G$(o,c),j=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:g$,v=r.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:y,className:h,children:v,role:"gridcell"},p=l.focusTarget&&Kn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Kn(l.focusedDay,e),N=Qe(Qe(Qe({},x),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||p?0:-1,s)),d),b={isButton:f,isHidden:j,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:x};return b}function Z$(e){var t=m.useRef(null),n=Y$(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(pf,Qe({name:"day",ref:t},n.buttonProps)):r.jsx("div",Qe({},n.divProps))}function X$(e){var t=e.number,n=e.dates,s=bt(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return r.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(y){a(t,n,y)};return r.jsx(pf,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function J$(e){var t,n,s=bt(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Z$,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:X$,u;return o&&(u=r.jsx("td",{className:i.cell,style:a.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return r.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:f})},P6(f))})]})}function Sj(e,t,n){for(var s=n!=null&&n.ISOWeek?o_(t):vv(t,n),a=n!=null&&n.ISOWeek?Ri(e):Ss(e,n),i=us(s,a),o=[],l=0;l<=i;l++)o.push(Dn(a,l));var c=o.reduce(function(d,u){var f=n!=null&&n.ISOWeek?c_(u):u_(u,n),h=d.find(function(y){return y.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function e8(e,t){var n=Sj(Jn(e),gv(e),t);if(t!=null&&t.useFixedWeeks){var s=T6(e,t);if(s<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=gx(i,6-s),l=Sj(gx(i,1),o,t);n.push.apply(n,l)}}return n}function t8(e){var t,n,s,a=bt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,y=a.ISOWeek,j=e8(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:x$,v=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:J$,x=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:h$;return r.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(g,{}),r.jsx("tbody",{className:o.tbody,style:l.tbody,children:j.map(function(p){return r.jsx(v,{displayMonth:e.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),r.jsx(x,{displayMonth:e.displayMonth})]})}function n8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var r8=n8()?m.useLayoutEffect:m.useEffect,Mm=!1,s8=0;function Cj(){return"react-day-picker-".concat(++s8)}function a8(e){var t,n=e??(Mm?Cj():null),s=m.useState(n),a=s[0],i=s[1];return r8(function(){a===null&&i(Cj())},[]),m.useEffect(function(){Mm===!1&&(Mm=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function i8(e){var t,n,s=bt(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=Nd().displayMonths,d=a8(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,y=e.displayIndex===0,j=e.displayIndex===c.length-1,g=!y&&!j;a==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(f.push(i.caption_start),h=Qe(Qe({},h),o.caption_start)),j&&(f.push(i.caption_end),h=Qe(Qe({},h),o.caption_end)),g&&(f.push(i.caption_between),h=Qe(Qe({},h),o.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:f$;return r.jsxs("div",{className:f.join(" "),style:h,children:[r.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(t8,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function o8(e){var t=bt(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function l8(e){var t,n,s=e.initialProps,a=bt(),i=Cv(),o=Nd(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Qe(Qe({},a.styles.root),a.style),h=Object.keys(s).filter(function(j){return j.startsWith("data-")}).reduce(function(j,g){var v;return Qe(Qe({},j),(v={},v[g]=s[g],v))},{}),y=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:o8;return r.jsx("div",Qe({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:r.jsx(y,{children:o.displayMonths.map(function(j,g){return r.jsx(i8,{displayIndex:g,displayMonth:j},g)})})}))}function c8(e){var t=e.children,n=D6(e,["children"]);return r.jsx(X6,{initialProps:n,children:r.jsx(l$,{children:r.jsx(Q$,{initialProps:n,children:r.jsx(v$,{initialProps:n,children:r.jsx(w$,{initialProps:n,children:r.jsx(P$,{children:r.jsx(V$,{children:t})})})})})})})}function d8(e){return r.jsx(c8,Qe({},e,{children:r.jsx(l8,{initialProps:e})}))}function S_({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(d8,{showOutsideDays:n,className:J("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:J(Ic({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:J(Ic({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>r.jsx(Qp,{className:"h-4 w-4"}),IconRight:({...a})=>r.jsx(ls,{className:"h-4 w-4"})},...s})}S_.displayName="Calendar";var _v="Popover",[C_,J9]=tr(_v,[Za]),bd=Za(),[u8,ei]=C_(_v),k_=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=bd(t),c=m.useRef(null),[d,u]=m.useState(!1),[f=!1,h]=er({prop:s,defaultProp:a,onChange:i});return r.jsx(ih,{...l,children:r.jsx(u8,{scope:t,contentId:Xn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(y=>!y),[h]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:n})})};k_.displayName=_v;var __="PopoverAnchor",f8=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ei(__,n),i=bd(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(gd,{...i,...s,ref:t})});f8.displayName=__;var E_="PopoverTrigger",P_=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ei(E_,n),i=bd(n),o=et(t,a.triggerRef),l=r.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":I_(a.open),...s,ref:o,onClick:ue(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(gd,{asChild:!0,...i,children:l})});P_.displayName=E_;var Ev="PopoverPortal",[h8,m8]=C_(Ev,{forceMount:void 0}),M_=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=ei(Ev,t);return r.jsx(h8,{scope:t,forceMount:n,children:r.jsx(Ln,{present:n||i.open,children:r.jsx(cl,{asChild:!0,container:a,children:s})})})};M_.displayName=Ev;var nl="PopoverContent",T_=m.forwardRef((e,t)=>{const n=m8(nl,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=ei(nl,e.__scopePopover);return r.jsx(Ln,{present:s||i.open,children:i.modal?r.jsx(p8,{...a,ref:t}):r.jsx(x8,{...a,ref:t})})});T_.displayName=nl;var p8=m.forwardRef((e,t)=>{const n=ei(nl,e.__scopePopover),s=m.useRef(null),a=et(t,s),i=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return nh(o)},[]),r.jsx(pd,{as:vs,allowPinchZoom:!0,children:r.jsx(A_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),x8=m.forwardRef((e,t)=>{const n=ei(nl,e.__scopePopover),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(A_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),A_=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=ei(nl,n),y=bd(n);return eh(),r.jsx(md,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(zi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:r.jsx(oh,{"data-state":I_(h.open),role:"dialog",id:h.contentId,...y,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),D_="PopoverClose",g8=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ei(D_,n);return r.jsx(_e.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});g8.displayName=D_;var v8="PopoverArrow",y8=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=bd(n);return r.jsx(lh,{...a,...s,ref:t})});y8.displayName=v8;function I_(e){return e?"open":"closed"}var j8=k_,w8=P_,N8=M_,R_=T_;const b8=j8,S8=w8,O_=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(N8,{children:r.jsx(R_,{ref:a,align:t,sideOffset:n,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));O_.displayName=R_.displayName;var Pv="Checkbox",[C8,eU]=tr(Pv),[k8,_8]=C8(Pv),F_=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,y]=m.useState(null),j=et(t,N=>y(N)),g=m.useRef(!1),v=h?u||!!h.closest("form"):!0,[x=!1,p]=er({prop:a,defaultProp:i,onChange:d}),w=m.useRef(x);return m.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const b=()=>p(w.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[h,p]),r.jsxs(k8,{scope:n,state:x,disabled:l,children:[r.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Ia(x)?"mixed":x,"aria-required":o,"data-state":z_(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onKeyDown:ue(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ue(e.onClick,N=>{p(b=>Ia(b)?!0:!b),v&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),v&&r.jsx(E8,{control:h,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Ia(i)?!1:i})]})});F_.displayName=Pv;var L_="CheckboxIndicator",$_=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=_8(L_,n);return r.jsx(Ln,{present:s||Ia(i.state)||i.state===!0,children:r.jsx(_e.span,{"data-state":z_(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});$_.displayName=L_;var E8=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=hv(n),c=dv(t);m.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&y){const j=new Event("click",{bubbles:s});u.indeterminate=Ia(n),y.call(u,Ia(n)?!1:n),u.dispatchEvent(j)}},[l,n,s]);const d=m.useRef(Ia(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ia(e){return e==="indeterminate"}function z_(e){return Ia(e)?"indeterminate":e?"checked":"unchecked"}var V_=F_,P8=$_;const xf=m.forwardRef(({className:e,...t},n)=>r.jsx(V_,{ref:n,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(P8,{className:J("flex items-center justify-center text-current"),children:r.jsx(Qf,{className:"h-4 w-4"})})}));xf.displayName=V_.displayName;const M8=c3.extend({dueDate:we.date({required_error:"Due date is required"})});function U_({onSuccess:e,onCancel:t,initialData:n,isEdit:s=!1,orderId:a}){const{toast:i}=Qt(),[o,l]=m.useState(!1),[c,d]=m.useState([]),[u,f]=m.useState([]),[h,y]=m.useState([]),[j,g]=m.useState(!0);m.useEffect(()=>{(async()=>{try{g(!0);const b=await fetch("/api/locations");if(!b.ok)throw new Error("Failed to fetch locations");const _=await b.json();if(d(_),s&&a){const k=await fetch(`/api/order-locations/order/${a}`);if(!k.ok)throw new Error("Failed to fetch order locations");const E=(await k.json()).map(M=>M.locationId);f(E),y(E)}else{const k=["Risers","No Slip"];f(_.filter(T=>!k.includes(T.name)).map(T=>T.id))}}catch(b){console.error("Error loading data:",b),i({title:"Error",description:"Failed to load locations data",variant:"destructive"})}finally{g(!1)}})()},[s,a,i]);const v=N=>{f(b=>b.includes(N)?b.filter(_=>_!==N):[...b,N])},x={orderNumber:"",tbfosNumber:"",client:"",totalQuantity:0,description:"",notes:"",pdfPrefix:"",...n,dueDate:n!=null&&n.dueDate?typeof n.dueDate=="number"?new Date(n.dueDate*1e3):new Date(n.dueDate):void 0},p=lr({resolver:cr(M8),defaultValues:x}),w=async N=>{try{l(!0);const b={...N,dueDate:Math.floor(N.dueDate.getTime()/1e3),selectedLocationIds:u};let _;if(s&&a){if(_=await ve("PUT",`/api/orders/${a}`,b),_.ok){const T=await _.json(),E=u.filter(B=>!h.includes(B)),M=h.filter(B=>!u.includes(B));for(const B of E)await ve("POST","/api/order-locations",{orderId:T.id,locationId:B,status:"not_started",completedQuantity:0});for(const B of M)await ve("DELETE",`/api/order-locations/${T.id}/${B}`);rt.invalidateQueries({queryKey:[`/api/order-locations/order/${T.id}`]})}}else _=await ve("POST","/api/orders",b);if(!_.ok){const T=await _.json();throw console.error("Server error:",T),new Error(T.message||"Server error")}const k=await _.json();rt.invalidateQueries({queryKey:["/api/orders"]}),i({title:s?"Order Updated":"Order Created",description:`Order ${k.orderNumber} has been ${s?"updated":"created"} successfully.`}),e&&e(k)}catch(b){console.error("Error submitting order:",b),i({title:"Error",description:`Failed to ${s?"update":"create"} order. ${b.message||"Please try again."}`,variant:"destructive"})}finally{l(!1)}};return r.jsx(ur,{...p,children:r.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ee,{control:p.control,name:"orderNumber",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Order Number"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"ORD-1234",...N})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"tbfosNumber",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"TBFOS Number"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"TB-123",...N})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"client",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Client"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Client name",...N})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"dueDate",render:({field:N})=>r.jsxs(Se,{className:"flex flex-col",children:[r.jsx(Ce,{children:"Due Date"}),r.jsxs(b8,{children:[r.jsx(S8,{asChild:!0,children:r.jsx(ke,{children:r.jsxs(L,{variant:"outline",className:J("pl-3 text-left font-normal",!N.value&&"text-muted-foreground"),children:[N.value?Gr(N.value,"PPP"):r.jsx("span",{children:"Pick a date"}),r.jsx(vc,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),r.jsx(O_,{className:"w-auto p-0",align:"start",children:r.jsx(S_,{mode:"single",selected:N.value,onSelect:N.onChange,disabled:b=>b<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"totalQuantity",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Total Quantity"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",placeholder:"0",...N,onChange:b=>N.onChange(parseInt(b.target.value)||0)})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"pdfPrefix",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"PDF Prefix (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"PDF prefix",...N})}),r.jsx(He,{})]})})]}),r.jsx(Ee,{control:p.control,name:"description",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Description"}),r.jsx(ke,{children:r.jsx(Fc,{placeholder:"Order description",...N,rows:3})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:p.control,name:"notes",render:({field:N})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Notes (Optional)"}),r.jsx(ke,{children:r.jsx(Fc,{placeholder:"Additional notes",...N,rows:3})}),r.jsx(He,{})]})}),r.jsxs(le,{children:[r.jsx(Le,{children:r.jsx(ze,{children:"Select Locations"})}),r.jsx(de,{children:j?r.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(N=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xf,{id:`location-${N.id}`,checked:u.includes(N.id),onCheckedChange:()=>v(N.id)}),r.jsx("label",{htmlFor:`location-${N.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:N.name})]},N.id))})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[t&&r.jsx(L,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(L,{type:"submit",disabled:o,children:o?"Saving...":s?"Update Order":"Create Order"})]})]})})}var[hh,tU]=tr("Tooltip",[Za]),mh=Za(),Q_="TooltipProvider",T8=700,yx="tooltip.open",[A8,Mv]=hh(Q_),q_=e=>{const{__scopeTooltip:t,delayDuration:n=T8,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=m.useState(!0),c=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),r.jsx(A8,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};q_.displayName=Q_;var ph="Tooltip",[D8,xh]=hh(ph),B_=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Mv(ph,e.__scopeTooltip),d=mh(t),[u,f]=m.useState(null),h=Xn(),y=m.useRef(0),j=o??c.disableHoverableContent,g=l??c.delayDuration,v=m.useRef(!1),[x=!1,p]=er({prop:s,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(yx))):c.onClose(),i==null||i(k)}}),w=m.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),N=m.useCallback(()=>{window.clearTimeout(y.current),v.current=!1,p(!0)},[p]),b=m.useCallback(()=>{window.clearTimeout(y.current),p(!1)},[p]),_=m.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{v.current=!0,p(!0)},g)},[g,p]);return m.useEffect(()=>()=>window.clearTimeout(y.current),[]),r.jsx(ih,{...d,children:r.jsx(D8,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?_():N()},[c.isOpenDelayed,_,N]),onTriggerLeave:m.useCallback(()=>{j?b():window.clearTimeout(y.current)},[b,j]),onOpen:N,onClose:b,disableHoverableContent:j,children:n})})};B_.displayName=ph;var jx="TooltipTrigger",W_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=xh(jx,n),i=Mv(jx,n),o=mh(n),l=m.useRef(null),c=et(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(gd,{asChild:!0,...o,children:r.jsx(_e.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ue(e.onBlur,a.onClose),onClick:ue(e.onClick,a.onClose)})})});W_.displayName=jx;var I8="TooltipPortal",[nU,R8]=hh(I8,{forceMount:void 0}),rl="TooltipContent",H_=m.forwardRef((e,t)=>{const n=R8(rl,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=xh(rl,e.__scopeTooltip);return r.jsx(Ln,{present:s||o.open,children:o.disableHoverableContent?r.jsx(K_,{side:a,...i,ref:t}):r.jsx(O8,{side:a,...i,ref:t})})}),O8=m.forwardRef((e,t)=>{const n=xh(rl,e.__scopeTooltip),s=Mv(rl,e.__scopeTooltip),a=m.useRef(null),i=et(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:f}=s,h=m.useCallback(()=>{l(null),f(!1)},[f]),y=m.useCallback((j,g)=>{const v=j.currentTarget,x={x:j.clientX,y:j.clientY},p=z8(x,v.getBoundingClientRect()),w=V8(x,p),N=U8(g.getBoundingClientRect()),b=q8([...w,...N]);l(b),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&u){const j=v=>y(v,u),g=v=>y(v,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",g)}}},[c,u,y,h]),m.useEffect(()=>{if(o){const j=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!Q8(x,o);p?h():w&&(h(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,h]),r.jsx(K_,{...e,ref:i})}),[F8,L8]=hh(ph,{isInside:!1}),K_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=xh(rl,n),d=mh(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(yx,u),()=>document.removeEventListener(yx,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=h=>{const y=h.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(zi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(oh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Mg,{children:s}),r.jsx(F8,{scope:n,isInside:!0,children:r.jsx(ND,{id:c.contentId,role:"tooltip",children:a||s})})]})})});H_.displayName=rl;var G_="TooltipArrow",$8=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=mh(n);return L8(G_,n).isInside?null:r.jsx(lh,{...a,...s,ref:t})});$8.displayName=G_;function z8(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function V8(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function U8(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function Q8(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&n<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function q8(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),B8(t)}function B8(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var W8=q_,H8=B_,K8=W_,Y_=H_;const G8=W8,Y8=H8,Z8=K8,Z_=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Y_,{ref:s,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Z_.displayName=Y_.displayName;const Gi={xs:480,sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function X_(e="md"){const[t,n]=m.useState({isMobile:!1,isTablet:!1,isDesktop:!1,screenWidth:0,breakpointValue:typeof e=="number"?e:Gi[e]});return m.useEffect(()=>{const s=typeof e=="number"?e:Gi[e],a=()=>{const l=window.innerWidth;n({isMobile:l<Gi.sm,isTablet:l>=Gi.sm&&l<Gi.lg,isDesktop:l>=Gi.lg,screenWidth:l,breakpointValue:s})};a();let i;const o=()=>{clearTimeout(i),i=setTimeout(a,100)};return window.addEventListener("resize",o),()=>{clearTimeout(i),window.removeEventListener("resize",o)}},[e]),t}function ml(e="md"){const{isMobile:t}=X_(e);return t}const ti=ml;function $s({status:e,queuePosition:t,showLabel:n=!0,size:s="md",interactive:a=!1}){const{toast:i}=Qt(),o=ti(),c={not_available:{color:"bg-gray-400",label:"N/A",description:"This location is not available yet"},not_started:{color:"bg-gray-300",label:"Not Started",description:"This location has not started yet"},in_queue:{color:"bg-amber-500",label:t?`In Queue (#${t})`:"In Queue",description:"Order is waiting to be processed"},in_progress:{color:"bg-blue-500",label:"In Progress",description:"Order is currently being produced"},paused:{color:"bg-yellow-400",label:"Paused",description:"Production on this order has been temporarily paused"},done:{color:"bg-green-500",label:"Completed",description:"Production is complete at this location"},shipped:{color:"bg-green-700",label:"Shipped",description:"Order has been shipped to the customer"},cancelled:{color:"bg-red-500",label:"Cancelled",description:"Order has been cancelled"},overdue:{color:"bg-red-500",label:"Overdue",description:"This order is past its due date"},ready:{color:"bg-emerald-500",label:"Ready to Ship",description:"This order is ready for shipment"}}[e]??{color:"bg-gray-400",label:"Unknown",description:"Unknown order status"},d=()=>{a&&i({title:c.label,description:c.description,duration:3e3})},u={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"},f={sm:"text-xs",md:"text-sm",lg:"text-base"};if(o&&a)return r.jsxs(Ae,{variant:"outline",className:`flex items-center px-2 py-1 border-2 border-${c.color.replace("bg-","")}/20 hover:bg-${c.color.replace("bg-","")}/10 active:bg-${c.color.replace("bg-","")}/20 cursor-pointer transition-colors`,onClick:d,children:[r.jsx("span",{className:`${c.color} ${u[s]} rounded-full mr-1.5`}),r.jsx("span",{className:f[s],children:c.label})]});const h=r.jsx("span",{className:`${c.color} ${u[s]} rounded-full ${n?"mr-1.5":""}`});return n?r.jsxs("div",{className:"flex items-center",onClick:d,children:[h,r.jsx("span",{className:f[s],children:c.label})]}):r.jsx(G8,{children:r.jsxs(Y8,{children:[r.jsx(Z8,{asChild:!0,children:r.jsx("div",{className:"inline-flex cursor-help",children:h})}),r.jsxs(Z_,{children:[r.jsx("p",{children:c.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:c.description})]})]})})}function wx({isOpen:e,onClose:t,onSubmit:n,currentQuantity:s,maxQuantity:a,title:i="Update Quantity",description:o="Enter the new completed quantity",confirmText:l="Update"}){const[c,d]=m.useState(s),[u,f]=m.useState(null),h=ml();ge.useEffect(()=>{e&&(d(s),f(null))},[e,s]);const y=p=>{const w=parseInt(p.target.value);p.target.value===""?(d(0),f(null)):isNaN(w)?f("Please enter a valid number"):(d(w),v(w))},j=()=>{const p=Math.min(c+1,a);d(p),v(p)},g=()=>{const p=Math.max(0,c-1);d(p),v(p)},v=p=>{p<0?f("Quantity cannot be negative"):p>a?f(`Quantity cannot exceed ${a}`):f(null)},x=p=>{p.preventDefault(),!(c<0||c>a)&&(n(c),t())};return r.jsx(Ot,{open:e,onOpenChange:t,children:r.jsxs(Pt,{className:h?"w-[90vw] max-w-[400px] rounded-lg p-4":"",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:i}),r.jsx(Yt,{children:o})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4 py-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(gt,{htmlFor:"quantity",children:"Quantity"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L,{type:"button",variant:"outline",size:h?"icon":"sm",onClick:g,className:h?"h-10 w-10":"",children:r.jsx(iI,{className:h?"h-5 w-5":"h-4 w-4"})}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Be,{id:"quantity",type:"number",value:c,onChange:y,min:0,max:a,className:`text-center ${h?"text-lg py-6":""}`}),h&&r.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:["/ ",a]})]}),r.jsx(L,{type:"button",variant:"outline",size:h?"icon":"sm",onClick:j,className:h?"h-10 w-10":"",children:r.jsx(Sn,{className:h?"h-5 w-5":"h-4 w-4"})})]}),!h&&r.jsxs("div",{className:"text-sm text-right text-muted-foreground",children:["Maximum: ",a]}),u&&r.jsx("p",{className:"text-sm text-destructive mt-1",children:u})]}),r.jsxs(xs,{className:h?"flex-col space-y-2":"",children:[r.jsx(L,{type:"button",variant:"outline",onClick:t,className:h?"w-full":"",children:"Cancel"}),r.jsx(L,{type:"submit",disabled:!!u||c===s,className:h?"w-full":"",children:l})]})]})]})})}function X8(){const[,e]=Zr(),{toast:t}=Qt();_n();const n=ti(),[s,a]=m.useState(""),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState("createdAt"),[f,h]=m.useState("desc"),[y,j]=m.useState(!1),[g,v]=m.useState(null),[x,p]=m.useState(null),{data:w,isLoading:N,refetch:b}=Pe({queryKey:["/api/orders",i],queryFn:async({queryKey:V})=>{const ee=V[1],Z=await fetch(`/api/orders?includeShipped=${ee}`);if(!Z.ok)throw new Error("Failed to fetch orders");return Z.json()}}),_=(w==null?void 0:w.data)||[],{data:k,isLoading:T}=Pe({queryKey:["/api/locations"]}),M=[..._.filter(V=>{if(!s)return!0;const ee=s.toLowerCase();return V.orderNumber.toLowerCase().includes(ee)||V.tbfosNumber.toLowerCase().includes(ee)||V.client.toLowerCase().includes(ee)||V.description&&V.description.toLowerCase().includes(ee)})||[]].sort((V,ee)=>{let Z=V[d],Fe=ee[d];if(d==="dueDate"&&(Z=new Date(V.dueDate).getTime(),Fe=new Date(ee.dueDate).getTime()),Z===Fe)return 0;const D=f==="asc"?1:-1;return Z===null?1*D:Fe===null||Z<Fe?-1*D:1*D}),B=V=>{d===V?h(f==="asc"?"desc":"asc"):(u(V),h("asc"))},Q=async V=>{const ee=_==null?void 0:_.find(Z=>Z.id===V);ee&&(v(V),p(ee),j(!0))},z=async V=>{if(!(!g||!x))try{await ve("POST",`/api/orders/${g}/ship`,{quantity:V}),rt.invalidateQueries({queryKey:["/api/orders"]}),b(),t({title:"Order Shipped",description:`${V} units of order ${x.orderNumber} have been shipped.`})}catch(ee){console.error("Error shipping order:",ee),t({title:"Error",description:"Failed to ship order. Please try again.",variant:"destructive"})}},$=V=>new Date(V.dueDate)<new Date&&!V.isShipped,H=V=>{if(V.isShipped)return!1;const ee=V.locations.filter(D=>D.locationId>0);if(ee.length===0)return!1;const Z=ee.every(D=>D.status==="done"||D.status==="in_progress"&&D.completedQuantity>0),Fe=ee.some(D=>D.status==="done");return Z&&Fe},Y=V=>{if(V.isShipped)return"shipped";if($(V))return"overdue";if(H(V))return"ready";const ee=V.locations.some(D=>D.status==="in_progress"),Z=V.locations.some(D=>D.status==="in_queue"),Fe=V.locations.some(D=>D.status==="paused");return ee?"in_progress":Fe?"paused":Z?"in_queue":"not_started"},C=((_==null?void 0:_.length)||0)+1,P=async(V,ee)=>{try{await ve("POST",`/api/queue/global/${V}`,{position:ee}),rt.invalidateQueries({queryKey:["/api/orders"]}),rt.invalidateQueries({queryKey:["/api/queue/global"]}),await b(),t({title:"Queue updated",description:`Order moved to position ${ee}.`})}catch{t({title:"Failed to update queue",variant:"destructive"})}},q=V=>{if($(V))return"bg-red-50";const ee=V.locations.some(D=>D.status==="in_progress"),Z=V.locations.some(D=>D.status==="in_queue"),Fe=V.locations.some(D=>D.status==="paused");return ee?"bg-green-50":Fe?"bg-yellow-50":Z?"bg-blue-50":""},G=V=>{const ee=V.locations.filter(D=>D.locationId>0),Z=ee.reduce((D,X)=>D+X.completedQuantity,0),Fe=ee.length;return Fe>0?Math.min(100,Math.round(Z/(V.totalQuantity*Fe)*100)):0},ie=()=>{o(!i)};return N||T?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx(Oe,{className:"h-8 w-64 mb-4 md:mb-0"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsx(Oe,{className:"h-10 w-64 sm:w-80"}),r.jsx(Oe,{className:"h-10 w-36"})]})]}),r.jsx(Oe,{className:"h-12 w-full mb-4"}),r.jsx("div",{className:"bg-white rounded-md shadow-sm overflow-hidden",children:r.jsx("div",{className:"p-4",children:Array.from({length:5}).map((V,ee)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},ee))})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-0",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Order Dashboard"}),r.jsx(L,{variant:"outline",size:"sm",onClick:()=>b(),className:"md:hidden",title:"Refresh",children:r.jsx(Gt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Be,{type:"text",placeholder:"Search orders...",value:s,onChange:V=>a(V.target.value),className:"pl-10 pr-3 py-2 w-full sm:w-80"}),r.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),r.jsxs(Ot,{open:l,onOpenChange:c,children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{className:"flex items-center",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," New Order"]})}),r.jsxs(Pt,{className:"sm:max-w-2xl",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Create New Order"}),r.jsx(Yt,{children:"Add a new order to the workshop management system"})]}),r.jsx(U_,{onSuccess:()=>c(!1),onCancel:()=>c(!1)})]})]})]})]}),r.jsx(le,{className:"mb-4",children:r.jsxs(de,{className:`flex ${n?"flex-col space-y-2":"flex-wrap"} items-center gap-4 py-3`,children:[r.jsx("div",{className:"text-sm font-medium",children:"Status:"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),r.jsx("span",{className:"text-sm",children:"In Progress"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),r.jsx("span",{className:"text-sm",children:"In Queue"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),r.jsx("span",{className:"text-sm",children:"Paused"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),r.jsx("span",{className:"text-sm",children:"Overdue"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),r.jsx("span",{className:"text-sm",children:"Not Available"})]})]}),r.jsx("div",{className:n?"w-full":"ml-auto",children:r.jsx(L,{variant:"outline",size:"sm",onClick:ie,className:n?"w-full":"",children:i?"Hide Shipped":"Show Shipped"})})]})}),r.jsx(le,{children:r.jsx(de,{className:"p-0",children:n?r.jsx("div",{className:"p-3 space-y-4",children:M.length===0?r.jsx("div",{className:"text-center py-6 text-gray-500",children:"No orders found. Create a new order to get started."}):M.map(V=>r.jsxs(le,{className:`${q(V)} border-l-4 ${V.isShipped?"border-l-gray-400":$(V)?"border-l-red-500":H(V)?"border-l-green-500":"border-l-blue-400"}`,children:[r.jsxs(Le,{className:"pb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ze,{className:"text-base font-medium",children:["Order #",V.orderNumber]}),r.jsx($s,{status:Y(V)})]}),r.jsxs(ut,{children:["TBFOS: ",V.tbfosNumber]})]}),r.jsxs(de,{className:"pb-2 space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Pi,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsx("span",{children:V.client})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(vc,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsx("span",{children:new Date(V.dueDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(HD,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsxs("span",{children:["Qty: ",V.totalQuantity]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 mr-2",children:r.jsx(Qa,{value:G(V),text:`${G(V)}%`,styles:qa({textSize:"32px",pathColor:G(V)===100?"green":"#3b82f6",textColor:"black"})})}),r.jsx("span",{className:"text-sm",children:"Completion"})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(jo,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:"Queue:"}),r.jsxs(jt,{value:V.globalQueuePosition?String(V.globalQueuePosition):void 0,onValueChange:ee=>P(V.id,parseInt(ee)),children:[r.jsx(vt,{className:"h-8 w-20",children:r.jsx(wt,{placeholder:"Set"})}),r.jsx(yt,{children:Array.from({length:C},(ee,Z)=>Z+1).map(ee=>r.jsx(Ve,{value:String(ee),children:ee},ee))})]})]})]})]}),V.description&&r.jsx("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:V.description})]}),r.jsxs(js,{className:"flex flex-wrap gap-2 pt-0",children:[r.jsxs(L,{variant:"outline",size:"sm",onClick:()=>e(`/orders/${V.id}`),children:[r.jsx(yc,{className:"mr-1 h-4 w-4"})," View"]}),!V.isShipped&&H(V)&&r.jsxs(L,{variant:"outline",size:"sm",onClick:()=>Q(V.id),children:[r.jsx(Vs,{className:"mr-1 h-4 w-4"})," Ship"]})]})]},V.id))}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>B("orderNumber"),children:r.jsxs("div",{className:"flex items-center",children:["Order # ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>B("client"),children:r.jsxs("div",{className:"flex items-center",children:["Client ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>B("tbfosNumber"),children:r.jsxs("div",{className:"flex items-center",children:["TBFOS # ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>B("dueDate"),children:r.jsxs("div",{className:"flex items-center",children:["Due Date ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{children:"Quantity"}),r.jsx(fe,{children:"Queue"}),k==null?void 0:k.map(V=>r.jsx(fe,{children:V.name},V.id)),r.jsx(fe,{children:"Shipping"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:M.length===0?r.jsx(qe,{children:r.jsx(K,{colSpan:9+((k==null?void 0:k.length)||0),className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500",children:[r.jsx(jo,{className:"h-12 w-12 mb-2"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Found"}),r.jsx("p",{className:"text-sm",children:s?"No orders match your search criteria":"Start by creating your first order"}),!s&&r.jsxs(L,{onClick:()=>c(!0),className:"mt-4",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Create Order"]})]})})}):M.map(V=>r.jsxs(qe,{className:q(V),children:[r.jsx(K,{className:"font-medium",children:r.jsx(kr,{href:`/orders/${V.id}`,children:r.jsx("a",{className:"text-primary hover:underline",children:V.orderNumber})})}),r.jsx(K,{children:V.client}),r.jsx(K,{children:V.tbfosNumber}),r.jsx(K,{className:$(V)?"text-red-500 font-medium":"",children:new Date(V.dueDate).toLocaleDateString()}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{style:{width:60,height:60},children:r.jsx(Qa,{value:G(V),text:`${G(V)}%`,styles:qa({pathColor:V.isShipped?"#4caf50":$(V)?"#f44336":"#1976d2",textSize:"32px",textColor:V.isShipped?"#4caf50":$(V)?"#f44336":"#1976d2",trailColor:"#e0e0e0"})})}),r.jsxs("span",{className:"ml-2 text-sm",children:[V.shippedQuantity>0?`${V.shippedQuantity}/`:"",V.totalQuantity]})]})}),r.jsx(K,{children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(jt,{value:V.globalQueuePosition?String(V.globalQueuePosition):void 0,onValueChange:ee=>P(V.id,parseInt(ee)),children:[r.jsx(vt,{className:"h-8 w-20",children:r.jsx(wt,{placeholder:"Set"})}),r.jsx(yt,{children:Array.from({length:C},(ee,Z)=>Z+1).map(ee=>r.jsx(Ve,{value:String(ee),children:ee},ee))})]})})}),k==null?void 0:k.map(ee=>{const Z=V.locations.find(Fe=>Fe.locationId===ee.id);return Z?r.jsx(K,{children:r.jsx($s,{status:Z.status,queuePosition:Z.queuePosition??void 0})},`${V.id}-${ee.id}`):r.jsx(K,{className:"text-center text-gray-300",children:"-"},`${V.id}-${ee.id}`)}),r.jsx(K,{children:V.isShipped?r.jsx(Ae,{className:"bg-green-500 text-white whitespace-nowrap",children:"Fully Shipped"}):V.partiallyShipped?r.jsx(Ae,{variant:"secondary",className:"whitespace-nowrap",children:"Partially Shipped"}):H(V)?r.jsx(L,{onClick:()=>Q(V.id),className:"bg-green-500 hover:bg-green-600 text-white whitespace-nowrap",size:"sm",children:"Ship"}):r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 rounded-full bg-gray-400 mr-2"}),r.jsx("span",{className:"text-sm",children:"Not Ready"})]})}),r.jsx(K,{children:r.jsx("div",{className:"flex space-x-1",children:r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e(`/orders/${V.id}`),title:"View Order",children:r.jsx(yc,{className:"h-4 w-4"})})})})]},V.id))})]})})})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mt-6",children:[r.jsx(le,{children:r.jsx(de,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Total Orders"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mt-1",children:(_==null?void 0:_.length)||0})]}),r.jsx("div",{className:"bg-blue-100 p-2 md:p-3 rounded-full",children:r.jsx(jo,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"})})]})})}),r.jsx(le,{children:r.jsx(de,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"In Progress"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mt-1",children:(_==null?void 0:_.filter(V=>V.locations.some(ee=>ee.status==="in_progress")).length)||0})]}),r.jsx("div",{className:"bg-green-100 p-2 md:p-3 rounded-full",children:r.jsx(Ks,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600"})})]})})}),r.jsx(le,{children:r.jsx(de,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Ready to Ship"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mt-1",children:(_==null?void 0:_.filter(V=>H(V)).length)||0})]}),r.jsx("div",{className:"bg-orange-100 p-2 md:p-3 rounded-full",children:r.jsx(Vs,{className:"h-5 w-5 md:h-6 md:w-6 text-orange-600"})})]})})}),r.jsx(le,{children:r.jsx(de,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Overdue"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mt-1 text-red-500",children:(_==null?void 0:_.filter(V=>$(V)).length)||0})]}),r.jsx("div",{className:"bg-red-100 p-2 md:p-3 rounded-full",children:r.jsx(MS,{className:"h-5 w-5 md:h-6 md:w-6 text-red-600"})})]})})})]}),x&&r.jsx(wx,{isOpen:y,onClose:()=>j(!1),onSubmit:z,currentQuantity:0,maxQuantity:x.totalQuantity-(x.shippedQuantity||0),title:`Ship Order #${x.orderNumber}`,description:`Enter the quantity to ship for ${x.client}`,confirmText:"Ship"})]})}function J8(e,t){const[n,s]=m.useState(null),{defaultTitle:a,defaultMessage:i,severity:o="error",onError:l}={};return m.useEffect(()=>{if(e!=null&&e.error){const d=BS(e.error);s({title:d.title||a||"Error",message:d.message||i||"An error occurred",details:d.details,severity:o}),l&&l(e.error)}else s(null)},[e==null?void 0:e.error,a,i,o,l]),{error:n,clearError:()=>s(null)}}function ez(e,t){const[n,s]=m.useState(null),{defaultTitle:a,defaultMessage:i,severity:o="error",onError:l}={};return m.useEffect(()=>{if(e!=null&&e.error){const d=BS(e.error);s({title:d.title||a||"Error",message:d.message||i||"An error occurred",details:d.details,severity:o}),l&&l(e.error)}else s(null)},[e==null?void 0:e.error,a,i,o,l]),{error:n,clearError:()=>s(null)}}const tz=ld("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gh=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:J(tz({variant:t}),e),...n}));gh.displayName="Alert";const vh=m.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));vh.displayName="AlertTitle";const yh=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:J("text-sm [&_p]:leading-relaxed",e),...t}));yh.displayName="AlertDescription";function kj({title:e,message:t,details:n,severity:s="error",className:a,onRetry:i,onDismiss:o,showDismiss:l=!1,children:c}){const d={error:{icon:YD,iconClass:"text-destructive",alertClass:"border-destructive/50 text-destructive",title:e||"Error"},warning:{icon:Fa,iconClass:"text-warning",alertClass:"border-warning/50 text-warning bg-warning/10",title:e||"Warning"},info:{icon:TS,iconClass:"text-info",alertClass:"border-info/50 text-info bg-info/10",title:e||"Information"},validation:{icon:WD,iconClass:"text-muted-foreground",alertClass:"border-muted text-muted-foreground bg-muted/20",title:e||"Validation Error"}},{icon:u,iconClass:f,alertClass:h,title:y}=d[s];return r.jsxs(gh,{className:J("relative",h,a),children:[r.jsx(u,{className:J("h-5 w-5",f)}),r.jsx(vh,{className:"mb-2 font-medium",children:e||y}),r.jsxs(yh,{className:"text-sm",children:[t&&r.jsx("p",{children:t}),n&&r.jsxs("details",{className:"mt-1 cursor-pointer",children:[r.jsx("summary",{className:"text-xs font-medium",children:"Show details"}),r.jsx("div",{className:"mt-2 rounded bg-background/80 p-2 text-xs",children:n})]}),c,(i||o||l)&&r.jsxs("div",{className:"mt-4 flex gap-2",children:[i&&r.jsx(L,{size:"sm",variant:"outline",onClick:i,children:"Retry"}),(o||l)&&r.jsx(L,{size:"sm",variant:"ghost",onClick:o,children:"Dismiss"})]})]})]})}var J_="AlertDialog",[nz,rU]=tr(J_,[F2]),Js=F2(),eE=e=>{const{__scopeAlertDialog:t,...n}=e,s=Js(t);return r.jsx(J2,{...s,...n,modal:!0})};eE.displayName=J_;var rz="AlertDialogTrigger",tE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Js(n);return r.jsx(ek,{...a,...s,ref:t})});tE.displayName=rz;var sz="AlertDialogPortal",nE=e=>{const{__scopeAlertDialog:t,...n}=e,s=Js(t);return r.jsx(tk,{...s,...n})};nE.displayName=sz;var az="AlertDialogOverlay",rE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Js(n);return r.jsx(Xg,{...a,...s,ref:t})});rE.displayName=az;var _o="AlertDialogContent",[iz,oz]=nz(_o),sE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,i=Js(n),o=m.useRef(null),l=et(t,o),c=m.useRef(null);return r.jsx(LF,{contentName:_o,titleName:aE,docsSlug:"alert-dialog",children:r.jsx(iz,{scope:n,cancelRef:c,children:r.jsxs(Jg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ue(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Mg,{children:s}),r.jsx(cz,{contentRef:o})]})})})});sE.displayName=_o;var aE="AlertDialogTitle",iE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Js(n);return r.jsx(ev,{...a,...s,ref:t})});iE.displayName=aE;var oE="AlertDialogDescription",lE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Js(n);return r.jsx(tv,{...a,...s,ref:t})});lE.displayName=oE;var lz="AlertDialogAction",cE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Js(n);return r.jsx(nv,{...a,...s,ref:t})});cE.displayName=lz;var dE="AlertDialogCancel",uE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=oz(dE,n),i=Js(n),o=et(t,a);return r.jsx(nv,{...i,...s,ref:o})});uE.displayName=dE;var cz=({contentRef:e})=>{const t=`\`${_o}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_o}\` by passing a \`${oE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_o}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},dz=eE,uz=tE,fz=nE,fE=rE,hE=sE,mE=cE,pE=uE,xE=iE,gE=lE;const gf=dz,vf=uz,hz=fz,vE=m.forwardRef(({className:e,...t},n)=>r.jsx(fE,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));vE.displayName=fE.displayName;const $c=m.forwardRef(({className:e,...t},n)=>r.jsxs(hz,{children:[r.jsx(vE,{}),r.jsx(hE,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$c.displayName=hE.displayName;const zc=({className:e,...t})=>r.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});zc.displayName="AlertDialogHeader";const Vc=({className:e,...t})=>r.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vc.displayName="AlertDialogFooter";const Uc=m.forwardRef(({className:e,...t},n)=>r.jsx(xE,{ref:n,className:J("text-lg font-semibold",e),...t}));Uc.displayName=xE.displayName;const Qc=m.forwardRef(({className:e,...t},n)=>r.jsx(gE,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Qc.displayName=gE.displayName;const qc=m.forwardRef(({className:e,...t},n)=>r.jsx(mE,{ref:n,className:J(Ic(),e),...t}));qc.displayName=mE.displayName;const Bc=m.forwardRef(({className:e,...t},n)=>r.jsx(pE,{ref:n,className:J(Ic({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Bc.displayName=pE.displayName;var Nx=["Enter"," "],mz=["ArrowDown","PageUp","Home"],yE=["ArrowUp","PageDown","End"],pz=[...mz,...yE],xz={ltr:[...Nx,"ArrowRight"],rtl:[...Nx,"ArrowLeft"]},gz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sd="Menu",[Wc,vz,yz]=id(Sd),[Vi,jE]=tr(Sd,[yz,Za,Jf]),jh=Za(),wE=Jf(),[jz,Ui]=Vi(Sd),[wz,Cd]=Vi(Sd),NE=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=jh(t),[c,d]=m.useState(null),u=m.useRef(!1),f=mn(i),h=hd(a);return m.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(ih,{...l,children:r.jsx(jz,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:r.jsx(wz,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:s})})})};NE.displayName=Sd;var Nz="MenuAnchor",Tv=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=jh(n);return r.jsx(gd,{...a,...s,ref:t})});Tv.displayName=Nz;var Av="MenuPortal",[bz,bE]=Vi(Av,{forceMount:void 0}),SE=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=Ui(Av,t);return r.jsx(bz,{scope:t,forceMount:n,children:r.jsx(Ln,{present:n||i.open,children:r.jsx(cl,{asChild:!0,container:a,children:s})})})};SE.displayName=Av;var Er="MenuContent",[Sz,Dv]=Vi(Er),CE=m.forwardRef((e,t)=>{const n=bE(Er,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=Ui(Er,e.__scopeMenu),o=Cd(Er,e.__scopeMenu);return r.jsx(Wc.Provider,{scope:e.__scopeMenu,children:r.jsx(Ln,{present:s||i.open,children:r.jsx(Wc.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Cz,{...a,ref:t}):r.jsx(kz,{...a,ref:t})})})})}),Cz=m.forwardRef((e,t)=>{const n=Ui(Er,e.__scopeMenu),s=m.useRef(null),a=et(t,s);return m.useEffect(()=>{const i=s.current;if(i)return nh(i)},[]),r.jsx(Iv,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kz=m.forwardRef((e,t)=>{const n=Ui(Er,e.__scopeMenu);return r.jsx(Iv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Iv=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:j,...g}=e,v=Ui(Er,n),x=Cd(Er,n),p=jh(n),w=wE(n),N=vz(n),[b,_]=m.useState(null),k=m.useRef(null),T=et(t,k,v.onContentChange),E=m.useRef(0),M=m.useRef(""),B=m.useRef(0),Q=m.useRef(null),z=m.useRef("right"),$=m.useRef(0),H=j?pd:m.Fragment,Y=j?{as:vs,allowPinchZoom:!0}:void 0,C=q=>{var X,Ie;const G=M.current+q,ie=N().filter(A=>!A.disabled),V=document.activeElement,ee=(X=ie.find(A=>A.ref.current===V))==null?void 0:X.textValue,Z=ie.map(A=>A.textValue),Fe=Lz(Z,G,ee),D=(Ie=ie.find(A=>A.textValue===Fe))==null?void 0:Ie.ref.current;(function A(R){M.current=R,window.clearTimeout(E.current),R!==""&&(E.current=window.setTimeout(()=>A(""),1e3))})(G),D&&setTimeout(()=>D.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),eh();const P=m.useCallback(q=>{var ie,V;return z.current===((ie=Q.current)==null?void 0:ie.side)&&zz(q,(V=Q.current)==null?void 0:V.area)},[]);return r.jsx(Sz,{scope:n,searchRef:M,onItemEnter:m.useCallback(q=>{P(q)&&q.preventDefault()},[P]),onItemLeave:m.useCallback(q=>{var G;P(q)||((G=k.current)==null||G.focus(),_(null))},[P]),onTriggerLeave:m.useCallback(q=>{P(q)&&q.preventDefault()},[P]),pointerGraceTimerRef:B,onPointerGraceIntentChange:m.useCallback(q=>{Q.current=q},[]),children:r.jsx(H,{...Y,children:r.jsx(md,{asChild:!0,trapped:a,onMountAutoFocus:ue(i,q=>{var G;q.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(zi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:r.jsx(f2,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:b,onCurrentTabStopIdChange:_,onEntryFocus:ue(c,q=>{x.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(oh,{role:"menu","aria-orientation":"vertical","data-state":VE(v.open),"data-radix-menu-content":"",dir:x.dir,...p,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:ue(g.onKeyDown,q=>{const ie=q.target.closest("[data-radix-menu-content]")===q.currentTarget,V=q.ctrlKey||q.altKey||q.metaKey,ee=q.key.length===1;ie&&(q.key==="Tab"&&q.preventDefault(),!V&&ee&&C(q.key));const Z=k.current;if(q.target!==Z||!pz.includes(q.key))return;q.preventDefault();const D=N().filter(X=>!X.disabled).map(X=>X.ref.current);yE.includes(q.key)&&D.reverse(),Oz(D)}),onBlur:ue(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(E.current),M.current="")}),onPointerMove:ue(e.onPointerMove,Hc(q=>{const G=q.target,ie=$.current!==q.clientX;if(q.currentTarget.contains(G)&&ie){const V=q.clientX>$.current?"right":"left";z.current=V,$.current=q.clientX}}))})})})})})})});CE.displayName=Er;var _z="MenuGroup",Rv=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(_e.div,{role:"group",...s,ref:t})});Rv.displayName=_z;var Ez="MenuLabel",kE=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(_e.div,{...s,ref:t})});kE.displayName=Ez;var yf="MenuItem",_j="menu.itemSelect",wh=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=m.useRef(null),o=Cd(yf,e.__scopeMenu),l=Dv(yf,e.__scopeMenu),c=et(t,i),d=m.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(_j,{bubbles:!0,cancelable:!0});f.addEventListener(_j,y=>s==null?void 0:s(y),{once:!0}),Tg(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(_E,{...a,ref:c,disabled:n,onClick:ue(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:ue(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Nx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wh.displayName=yf;var _E=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=Dv(yf,n),l=wE(n),c=m.useRef(null),d=et(t,c),[u,f]=m.useState(!1),[h,y]=m.useState("");return m.useEffect(()=>{const j=c.current;j&&y((j.textContent??"").trim())},[i.children]),r.jsx(Wc.ItemSlot,{scope:n,disabled:s,textValue:a??h,children:r.jsx(h2,{asChild:!0,...l,focusable:!s,children:r.jsx(_e.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:ue(e.onPointerMove,Hc(j=>{s?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,Hc(j=>o.onItemLeave(j))),onFocus:ue(e.onFocus,()=>f(!0)),onBlur:ue(e.onBlur,()=>f(!1))})})})}),Pz="MenuCheckboxItem",EE=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(DE,{scope:e.__scopeMenu,checked:n,children:r.jsx(wh,{role:"menuitemcheckbox","aria-checked":jf(n)?"mixed":n,...a,ref:t,"data-state":Fv(n),onSelect:ue(a.onSelect,()=>s==null?void 0:s(jf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EE.displayName=Pz;var PE="MenuRadioGroup",[Mz,Tz]=Vi(PE,{value:void 0,onValueChange:()=>{}}),ME=m.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=mn(s);return r.jsx(Mz,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(Rv,{...a,ref:t})})});ME.displayName=PE;var TE="MenuRadioItem",AE=m.forwardRef((e,t)=>{const{value:n,...s}=e,a=Tz(TE,e.__scopeMenu),i=n===a.value;return r.jsx(DE,{scope:e.__scopeMenu,checked:i,children:r.jsx(wh,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Fv(i),onSelect:ue(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});AE.displayName=TE;var Ov="MenuItemIndicator",[DE,Az]=Vi(Ov,{checked:!1}),IE=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=Az(Ov,n);return r.jsx(Ln,{present:s||jf(i.checked)||i.checked===!0,children:r.jsx(_e.span,{...a,ref:t,"data-state":Fv(i.checked)})})});IE.displayName=Ov;var Dz="MenuSeparator",RE=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});RE.displayName=Dz;var Iz="MenuArrow",OE=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=jh(n);return r.jsx(lh,{...a,...s,ref:t})});OE.displayName=Iz;var Rz="MenuSub",[sU,FE]=Vi(Rz),zl="MenuSubTrigger",LE=m.forwardRef((e,t)=>{const n=Ui(zl,e.__scopeMenu),s=Cd(zl,e.__scopeMenu),a=FE(zl,e.__scopeMenu),i=Dv(zl,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(Tv,{asChild:!0,...d,children:r.jsx(_E,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":VE(n.open),...e,ref:zf(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,Hc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ue(e.onPointerLeave,Hc(f=>{var y,j;u();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const g=(j=n.content)==null?void 0:j.dataset.side,v=g==="right",x=v?-5:5,p=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:p,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:p,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,f=>{var y;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||xz[s.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});LE.displayName=zl;var $E="MenuSubContent",zE=m.forwardRef((e,t)=>{const n=bE(Er,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=Ui(Er,e.__scopeMenu),o=Cd(Er,e.__scopeMenu),l=FE($E,e.__scopeMenu),c=m.useRef(null),d=et(t,c);return r.jsx(Wc.Provider,{scope:e.__scopeMenu,children:r.jsx(Ln,{present:s||i.open,children:r.jsx(Wc.Slot,{scope:e.__scopeMenu,children:r.jsx(Iv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ue(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ue(e.onKeyDown,u=>{var y;const f=u.currentTarget.contains(u.target),h=gz[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),u.preventDefault())})})})})})});zE.displayName=$E;function VE(e){return e?"open":"closed"}function jf(e){return e==="indeterminate"}function Fv(e){return jf(e)?"indeterminate":e?"checked":"unchecked"}function Oz(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Fz(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function Lz(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Fz(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function $z(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&n<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function zz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $z(n,t)}function Hc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vz=NE,Uz=Tv,Qz=SE,qz=CE,Bz=Rv,Wz=kE,Hz=wh,Kz=EE,Gz=ME,Yz=AE,Zz=IE,Xz=RE,Jz=OE,eV=LE,tV=zE,Lv="DropdownMenu",[nV,aU]=tr(Lv,[jE]),$n=jE(),[rV,UE]=nV(Lv),QE=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=$n(t),d=m.useRef(null),[u=!1,f]=er({prop:a,defaultProp:i,onChange:o});return r.jsx(rV,{scope:t,triggerId:Xn(),triggerRef:d,contentId:Xn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:r.jsx(Vz,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:n})})};QE.displayName=Lv;var qE="DropdownMenuTrigger",BE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=UE(qE,n),o=$n(n);return r.jsx(Uz,{asChild:!0,...o,children:r.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:zf(t,i.triggerRef),onPointerDown:ue(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ue(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BE.displayName=qE;var sV="DropdownMenuPortal",WE=e=>{const{__scopeDropdownMenu:t,...n}=e,s=$n(t);return r.jsx(Qz,{...s,...n})};WE.displayName=sV;var HE="DropdownMenuContent",KE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=UE(HE,n),i=$n(n),o=m.useRef(!1);return r.jsx(qz,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:ue(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KE.displayName=HE;var aV="DropdownMenuGroup",iV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Bz,{...a,...s,ref:t})});iV.displayName=aV;var oV="DropdownMenuLabel",GE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Wz,{...a,...s,ref:t})});GE.displayName=oV;var lV="DropdownMenuItem",YE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Hz,{...a,...s,ref:t})});YE.displayName=lV;var cV="DropdownMenuCheckboxItem",ZE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Kz,{...a,...s,ref:t})});ZE.displayName=cV;var dV="DropdownMenuRadioGroup",uV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Gz,{...a,...s,ref:t})});uV.displayName=dV;var fV="DropdownMenuRadioItem",XE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Yz,{...a,...s,ref:t})});XE.displayName=fV;var hV="DropdownMenuItemIndicator",JE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Zz,{...a,...s,ref:t})});JE.displayName=hV;var mV="DropdownMenuSeparator",eP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Xz,{...a,...s,ref:t})});eP.displayName=mV;var pV="DropdownMenuArrow",xV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(Jz,{...a,...s,ref:t})});xV.displayName=pV;var gV="DropdownMenuSubTrigger",tP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(eV,{...a,...s,ref:t})});tP.displayName=gV;var vV="DropdownMenuSubContent",nP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=$n(n);return r.jsx(tV,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nP.displayName=vV;var yV=QE,jV=BE,wV=WE,rP=KE,sP=GE,aP=YE,iP=ZE,oP=XE,lP=JE,cP=eP,dP=tP,uP=nP;const Kc=yV,Gc=jV,NV=m.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(dP,{ref:a,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(ls,{className:"ml-auto h-4 w-4"})]}));NV.displayName=dP.displayName;const bV=m.forwardRef(({className:e,...t},n)=>r.jsx(uP,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));bV.displayName=uP.displayName;const sl=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(wV,{children:r.jsx(rP,{ref:s,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sl.displayName=rP.displayName;const tn=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(aP,{ref:s,className:J("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));tn.displayName=aP.displayName;const SV=m.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(iP,{ref:a,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lP,{children:r.jsx(Qf,{className:"h-4 w-4"})})}),t]}));SV.displayName=iP.displayName;const CV=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oP,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lP,{children:r.jsx(ZD,{className:"h-2 w-2 fill-current"})})}),t]}));CV.displayName=oP.displayName;const bx=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(sP,{ref:s,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bx.displayName=sP.displayName;const Sx=m.forwardRef(({className:e,...t},n)=>r.jsx(cP,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Sx.displayName=cP.displayName;function $v({currentPage:e,totalPages:t,onPageChange:n,pageSize:s,onPageSizeChange:a,pageSizeOptions:i=[10,20,50,100],disabled:o=!1,className:l=""}){const c=e>1,d=e<t,u=ml(),h=(()=>{const y=u?1:2,j=[];j.push(1);let g=Math.max(2,e-y),v=Math.min(t-1,e+y);e-y<2&&(v=Math.min(t-1,v+(2-(e-y)))),e+y>t-1&&(g=Math.max(2,g-(e+y-(t-1)))),g>2?j.push("..."):g===2&&j.push(2);for(let x=Math.max(g,2);x<=Math.min(v,t-1);x++)j.push(x);return v<t-1?j.push("..."):v===t-1&&j.push(t-1),t>1&&j.push(t),j})();return u?r.jsxs("div",{className:`flex flex-col items-center gap-4 ${l}`,children:[r.jsxs("div",{className:"flex items-center justify-center w-full",children:[r.jsx(L,{variant:"outline",size:"icon",onClick:()=>n(1),disabled:!c||o,"aria-label":"First page",className:"h-10 w-10",children:r.jsx(E0,{className:"h-5 w-5"})}),r.jsx(L,{variant:"outline",size:"icon",onClick:()=>n(e-1),disabled:!c||o,"aria-label":"Previous page",className:"h-10 w-10 mx-1",children:r.jsx(Qp,{className:"h-5 w-5"})}),r.jsx("div",{className:"flex items-center justify-center min-w-[100px] px-3 py-2 border rounded-md mx-2 bg-background",children:r.jsxs("span",{className:"text-sm font-medium",children:[e," / ",t]})}),r.jsx(L,{variant:"outline",size:"icon",onClick:()=>n(e+1),disabled:!d||o,"aria-label":"Next page",className:"h-10 w-10 mx-1",children:r.jsx(ls,{className:"h-5 w-5"})}),r.jsx(L,{variant:"outline",size:"icon",onClick:()=>n(t),disabled:!d||o,"aria-label":"Last page",className:"h-10 w-10",children:r.jsx(P0,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(jt,{value:s.toString(),onValueChange:y=>a(parseInt(y)),disabled:o,children:[r.jsx(vt,{className:"h-10 w-[80px]",children:r.jsx(wt,{placeholder:s})}),r.jsx(yt,{children:i.map(y=>r.jsx(Ve,{value:y.toString(),children:y},y))})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"per page"})]})]}):r.jsxs("div",{className:`flex flex-row items-center justify-between gap-2 ${l}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L,{variant:"outline",size:"sm",onClick:()=>n(1),disabled:!c||o,"aria-label":"First page",children:r.jsx(E0,{className:"h-4 w-4"})}),r.jsx(L,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:!c||o,"aria-label":"Previous page",children:r.jsx(Qp,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center space-x-1",children:h.map((y,j)=>y==="..."?r.jsx("div",{className:"px-2",children:"..."},`ellipsis-${j}`):r.jsx(L,{variant:y===e?"default":"outline",size:"sm",onClick:()=>y!==e&&n(y),disabled:o,className:"w-9 h-9",children:y},y))}),r.jsx(L,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:!d||o,"aria-label":"Next page",children:r.jsx(ls,{className:"h-4 w-4"})}),r.jsx(L,{variant:"outline",size:"sm",onClick:()=>n(t),disabled:!d||o,"aria-label":"Last page",children:r.jsx(P0,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:["Page ",e," of ",t]}),r.jsxs(jt,{value:s.toString(),onValueChange:y=>a(parseInt(y)),disabled:o,children:[r.jsx(vt,{className:"h-8 w-[70px]",children:r.jsx(wt,{placeholder:s})}),r.jsx(yt,{children:i.map(y=>r.jsx(Ve,{value:y.toString(),children:y},y))})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"per page"})]})]})}function kV(){var A;const[,e]=Zr(),{toast:t}=Qt(),{user:n}=_n(),s=ti(),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(null),[h,y]=m.useState("createdAt"),[j,g]=m.useState("desc"),[v,x]=m.useState(1),[p,w]=m.useState(20),[N,b]=m.useState(!1),[_,k]=m.useState(""),[T,E]=m.useState(null),M=(n==null?void 0:n.role)==="admin";m.useEffect(()=>{const R=setTimeout(()=>{k(a),x(1)},300);return()=>clearTimeout(R)},[a]);const B=Pe({queryKey:["/api/orders",o,v,p,_],queryFn:async({queryKey:R})=>{const[oe,O,Re,ot,qt]=R,U=String(O),Ne=String(Re),S=String(ot),F=(qt||"").trim();if(F.length>0){b(!0);const ce=new URLSearchParams({q:F,includeShipped:U,page:Ne,pageSize:S}),se=await ve("GET",`/api/orders/search?${ce.toString()}`);return b(!1),await se.json()}const W=new URLSearchParams({includeShipped:U,page:Ne,pageSize:S});return await(await ve("GET",`/api/orders?${W.toString()}`)).json()}}),Q=De({mutationFn:async R=>(E(R),await ve("DELETE",`/api/orders/${R}`),E(null),R),onSuccess:R=>{B.refetch(),t({title:"Order Deleted",description:"The order has been successfully deleted."})}}),{error:z,clearError:$}=J8(B),{error:H,clearError:Y}=ez(Q),C=[...((A=B.data)==null?void 0:A.data)||[]].sort((R,oe)=>{if(R.rush&&!oe.rush)return-1;if(!R.rush&&oe.rush)return 1;if(R.rush&&oe.rush){const ot=R.rushSetAt?new Date(R.rushSetAt).getTime():0,qt=oe.rushSetAt?new Date(oe.rushSetAt).getTime():0;if(ot!==qt)return ot-qt}const O=R.globalQueuePosition??Number.POSITIVE_INFINITY,Re=oe.globalQueuePosition??Number.POSITIVE_INFINITY;return O!==Re?O-Re:0}).sort((R,oe)=>{let O=R[h],Re=oe[h];if(h==="dueDate"&&(O=new Date(R.dueDate).getTime(),Re=new Date(oe.dueDate).getTime()),O===Re)return 0;const ot=j==="asc"?1:-1;return O===null?1*ot:Re===null||O<Re?-1*ot:1*ot}),P=R=>{h===R?g(j==="asc"?"desc":"asc"):(y(R),g("asc"))},q=async R=>{Q.mutate(R)},G=R=>{f(R),d(!0)},ie=R=>{const oe=R.locations.reduce((Re,ot)=>Re+ot.completedQuantity,0),O=R.locations.length;return O>0?Math.min(100,Math.round(oe/(R.totalQuantity*O)*100)):0},V=R=>new Date(R.dueDate)<new Date&&!R.isShipped,ee=R=>{const oe=R.locations||[],O=oe.some(qt=>qt.status==="in_progress"),Re=oe.some(qt=>qt.status==="paused"),ot=oe.some(qt=>qt.status==="in_queue");return O||Re?"in_progress":ot?"in_queue":null},Z=R=>{d(!1),f(null),rt.invalidateQueries({queryKey:["/api/orders"]})},Fe=R=>{x(R)},D=R=>{w(R),x(1)},X=()=>{l(!o),x(1)},Ie=R=>s?r.jsxs(Kc,{children:[r.jsx(Gc,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"sm",children:r.jsx(tI,{className:"h-4 w-4"})})}),r.jsxs(sl,{align:"end",children:[r.jsxs(tn,{onClick:()=>e(`/orders/${R.id}`),children:[r.jsx(yc,{className:"mr-2 h-4 w-4"})," View"]}),r.jsxs(tn,{onClick:()=>G(R),children:[r.jsx(ys,{className:"mr-2 h-4 w-4"})," Edit"]}),M&&r.jsxs(tn,{onClick:()=>{window.confirm(`Are you sure you want to delete order ${R.orderNumber}? This cannot be undone.`)&&q(R.id)},className:"text-red-500 focus:text-red-500",children:[r.jsx(Go,{className:"mr-2 h-4 w-4"})," Delete"]})]})]}):r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e(`/orders/${R.id}`),title:"View Order",children:r.jsx(yc,{className:"h-4 w-4"})}),r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>G(R),title:"Edit Order",children:r.jsx(ys,{className:"h-4 w-4"})}),M&&r.jsxs(gf,{children:[r.jsx(vf,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",title:"Delete Order",className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:r.jsx(Go,{className:"h-4 w-4"})})}),r.jsxs($c,{children:[r.jsxs(zc,{children:[r.jsx(Uc,{children:"Delete Order"}),r.jsxs(Qc,{children:["Are you sure you want to delete order ",r.jsx("strong",{children:R.orderNumber}),"? This action cannot be undone."]})]}),r.jsxs(Vc,{children:[r.jsx(Bc,{children:"Cancel"}),r.jsx(qc,{onClick:()=>q(R.id),className:"bg-red-500 hover:bg-red-600",disabled:T===R.id,children:T===R.id?r.jsxs(r.Fragment,{children:[r.jsx(un,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]})]});return B.isLoading?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx(Oe,{className:"h-8 w-64 mb-4 md:mb-0"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsx(Oe,{className:"h-10 w-64 sm:w-80"}),r.jsx(Oe,{className:"h-10 w-36"})]})]}),r.jsx(le,{children:r.jsx(de,{className:"p-4",children:Array.from({length:5}).map((R,oe)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},oe))})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 md:mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-3 md:mb-0",children:"Orders"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Be,{type:"text",placeholder:"Search orders...",value:a,onChange:R=>i(R.target.value),className:"pl-10 pr-3 py-2 w-full"}),N?r.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 animate-spin"}):r.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),r.jsxs(Ot,{open:c,onOpenChange:R=>{d(R),R||f(null)},children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{className:"flex items-center min-w-[120px]",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," New Order"]})}),r.jsxs(Pt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:u?"Edit Order":"Create New Order"}),r.jsx(Yt,{children:u?"Update the order details in the workshop management system":"Add a new order to the workshop management system"})]}),r.jsx(U_,{onSuccess:Z,onCancel:()=>{d(!1),f(null)},initialData:u||void 0,isEdit:!!u,orderId:u==null?void 0:u.id})]})]})]})]}),z&&r.jsx(kj,{title:z.title,message:z.message,details:z.details,severity:z.severity,onRetry:()=>B.refetch(),onDismiss:$,showDismiss:!0}),H&&r.jsx(kj,{title:H.title,message:H.message,details:H.details,severity:"error",onDismiss:Y,showDismiss:!0}),r.jsxs(le,{children:[r.jsx(Le,{className:"pb-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ze,{children:"Order List"}),B.isFetching&&!B.isLoading&&r.jsxs("div",{className:"ml-2 text-blue-500 flex items-center",children:[r.jsx(Gt,{className:"h-3 w-3 mr-1 animate-spin"}),r.jsx("span",{className:"text-xs",children:"Refreshing..."})]})]}),r.jsx(L,{variant:"outline",size:s?"sm":"default",onClick:X,className:"self-start sm:self-auto",children:o?"Hide Shipped":"Show Shipped"})]})}),r.jsx(de,{className:"p-0 pt-4 md:pt-6",children:s?r.jsx("div",{className:"px-3 pb-4 space-y-3",children:C.length===0?r.jsx("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-6",children:_?r.jsxs(r.Fragment,{children:[r.jsx(T0,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Found"}),r.jsx("p",{className:"text-sm text-center px-4",children:"No orders match your search criteria"}),r.jsx(L,{variant:"outline",onClick:()=>i(""),className:"mt-3",size:"sm",children:"Clear Search"})]}):r.jsxs(r.Fragment,{children:[r.jsx(jo,{className:"h-12 w-12 mb-2"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Found"}),r.jsx("p",{className:"text-sm text-center px-4",children:"Start by creating your first order"}),r.jsxs(L,{onClick:()=>d(!0),className:"mt-3",size:"sm",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Create Order"]})]})}):C.map(R=>r.jsxs(le,{className:`overflow-hidden ${V(R)?"border-red-300":""}`,children:[r.jsx(Le,{className:`py-3 px-4 ${V(R)?"bg-red-50":""}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(L,{variant:"link",className:"p-0 h-auto font-medium text-lg",onClick:()=>e(`/orders/${R.id}`),children:R.orderNumber}),r.jsx("p",{className:"text-sm text-gray-500",children:R.client})]}),r.jsx("div",{children:Ie(R)})]})}),r.jsxs(de,{className:"grid grid-cols-2 gap-3 py-3 px-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"TBFOS #"}),r.jsx("p",{children:R.tbfosNumber||"—"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),r.jsx("p",{className:V(R)?"text-red-500 font-medium":"",children:new Date(R.dueDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),r.jsxs("p",{children:[R.shippedQuantity>0?`${R.shippedQuantity}/`:"",R.totalQuantity]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),r.jsx("div",{children:R.isShipped?r.jsx(Ae,{variant:"default",children:"Fully Shipped"}):R.partiallyShipped?r.jsx(Ae,{variant:"secondary",children:"Partial"}):R.isFinished?r.jsx(Ae,{variant:"default",children:"Ready"}):V(R)?r.jsx(Ae,{variant:"destructive",children:"Overdue"}):ee(R)==="in_queue"?r.jsx(Ae,{variant:"outline",children:"In Queue"}):ee(R)==="in_progress"?r.jsx(Ae,{variant:"outline",children:"In Progress"}):r.jsx(Ae,{variant:"outline",children:"Not Started"})})]})]}),r.jsx(js,{className:"bg-gray-50 py-2 px-4 flex justify-center",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{style:{width:40,height:40},children:r.jsx(Qa,{value:ie(R),text:`${ie(R)}%`,styles:qa({textSize:"28px",pathColor:R.isShipped?"#4caf50":V(R)?"#f44336":"#1976d2",textColor:R.isShipped?"#4caf50":V(R)?"#f44336":"#1976d2",trailColor:"#e0e0e0"})})}),r.jsx("span",{className:"ml-2 text-sm",children:"Completion"})]})})]},R.id))}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>P("orderNumber"),children:r.jsxs("div",{className:"flex items-center",children:["Order # ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>P("client"),children:r.jsxs("div",{className:"flex items-center",children:["Client ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>P("tbfosNumber"),children:r.jsxs("div",{className:"flex items-center",children:["TBFOS # ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>P("dueDate"),children:r.jsxs("div",{className:"flex items-center",children:["Due Date ",r.jsx(Ca,{className:"ml-1 h-4 w-4"})]})}),r.jsx(fe,{children:"Quantity"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:C.length===0?r.jsx(qe,{children:r.jsx(K,{colSpan:7,className:"text-center py-8",children:r.jsx("div",{className:"flex flex-col items-center justify-center text-neutral-500",children:_?r.jsxs(r.Fragment,{children:[r.jsx(T0,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Found"}),r.jsx("p",{className:"text-sm",children:"No orders match your search criteria"}),r.jsx(L,{variant:"outline",onClick:()=>i(""),className:"mt-4",children:"Clear Search"})]}):r.jsxs(r.Fragment,{children:[r.jsx(jo,{className:"h-12 w-12 mb-2"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Found"}),r.jsx("p",{className:"text-sm",children:"Start by creating your first order"}),r.jsxs(L,{onClick:()=>d(!0),className:"mt-4",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Create Order"]})]})})})}):C.map(R=>r.jsxs(qe,{className:V(R)?"bg-red-50":"",children:[r.jsx(K,{className:"font-medium",children:r.jsx(L,{variant:"link",className:"p-0 h-auto font-medium",onClick:()=>e(`/orders/${R.id}`),children:R.orderNumber})}),r.jsx(K,{children:R.client}),r.jsx(K,{children:R.tbfosNumber}),r.jsx(K,{className:V(R)?"text-red-500 font-medium":"",children:new Date(R.dueDate).toLocaleDateString()}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{style:{width:60,height:60},children:r.jsx(Qa,{value:ie(R),text:`${ie(R)}%`,styles:qa({pathColor:R.isShipped?"#4caf50":V(R)?"#f44336":"#1976d2",textSize:"32px",textColor:R.isShipped?"#4caf50":V(R)?"#f44336":"#1976d2",trailColor:"#e0e0e0"})})}),r.jsxs("span",{className:"ml-2 text-sm",children:[R.shippedQuantity>0?`${R.shippedQuantity}/`:"",R.totalQuantity]})]})}),r.jsx(K,{children:R.isShipped?r.jsx(Ae,{variant:"default",children:"Fully Shipped"}):R.partiallyShipped?r.jsx(Ae,{variant:"secondary",children:"Partially Shipped"}):R.isFinished?r.jsx(Ae,{variant:"default",children:"Ready to Ship"}):V(R)?r.jsx(Ae,{variant:"destructive",children:"Overdue"}):ee(R)==="in_queue"?r.jsx(Ae,{variant:"outline",children:"In Queue"}):ee(R)==="in_progress"?r.jsx(Ae,{variant:"outline",children:"In Progress"}):r.jsx(Ae,{variant:"outline",children:"Not Started"})}),r.jsx(K,{children:Ie(R)})]},R.id))})]})})}),B.data&&B.data.pagination.totalPages>0&&r.jsx(js,{className:"flex justify-center pt-2 border-t",children:r.jsx($v,{currentPage:B.data.pagination.page,totalPages:B.data.pagination.totalPages,onPageChange:Fe,pageSize:B.data.pagination.pageSize,onPageSizeChange:D,pageSizeOptions:[10,20,50,100],disabled:B.isLoading||N||B.isFetching,className:"py-4"})})]}),B.data&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[r.jsxs("div",{children:["Showing ",C.length," of ",B.data.pagination.totalItems," orders"]}),r.jsxs("div",{children:["Page ",B.data.pagination.page," of ",B.data.pagination.totalPages]})]})]})}function _V({isOpen:e,onClose:t,onSubmit:n,location:s,orderNumber:a}){const[i,o]=m.useState(""),l=ml();ge.useEffect(()=>{e&&o("")},[e]);const c=d=>{d.preventDefault(),n(i),t()};return r.jsx(Ot,{open:e,onOpenChange:t,children:r.jsxs(Pt,{className:l?"w-[90vw] max-w-[400px] rounded-lg p-4":"",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Request Help"}),r.jsxs(Yt,{children:["Enter details about the help needed for ",a," at ",s]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4 py-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(gt,{htmlFor:"notes",children:"Details"}),r.jsx(Fc,{id:"notes",placeholder:"Describe the issue you're experiencing...",value:i,onChange:d=>o(d.target.value),className:`min-h-[120px] ${l?"text-base":""}`})]}),r.jsxs(xs,{className:l?"flex-col space-y-2":"",children:[r.jsx(L,{type:"button",variant:"outline",onClick:t,className:l?"w-full":"",children:"Cancel"}),r.jsx(L,{type:"submit",variant:"default",className:`${l?"w-full":""} bg-red-600 hover:bg-red-700`,children:"Submit Request"})]})]})]})})}function EV({orderId:e}){var oe;const[,t]=Zr(),{toast:n}=Qt(),[s,a]=m.useState(!1),i=X_(),[o,l]=m.useState(null),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[h,y]=m.useState(!1),[j,g]=m.useState(null),[v,x]=m.useState("update"),{data:p,isLoading:w,refetch:N}=Pe({queryKey:["/api/orders",e],queryFn:async()=>{const O=await fetch(`/api/orders/${e}`);if(!O.ok)throw new Error("Failed to fetch order details");return O.json()}}),{data:b}=Pe({queryKey:["/api/locations"]}),_=De({mutationFn:async O=>{await ve("POST",`/api/orders/${e}/ship`,{quantity:O})},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/orders"]}),N(),n({title:"Order Shipped",description:"The order has been successfully marked as shipped."})},onError:O=>{n({title:"Error",description:`Failed to ship order: ${O.message}`,variant:"destructive"})}}),k=async()=>{p&&(x("ship"),f(!0))},T=O=>{if(p){if(O+p.shippedQuantity>p.totalQuantity){n({title:"Quantity Exceeds Total",description:`You can ship at most ${p.totalQuantity-p.shippedQuantity} more units`,variant:"destructive"});return}_.mutate(p.shippedQuantity+O)}},E=De({mutationFn:async O=>{await ve("POST",`/api/order-locations/${e}/${O}/start`,{})},onSuccess:()=>{N(),n({title:"Location Started",description:"This location has been set to In Progress"})},onError:O=>{n({title:"Error",description:`Failed to start location: ${O.message}`,variant:"destructive"})}}),M=De({mutationFn:async({locationId:O,quantity:Re})=>{await ve("POST",`/api/order-locations/${e}/${O}/finish`,{completedQuantity:Re})},onSuccess:()=>{N(),n({title:"Location Completed",description:"This location has been marked as completed"})},onError:O=>{n({title:"Error",description:`Failed to complete location: ${O.message}`,variant:"destructive"})}}),B=De({mutationFn:async O=>{await ve("POST",`/api/order-locations/${e}/${O}/pause`,{})},onSuccess:()=>{N(),n({title:"Location Paused",description:"This location has been set to Paused"})},onError:O=>{n({title:"Error",description:`Failed to pause location: ${O.message}`,variant:"destructive"})}}),Q=De({mutationFn:async({locationId:O,quantity:Re})=>{await ve("POST",`/api/order-locations/${e}/${O}/update-quantity`,{completedQuantity:Re})},onSuccess:()=>{N(),n({title:"Quantity Updated",description:"The completed quantity has been updated"})},onError:O=>{n({title:"Error",description:`Failed to update quantity: ${O.message}`,variant:"destructive"})}}),z=De({mutationFn:async({locationId:O,notes:Re})=>{await ve("POST","/api/help-requests",{orderId:e,locationId:O,notes:Re})},onSuccess:()=>{n({title:"Help Requested",description:"Your help request has been submitted"})},onError:O=>{n({title:"Error",description:`Failed to request help: ${O.message}`,variant:"destructive"})}}),$=O=>{const Re=b==null?void 0:b.find(ot=>ot.id===O);return Re?Re.name:`Location ${O}`},H=O=>O?(O instanceof Date?O:new Date(O)).toLocaleString():"-",Y=O=>p?O.userId&&p.createdByUser&&O.userId===p.createdByUser.id?p.createdByUser.fullName||p.createdByUser.username:`User ${O.userId}`:"Unknown",C=()=>p?new Date(p.dueDate)<new Date&&!p.isShipped:!1,P=()=>{if(!p)return 0;const O=p.locations.reduce((ot,qt)=>ot+qt.completedQuantity,0),Re=p.locations.length;return Re>0?Math.min(100,Math.round(O/(p.totalQuantity*Re)*100)):0},q=()=>p?`${p.pdfPrefix||""}${p.tbfosNumber}.pdf`:"#",G=O=>{E.mutate(O)},ie=O=>{p&&(g(O),x("complete"),d(!0))},V=O=>{j&&M.mutate({locationId:j,quantity:O})},ee=O=>{B.mutate(O)},Z=O=>{p&&(g(O),x("update"),d(!0))},Fe=O=>{j&&Q.mutate({locationId:j,quantity:O})},D=O=>{g(O),y(!0)},X=O=>{j&&z.mutate({locationId:j,notes:O||void 0})},Ie=O=>{l(o===O?null:O)},A=()=>{if(!p||!j)return 0;const O=p.locations.find(Re=>Re.locationId===j);return O?O.completedQuantity:0},R=()=>{if(!j||!b)return"Location";const O=b.find(Re=>Re.id===j);return O?O.name:`Location ${j}`};return w?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx(Oe,{className:"h-8 w-64"})]}),r.jsx(Oe,{className:"h-64 w-full mb-6"}),r.jsx(Oe,{className:"h-96 w-full"})]}):p?r.jsxs("div",{className:"space-y-6 pb-12",children:[r.jsxs("div",{className:`flex ${i?"flex-col":"items-center justify-between"} mb-6`,children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsxs(L,{variant:"ghost",size:i?"sm":"icon",onClick:()=>t("/orders"),className:"mr-2",children:[r.jsx(Hn,{className:"h-5 w-5"}),i&&r.jsx("span",{className:"ml-1",children:"Back"})]}),r.jsxs("h1",{className:`font-bold ${i?"text-xl":"text-2xl"}`,children:["Order #",p.orderNumber," (",p.tbfosNumber,")"]})]}),r.jsxs("div",{className:`flex ${i?"flex-col w-full gap-2 mt-2":"items-center gap-2"}`,children:[r.jsxs(L,{onClick:()=>a(!0),variant:"outline",size:i?"sm":"default",className:i?"w-full justify-center":"",children:[r.jsx(am,{className:"h-4 w-4 mr-2"}),"Edit Order"]}),!p.isShipped&&r.jsxs(L,{onClick:k,variant:"default",size:i?"sm":"default",className:i?"w-full justify-center":"",children:[r.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Mark as Shipped"]}),r.jsxs("a",{href:q(),target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center ${i?"w-full text-center px-3 py-1.5 text-sm":"px-4 py-2"} bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition`,children:[r.jsx(MS,{className:"h-4 w-4 mr-2"}),"View PDF"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsx(ze,{className:"text-sm font-medium",children:"Status"})}),r.jsx(de,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($s,{status:p.isShipped?"shipped":"in_progress",showLabel:!0,size:"lg"}),C()&&r.jsx(Ae,{variant:"destructive",className:"ml-2",children:"Overdue"})]})})]}),r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsx(ze,{className:"text-sm font-medium",children:"Progress"})}),r.jsxs(de,{className:"grid grid-cols-3 items-center gap-4",children:[r.jsx("div",{className:"h-16 w-16",children:r.jsx(Qa,{value:P(),text:`${P()}%`,styles:qa({pathColor:p.isShipped?"#10b981":"#2563eb",textColor:p.isShipped?"#10b981":"#2563eb",trailColor:"#e5e7eb"})})}),r.jsxs("div",{className:"col-span-2",children:[r.jsxs("p",{className:"text-sm",children:["Locations completed:",r.jsxs("span",{className:"font-medium ml-1",children:[p.locations.filter(O=>O.status==="done").length,"/",p.locations.length]})]}),r.jsxs("p",{className:"text-sm",children:["Units produced:",r.jsxs("span",{className:"font-medium ml-1",children:[p.locations.reduce((O,Re)=>O+Re.completedQuantity,0),"/",p.totalQuantity]})]})]})]})]}),r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsx(ze,{className:"text-sm font-medium",children:"Details"})}),r.jsx(de,{children:r.jsxs("div",{className:"grid grid-cols-2 text-sm gap-y-1",children:[r.jsxs("p",{className:"font-medium flex items-center",children:[r.jsx(vc,{className:"h-3 w-3 mr-1 opacity-70"})," Due Date:"]}),r.jsx("p",{className:"text-right",children:H(p.dueDate)}),r.jsxs("p",{className:"font-medium flex items-center",children:[r.jsx(Ks,{className:"h-3 w-3 mr-1 opacity-70"})," Created:"]}),r.jsx("p",{className:"text-right",children:H(p.createdAt)}),r.jsxs("p",{className:"font-medium flex items-center",children:[r.jsx(Pi,{className:"h-3 w-3 mr-1 opacity-70"})," Created by:"]}),r.jsx("p",{className:"text-right",children:((oe=p.createdByUser)==null?void 0:oe.username)||"Unknown"})]})})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex justify-between items-center",children:["Production Locations",r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Total Quantity: ",p.totalQuantity]})]}),r.jsx(ut,{children:"Track production progress across all locations"})]}),r.jsx(de,{children:i?r.jsx("div",{className:"space-y-4",children:p.locations.map(O=>r.jsxs(le,{className:`overflow-hidden ${o===O.locationId?"border-primary":""}`,children:[r.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-accent/50",onClick:()=>Ie(O.locationId),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx($s,{status:O.status,queuePosition:O.queuePosition??void 0,showLabel:!1,size:"sm"}),r.jsx("span",{className:"ml-2 font-medium",children:$(O.locationId)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-sm mr-3",children:[O.completedQuantity,"/",p.totalQuantity]}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-4 w-4 transition-transform ${o===O.locationId?"transform rotate-180":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),o===O.locationId&&r.jsxs("div",{className:"px-4 pb-4 pt-2 border-t",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),r.jsx("div",{className:"flex items-center",children:r.jsx($s,{status:O.status,queuePosition:O.queuePosition??void 0,showLabel:!0})})]}),r.jsxs("div",{className:"flex justify-between my-3 text-sm",children:[r.jsxs("span",{children:["Started: ",H(O.startedAt)]}),r.jsxs("span",{children:["Completed: ",H(O.completedAt)]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[O.status==="in_queue"&&r.jsxs(L,{size:"sm",onClick:()=>G(O.locationId),className:"w-full",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Start"]}),O.status==="in_progress"&&r.jsxs(r.Fragment,{children:[r.jsxs(L,{size:"sm",onClick:()=>ee(O.locationId),className:"w-full",children:[r.jsx(sm,{className:"h-3 w-3 mr-1"}),"Pause"]}),r.jsxs(L,{size:"sm",variant:"default",onClick:()=>ie(O.locationId),className:"w-full",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Complete"]})]}),O.status==="paused"&&r.jsxs(L,{size:"sm",onClick:()=>G(O.locationId),className:"w-full",children:[r.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Resume"]}),(O.status==="in_progress"||O.status==="paused")&&r.jsxs(L,{size:"sm",variant:"outline",onClick:()=>Z(O.locationId),className:"w-full col-span-2",children:[r.jsx(ys,{className:"h-3 w-3 mr-1"}),"Update Quantity"]}),r.jsxs(L,{size:"sm",variant:"outline",onClick:()=>D(O.locationId),className:"w-full col-span-2 border-red-500/30 text-red-500 hover:bg-red-500/10",children:[r.jsx(yo,{className:"h-3 w-3 mr-1"}),"Get Help"]})]})]})]},O.locationId))}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"Location"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{children:"Quantity"}),r.jsx(fe,{children:"Started"}),r.jsx(fe,{children:"Completed"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:p.locations.map(O=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-medium",children:$(O.locationId)}),r.jsx(K,{children:r.jsx($s,{status:O.status,queuePosition:O.queuePosition??void 0})}),r.jsxs(K,{children:[O.completedQuantity,"/",p.totalQuantity]}),r.jsx(K,{children:H(O.startedAt)}),r.jsx(K,{children:H(O.completedAt)}),r.jsx(K,{children:r.jsxs(Kc,{children:[r.jsx(Gc,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",children:r.jsx(ES,{className:"h-4 w-4"})})}),r.jsxs(sl,{align:"end",children:[O.status==="in_queue"&&r.jsxs(tn,{onClick:()=>G(O.locationId),children:[r.jsx(ar,{className:"h-4 w-4 mr-2"}),"Start"]}),O.status==="in_progress"&&r.jsxs(r.Fragment,{children:[r.jsxs(tn,{onClick:()=>ee(O.locationId),children:[r.jsx(sm,{className:"h-4 w-4 mr-2"}),"Pause"]}),r.jsxs(tn,{onClick:()=>ie(O.locationId),children:[r.jsx(ar,{className:"h-4 w-4 mr-2"}),"Complete"]})]}),O.status==="paused"&&r.jsxs(tn,{onClick:()=>G(O.locationId),children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Resume"]}),(O.status==="in_progress"||O.status==="paused")&&r.jsxs(tn,{onClick:()=>Z(O.locationId),children:[r.jsx(ys,{className:"h-4 w-4 mr-2"}),"Update Quantity"]}),r.jsxs(tn,{onClick:()=>D(O.locationId),children:[r.jsx(yo,{className:"h-4 w-4 mr-2"}),"Request Help"]})]})]})})]},O.locationId))})]})})})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"p-4 sm:p-6",children:[r.jsx(ze,{className:"text-lg sm:text-xl",children:"Shipping Information"}),r.jsx(ut,{children:"Current shipping status and history"})]}),r.jsx(de,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-2",children:"Shipping Status"}),r.jsx("div",{className:"flex items-center",children:p.isShipped?r.jsx(Ae,{className:"text-sm sm:text-base py-1 px-2 sm:px-3 bg-green-500 text-white",children:"Fully Shipped"}):p.partiallyShipped?r.jsx(Ae,{variant:"secondary",className:"text-sm sm:text-base py-1 px-2 sm:px-3",children:"Partially Shipped"}):p.isFinished?r.jsx(Ae,{variant:"default",className:"text-sm sm:text-base py-1 px-2 sm:px-3",children:"Ready to Ship"}):r.jsx(Ae,{variant:"outline",className:"text-sm sm:text-base py-1 px-2 sm:px-3",children:"Not Ready"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-2",children:"Shipped Quantity"}),r.jsxs("p",{className:"text-base sm:text-lg font-medium",children:[p.shippedQuantity,"/",p.totalQuantity]}),!p.isShipped&&r.jsxs(L,{onClick:k,className:"mt-2 text-xs sm:text-sm",size:i?"sm":"default",disabled:_.isPending,variant:p.isFinished?"default":"outline",children:[r.jsx(Vs,{className:"mr-1 sm:mr-2 h-3 sm:h-4 w-3 sm:w-4"}),_.isPending?"Processing...":p.shippedQuantity>0?"Ship More":"Ship"]})]})]})})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"p-4 sm:p-6",children:[r.jsx(ze,{className:"text-lg sm:text-xl",children:"Audit Trail"}),r.jsx(ut,{children:"History of actions performed on this order"}),i&&p.auditTrail&&p.auditTrail.length>5&&r.jsx(L,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>t(`/audit-trail-page?orderId=${e}`),children:"View Full History"})]}),r.jsx(de,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.auditTrail&&p.auditTrail.length>0?(i?p.auditTrail.slice(0,5):p.auditTrail).map(O=>r.jsxs("div",{className:"flex items-start pb-3 sm:pb-4 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"bg-gray-100 rounded-full p-1.5 sm:p-2 mr-2 sm:mr-3 flex-shrink-0",children:[O.action==="created"&&r.jsx(Sn,{className:"h-4 w-4"}),O.action==="updated"&&r.jsx(am,{className:"h-4 w-4"}),O.action==="started"&&r.jsx(Ks,{className:"h-4 w-4"}),O.action==="finished"&&r.jsx(ar,{className:"h-4 w-4"}),O.action==="paused"&&r.jsx(sm,{className:"h-4 w-4"}),O.action==="updated_quantity"&&r.jsx(am,{className:"h-4 w-4"}),O.action==="shipped"&&r.jsx(Vs,{className:"h-4 w-4"}),O.action==="help_requested"&&r.jsx(yo,{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsxs("p",{className:"font-medium text-xs sm:text-sm truncate",children:[O.action==="created"&&"Order created",O.action==="updated"&&"Order updated",O.action==="started"&&`${$(O.locationId||0)} started`,O.action==="finished"&&`${$(O.locationId||0)} completed`,O.action==="paused"&&`${$(O.locationId||0)} paused`,O.action==="updated_quantity"&&`Quantity updated at ${$(O.locationId||0)}`,O.action==="shipped"&&"Order shipped",O.action==="help_requested"&&`Help requested at ${$(O.locationId||0)}`,O.userId&&` by ${Y(O)}`]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[r.jsx(vc,{className:"mr-1 h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:H(O.createdAt)})]}),O.details&&r.jsx("p",{className:"text-sm mt-1 break-words",children:O.details})]})]},O.id)):r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No audit trail available"})})})]}),r.jsx(wx,{isOpen:c,onClose:()=>d(!1),onSubmit:v==="update"?Fe:V,currentQuantity:A(),maxQuantity:(p==null?void 0:p.totalQuantity)||0,title:v==="update"?"Update Completed Quantity":"Complete Location",description:v==="update"?"Enter the new completed quantity for this location":"Enter the final completed quantity for this location",confirmText:v==="update"?"Update":"Complete"}),r.jsx(wx,{isOpen:u,onClose:()=>f(!1),onSubmit:T,currentQuantity:0,maxQuantity:((p==null?void 0:p.totalQuantity)||0)-((p==null?void 0:p.shippedQuantity)||0),title:"Ship Order",description:"Enter the quantity to ship",confirmText:"Ship"}),r.jsx(_V,{isOpen:h,onClose:()=>y(!1),onSubmit:X,location:R(),orderNumber:(p==null?void 0:p.orderNumber)||""})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"The requested order could not be found or you don't have permission to view it."}),r.jsxs(L,{onClick:()=>t("/orders"),className:"flex items-center",children:[r.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})]})}function Ej({orderLocation:e,order:t,onClick:n,onStart:s,onFinish:a,onPause:i,onResume:o,onUpdateCount:l,onRequestHelp:c,expanded:d=!1,onExpand:u,onStatusUpdate:f,isCompleted:h,onLocationAssign:y,className:j,hideQuantity:g,totalOverride:v}){const[,x]=Zr(),p=(()=>{if(e)return e;if(t){const C=t;return typeof C.orderNumber=="string"?{id:-1,orderId:C.id,locationId:-1,status:"not_available",queuePosition:null,completedQuantity:0,notes:null,startedAt:null,completedAt:null,createdAt:new Date,order:C}:t}})();if(!p)return null;const{order:w,status:N,queuePosition:b,completedQuantity:_}=p,k=ti();w&&console.log(`Order ${w.orderNumber} status:`,N);const{data:T}=Pe({queryKey:["/api/pdf-settings"],enabled:d}),E=(T==null?void 0:T.pdfPrefix)||"",M=(T==null?void 0:T.pdfPostfix)||".pdf",B=`${E}${w.tbfosNumber}${M}`,Q=typeof v=="number"&&v>=0?v:w.totalQuantity,z=Q>0?Math.round(_/Q*100):0,$=new Date(w.dueDate).toLocaleDateString(),H=()=>{switch(N){case"in_progress":return"#4caf50";case"in_queue":return"#2196f3";case"paused":return"#ffeb3a";case"done":return"#4caf50";default:return"#9e9e9e"}},Y=d?void 0:n??u;return r.jsx(le,{className:J("relative border rounded-md mb-4",j,d||!Y?"cursor-default":"cursor-pointer"),onClick:Y,children:r.jsxs(de,{className:J("p-4",d?"pt-4":"pt-8"),children:[!d&&r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx($s,{status:N,queuePosition:b??void 0,showLabel:!1,size:"md"})}),r.jsxs("div",{className:d?"":"ml-4",children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsxs("h3",{className:J("font-medium",k&&!d&&"text-sm truncate max-w-[180px]"),children:[r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:C=>{C.stopPropagation(),x(`/orders/${w.id}`)},children:w.orderNumber})," ","(",w.tbfosNumber,")"]}),!d&&w.rush&&r.jsx(Ae,{variant:"destructive",className:"ml-2 animate-pulse",children:"RUSH"}),d?r.jsx(Ae,{variant:N==="in_progress"?"default":N==="in_queue"||N==="paused"||N==="done"?"secondary":"outline",children:r.jsx($s,{status:N,queuePosition:b??void 0,showLabel:!0})}):null]}),d&&w.rush&&r.jsx("div",{className:"mb-3 -mt-1",children:r.jsx(Ae,{variant:"destructive",className:"animate-pulse",children:"RUSH PRIORITY"})}),r.jsxs("div",{className:J("text-sm mb-2",k&&!d&&"text-xs"),children:[r.jsxs("p",{children:["Client: ",r.jsx("span",{className:"font-medium",children:w.client})]}),r.jsxs("p",{children:["Due: ",r.jsx("span",{className:"font-medium",children:$})]}),!g&&r.jsxs("p",{children:["Quantity: ",r.jsxs("span",{className:"font-medium",children:[Q," pcs"]})]})]}),d&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:J("flex items-center justify-between mt-4",k&&"flex-col items-start gap-4"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{style:{width:k?50:60,height:k?50:60},children:r.jsx(Qa,{value:z,text:`${z}%`,styles:qa({pathColor:H(),textColor:H(),trailColor:"#e0e0e0",textSize:k?"22px":"16px"})})}),!g&&r.jsxs("span",{className:"ml-2 text-sm",children:[_,"/",Q," Complete"]})]}),r.jsx("div",{children:r.jsxs("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-sm flex items-center",onClick:C=>C.stopPropagation(),children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"View PDF"]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[N==="not_started"||N==="in_queue"?r.jsxs(L,{onClick:C=>{C.stopPropagation(),s&&s()},className:"bg-blue-500 hover:bg-blue-600",size:k?"sm":"default",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Start"]}):N==="in_progress"?r.jsxs(L,{onClick:C=>{C.stopPropagation(),i&&i()},className:"bg-yellow-500 hover:bg-yellow-600 text-black",size:k?"sm":"default",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),r.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Pause"]}):N==="paused"?r.jsxs(L,{onClick:C=>{C.stopPropagation(),o&&o()},className:"bg-blue-500 hover:bg-blue-600",size:k?"sm":"default",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Resume"]}):r.jsxs(L,{disabled:!0,size:k?"sm":"default",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Completed"]}),(N==="in_progress"||N==="paused")&&r.jsxs(L,{onClick:C=>{C.stopPropagation(),a&&a()},variant:"secondary",size:k?"sm":"default",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Complete"]}),(N==="in_progress"||N==="paused")&&r.jsxs(L,{onClick:C=>{C.stopPropagation();const P=prompt(`Enter completed count (current: ${_}):`,_.toString());if(P!==null){const q=parseInt(P);!isNaN(q)&&q>=0&&l&&l(q)}},variant:"outline",className:"col-span-2 mt-2",size:k?"sm":"default",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Update Count"]})]}),r.jsx("div",{className:"mt-2",children:r.jsxs(L,{onClick:C=>{C.stopPropagation();const P=prompt("Enter details about the help needed:");P!==null&&c&&c(P)},variant:"outline",className:"w-full border-red-500 text-red-500 hover:bg-red-50",size:k?"sm":"default",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Request Help"]})})]})]})]})})}function PV({locationId:e}){const[,t]=Zr(),{toast:n}=Qt(),[s,a]=m.useState("current"),[i,o]=m.useState(null),[l,c]=m.useState(!1),d=ti(),[u,f]=m.useState(null),[h,y]=m.useState([]),[j,g]=m.useState(""),{data:v,isLoading:x}=Pe({queryKey:["/api/locations",e],queryFn:async()=>{const U=await fetch(`/api/locations/${e}`);if(!U.ok)throw new Error("Failed to fetch location details");return U.json()}}),{data:p,isLoading:w,refetch:N}=Pe({queryKey:["/api/order-locations/location",e],queryFn:async()=>{const U=await fetch(`/api/order-locations/location/${e}`);if(!U.ok)throw new Error("Failed to fetch orders for this location");return U.json()}}),{data:b}=Pe({queryKey:["/api/locations"],queryFn:async()=>{const U=await fetch("/api/locations");if(!U.ok)throw new Error("Failed to fetch locations");return U.json()}}),{data:_}=Pe({queryKey:["/api/order-locations/order",e,(p||[]).map(U=>U.orderId).join(",")],enabled:!!p&&p.length>0,queryFn:async()=>{const U=Array.from(new Set((p||[]).map(S=>S.orderId))),Ne=await Promise.all(U.map(async S=>{const F=await fetch(`/api/order-locations/order/${S}`);if(!F.ok)throw new Error("Failed to fetch order-locations for order");const W=await F.json();return[S,W]}));return Object.fromEntries(Ne)}}),{data:k,isLoading:T,refetch:E}=Pe({queryKey:["/api/queue/location",e],queryFn:async()=>{const U=await fetch(`/api/queue/location/${e}`);if(!U.ok)throw new Error("Failed to fetch queue for this location");return U.json()}}),{data:M,isLoading:B}=Pe({queryKey:["/api/machines/location",e],queryFn:async()=>{const U=await fetch(`/api/machines/location/${e}`);if(!U.ok)throw new Error("Failed to fetch machines for this location");return U.json()}}),{data:Q,refetch:z}=Pe({queryKey:["/api/assignments/location",e],queryFn:async()=>{const U=await fetch(`/api/assignments/location/${e}`);if(!U.ok)throw new Error("Failed to fetch assignments");return U.json()}}),{data:$,isLoading:H,refetch:Y}=Pe({queryKey:["/api/primary-location-orders",e],queryFn:async()=>{const U=await fetch(`/api/primary-location-orders/${e}`);if(!U.ok)throw new Error("Failed to fetch orders needing this location");return U.json()},enabled:!!(v!=null&&v.isPrimary)});m.useEffect(()=>{const U=setInterval(()=>{N(),E(),v!=null&&v.isPrimary&&Y()},3e4);return()=>clearInterval(U)},[N,E,Y,v==null?void 0:v.isPrimary]),m.useEffect(()=>{const U=setInterval(()=>{z()},3e4);return()=>clearInterval(U)},[z]);const C=De({mutationFn:async U=>{await ve("POST",`/api/order-locations/${U}/${e}/start`,{})},onSuccess:()=>{N(),E(),n({title:"Order Started",description:"The order has been started at this location"})},onError:U=>{n({title:"Error",description:`Failed to start order: ${U.message}`,variant:"destructive"})}});De({mutationFn:async({orderId:U,completedQuantity:Ne})=>{await ve("POST",`/api/order-locations/${U}/${e}/finish`,{completedQuantity:Ne})},onSuccess:()=>{N(),E(),n({title:"Order Completed",description:"The order has been marked as completed at this location"}),o(null)},onError:U=>{n({title:"Error",description:`Failed to complete order: ${U.message}`,variant:"destructive"})}}),De({mutationFn:async U=>{await ve("POST",`/api/order-locations/${U}/${e}/pause`,{})},onSuccess:()=>{N(),E(),n({title:"Order Paused",description:"The order has been paused at this location"})},onError:U=>{n({title:"Error",description:`Failed to pause order: ${U.message}`,variant:"destructive"})}}),De({mutationFn:async({orderId:U,completedQuantity:Ne})=>{await ve("POST",`/api/order-locations/${U}/${e}/update-quantity`,{completedQuantity:Ne})},onSuccess:()=>{N(),E(),n({title:"Quantity Updated",description:"The completed quantity has been updated"})},onError:U=>{n({title:"Error",description:`Failed to update quantity: ${U.message}`,variant:"destructive"})}}),De({mutationFn:async({orderId:U,notes:Ne})=>{await ve("POST","/api/help-requests",{orderId:U,locationId:e,notes:Ne})},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/help-requests/active"]}),n({title:"Help Requested",description:"Your help request has been submitted"})},onError:U=>{n({title:"Error",description:`Failed to request help: ${U.message}`,variant:"destructive"})}});const P=()=>p?p.filter(U=>U.status==="in_progress"||U.status==="paused"):[],q=()=>p?p.filter(U=>U.status==="done"):[],G=()=>{if(!p||!v||!b||!_)return[];const U=new Map(b.map(S=>[S.id,S.usedOrder])),Ne=U.get(v.id)??v.usedOrder;return p.filter(S=>{if(S.order.isShipped||S.status!=="not_started")return!1;const F=_[S.orderId]||[];if(Ne<=1)return!(S.order.globalQueuePosition&&S.order.globalQueuePosition>0);const W=F.filter(ce=>(U.get(ce.locationId)??1/0)<Ne);return W.length===0?!1:W.some(ce=>ce.status==="not_started")})},ie=U=>{C.mutate(U)},V=De({mutationFn:async U=>{await ve("POST",`/api/queue/location/${e}/reorder`,U)},onSuccess:()=>{E(),n({title:"Queue updated"})},onError:U=>{n({title:"Error",description:U.message,variant:"destructive"})}}),ee=De({mutationFn:async U=>{for(const Ne of U.machineIds)await ve("POST","/api/assignments",{orderId:U.orderId,locationId:e,machineId:Ne,assignedQuantity:U.qty??0})},onSuccess:()=>{z(),n({title:"Assigned to machines"}),f(null),y([]),g("")},onError:U=>{n({title:"Error",description:U.message,variant:"destructive"})}}),Z=De({mutationFn:async U=>{await ve("PUT","/api/assignments",{orderId:U.orderId,locationId:e,machineId:U.machineId,assignedQuantity:U.qty})},onSuccess:()=>{z(),n({title:"Assignment updated"})},onError:U=>{n({title:"Error",description:U.message,variant:"destructive"})}}),Fe=U=>{y(Ne=>Ne.includes(U)?Ne.filter(S=>S!==U):[...Ne,U])},{data:D=[]}=Pe({queryKey:["/api/alerts","location",e],queryFn:async()=>{const U=await ve("GET","/api/alerts");if(!U.ok)throw new Error("Failed to fetch alerts");return U.json()},refetchInterval:5e3}),[X,Ie]=m.useState([]),[A,R]=m.useState(!1),[oe,O]=m.useState(null),[Re,ot]=m.useState(new Set);m.useEffect(()=>{if(!M||M.length===0)return;const U=new Set(M.map(F=>F.machineId)),S=(D||[]).filter(F=>F.status==="pending"&&U.has(F.machineId)).filter(F=>!Re.has(F.id));S.length>0&&(Ie(F=>[...F,...S]),ot(F=>new Set([...Array.from(F),...S.map(W=>W.id)])))},[D,M,Re]),m.useEffect(()=>{!oe&&X.length>0&&(O(X[0]),Ie(U=>U.slice(1)),R(!0))},[X,oe]);const qt=De({mutationFn:async U=>{const Ne=await ve("POST",`/api/alerts/${U}/acknowledge`);if(!Ne.ok)throw new Error("Failed to acknowledge alert");return Ne.json()},onSuccess:()=>{n({title:"Alert acknowledged"})}});return x||w?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx(Oe,{className:"h-8 w-48"})]}),r.jsx(Oe,{className:"h-10 w-32"})]}),r.jsxs(Tr,{defaultValue:"current",children:[r.jsxs(mr,{className:"mb-4 w-full overflow-x-auto",children:[r.jsx(dt,{value:"current",children:"Current Orders"}),r.jsx(dt,{value:"completed",children:"Completed"})]}),r.jsx(pt,{value:"current",children:Array.from({length:3}).map((U,Ne)=>r.jsx(Oe,{className:"h-32 w-full mb-4"},Ne))})]})]}):v?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex ${d?"flex-col gap-3":"justify-between items-center"} mb-6`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:d?"sm":"icon",onClick:()=>t("/locations"),className:"mr-2",children:r.jsx(Hn,{className:d?"h-4 w-4":"h-5 w-5"})}),r.jsx("h1",{className:`${d?"text-xl":"text-2xl"} font-bold`,children:v.name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs(L,{variant:"outline",onClick:()=>N(),className:"mr-2",size:"sm",children:[r.jsx(Gt,{className:`${d?"h-3 w-3":"h-4 w-4"} mr-1`}),!d&&"Refresh"]}),r.jsx(L,{onClick:()=>c(!0),size:"sm",children:d?r.jsx(Sn,{className:"h-3 w-3"}):"View Queue"})]})]}),r.jsxs(Tr,{value:s,onValueChange:a,children:[r.jsxs(mr,{className:"mb-4 w-full overflow-x-auto flex",children:[r.jsxs(dt,{value:"upcoming",className:d?"text-xs py-1 px-2":"",children:["Upcoming ",G().length>0&&`(${G().length})`]}),r.jsxs(dt,{value:"queue",className:d?"text-xs py-1 px-2":"",children:["In Queue ",k&&k.length>0&&`(${k.length})`]}),r.jsxs(dt,{value:"current",className:d?"text-xs py-1 px-2":"",children:["Current ",P().length>0&&`(${P().length})`]}),r.jsxs(dt,{value:"completed",className:d?"text-xs py-1 px-2":"",children:["Completed ",q().length>0&&`(${q().length})`]})]}),r.jsx(pt,{value:"upcoming",children:G().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"No upcoming orders blocked from starting."})})}):r.jsx("div",{className:"space-y-2",children:G().slice().sort((U,Ne)=>{if(U.order.rush&&!Ne.order.rush)return-1;if(!U.order.rush&&Ne.order.rush)return 1;const S=U.order.globalQueuePosition??Number.POSITIVE_INFINITY,F=Ne.order.globalQueuePosition??Number.POSITIVE_INFINITY;if(S!==F)return S-F;const W=new Date(U.order.createdAt).getTime(),he=new Date(Ne.order.createdAt).getTime();return W-he}).map(U=>{const Ne=new Map((b||[]).map(Me=>[Me.id,Me.usedOrder])),S=Ne.get(v.id)??v.usedOrder,W=((_==null?void 0:_[U.orderId])||[]).filter(Me=>(Ne.get(Me.locationId)??1/0)<S),he=S<=1&&!(U.order.globalQueuePosition&&U.order.globalQueuePosition>0),ce=W.some(Me=>Me.status==="not_started"),se=he?"Waiting for Global Queue":ce?"Waiting for prior location to start":"";return r.jsx("div",{className:"flex items-center justify-between gap-3 py-2 px-3 border rounded-md bg-muted/30",children:r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-medium truncate",children:["#",r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>t(`/orders/${U.order.id}`),children:U.order.orderNumber}),"— ",U.order.client]}),!(v!=null&&v.noCount)&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Qty ",Math.ceil((U.order.totalQuantity||0)*((v==null?void 0:v.countMultiplier)??1)),v!=null&&v.countMultiplier&&v.countMultiplier!==1?r.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:["(",U.order.totalQuantity," x ",v.countMultiplier,")"]}):null]}),U.order.rush&&r.jsx("span",{className:"text-xs font-semibold text-red-600",children:"RUSH"}),se&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:se})]})},U.id)})})}),r.jsx(pt,{value:"queue",children:(()=>{const U=(p||[]).filter(S=>S.status==="in_queue"),Ne=k&&k.length>0?k:U;return!Ne||Ne.length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"No orders currently in queue at this location."})})}):r.jsx("div",{className:"space-y-2",children:[...Ne].sort((S,F)=>{if(S.order.rush&&!F.order.rush)return-1;if(!S.order.rush&&F.order.rush)return 1;if(S.order.rush&&F.order.rush){const W=S.order.rushSetAt?new Date(S.order.rushSetAt).getTime():0,he=F.order.rushSetAt?new Date(F.order.rushSetAt).getTime():0;if(W!==he)return W-he}return(S.queuePosition||0)-(F.queuePosition||0)}).map((S,F)=>r.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 px-3 border rounded-md",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-medium truncate",children:["#",r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>t(`/orders/${S.order.id}`),children:S.order.orderNumber}),"— ",S.order.client]}),!(v!=null&&v.noCount)&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Qty ",Math.ceil((S.order.totalQuantity||0)*((v==null?void 0:v.countMultiplier)??1)),v!=null&&v.countMultiplier&&v.countMultiplier!==1?r.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:["(",S.order.totalQuantity," x ",v.countMultiplier,")"]}):null]}),S.order.rush&&r.jsx("span",{className:"text-xs font-semibold text-red-600",children:"RUSH"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Pos"}),r.jsxs(jt,{value:String(S.queuePosition||F+1),onValueChange:W=>V.mutate({orderId:S.orderId,position:parseInt(W)}),children:[r.jsx(vt,{className:"w-20",children:r.jsx(wt,{})}),r.jsx(yt,{children:Array.from({length:Ne.length},(W,he)=>he+1).map(W=>r.jsx(Ve,{value:String(W),children:W},W))})]}),r.jsx(L,{size:"sm",onClick:()=>ie(S.order.id),children:"Start"})]})]},S.id))})})()}),r.jsx(pt,{value:"current",children:P().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"No orders currently assigned to this location."})})}):r.jsx("div",{className:`grid ${d?"grid-cols-1 gap-3":"grid-cols-1 lg:grid-cols-2 gap-4"}`,children:P().map(U=>r.jsx(Ej,{order:U,expanded:i===U.id,onExpand:()=>o(i===U.id?null:U.id),isCompleted:!1,hideQuantity:!!(v!=null&&v.noCount),totalOverride:Math.ceil((U.order.totalQuantity||0)*((v==null?void 0:v.countMultiplier)??1))},U.id))})}),r.jsx(pt,{value:"completed",children:q().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("p",{className:"text-center text-muted-foreground",children:"No completed orders at this location."})})}):r.jsx("div",{className:`grid ${d?"grid-cols-1 gap-3":"grid-cols-1 lg:grid-cols-2 gap-4"}`,children:q().map(U=>r.jsx(Ej,{order:U,expanded:i===U.id,onExpand:()=>o(i===U.id?null:U.id),isCompleted:!0,className:d?"opacity-90":"",hideQuantity:!!(v!=null&&v.noCount),totalOverride:Math.ceil((U.order.totalQuantity||0)*((v==null?void 0:v.countMultiplier)??1))},U.id))})})]}),r.jsx(Ot,{open:l,onOpenChange:c,children:r.jsxs(Pt,{className:d?"max-w-[90vw] p-4":"max-w-lg",children:[r.jsx(Mt,{children:r.jsx(Tt,{className:d?"text-lg":"text-xl",children:"Location Queue"})}),T?r.jsx("div",{className:"py-4",children:Array.from({length:3}).map((U,Ne)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},Ne))}):k&&k.length>0?r.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:[...k].sort((U,Ne)=>{if(U.order.rush&&!Ne.order.rush)return-1;if(!U.order.rush&&Ne.order.rush)return 1;if(U.order.rush&&Ne.order.rush){const S=U.order.rushSetAt?new Date(U.order.rushSetAt).getTime():0,F=Ne.order.rushSetAt?new Date(Ne.order.rushSetAt).getTime():0;if(S!==F)return S-F}return(U.queuePosition||0)-(Ne.queuePosition||0)}).map((U,Ne)=>r.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 border-b last:border-0",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-medium truncate",children:["#",r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>{c(!1),t(`/orders/${U.order.id}`)},children:U.order.orderNumber}),"— ",U.order.client]}),!(v!=null&&v.noCount)&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Qty ",Math.ceil((U.order.totalQuantity||0)*((v==null?void 0:v.countMultiplier)??1)),v!=null&&v.countMultiplier&&v.countMultiplier!==1?r.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:["(",U.order.totalQuantity," x ",v.countMultiplier,")"]}):null]}),U.order.rush&&r.jsx("span",{className:"text-xs font-semibold text-red-600",children:"RUSH"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Pos"}),r.jsxs(jt,{value:String(U.queuePosition||Ne+1),onValueChange:S=>V.mutate({orderId:U.orderId,position:parseInt(S)}),children:[r.jsx(vt,{className:"w-20",children:r.jsx(wt,{})}),r.jsx(yt,{children:Array.from({length:k.length},(S,F)=>F+1).map(S=>r.jsx(Ve,{value:String(S),children:S},S))})]}),r.jsx(L,{size:"sm",onClick:()=>{ie(U.order.id),c(!1)},children:"Start"})]})]},U.id))}):r.jsx("div",{className:"flex flex-col items-center justify-center py-8",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Queue Empty"})})]})}),M&&M.length>0&&r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Assign Orders to Machines"}),r.jsx(ut,{children:"Select an order in queue and assign to one or more machines"})]}),r.jsxs(de,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm mb-1 block",children:"Order"}),(()=>{const U=new Map;(k||[]).forEach(S=>U.set(S.orderId,S)),(p||[]).filter(S=>S.status==="in_queue"||S.status==="not_started").forEach(S=>{U.has(S.orderId)||U.set(S.orderId,S)});const Ne=Array.from(U.values());return Ne.sort((S,F)=>{const W=S.queuePosition??Number.POSITIVE_INFINITY,he=F.queuePosition??Number.POSITIVE_INFINITY;if(W!==he)return W-he;const ce=new Date(S.order.createdAt).getTime(),se=new Date(F.order.createdAt).getTime();return ce-se}),r.jsxs(jt,{value:u?String(u):"",onValueChange:S=>f(parseInt(S)),children:[r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select order"})}),r.jsx(yt,{children:Ne.map(S=>r.jsxs(Ve,{value:String(S.orderId),children:["#",S.order.orderNumber," — ",S.order.client]},S.orderId))})]})})()]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm mb-1 block",children:"Machines"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(U=>r.jsx("button",{type:"button",onClick:()=>Fe(U.id),className:`px-3 py-1 rounded border text-sm ${h.includes(U.id)?"bg-primary text-white":"bg-white"}`,children:U.name},U.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm mb-1 block",children:"Assign Qty (optional)"}),r.jsx("input",{type:"number",min:0,value:j,onChange:U=>{const Ne=U.target.value;g(Ne===""?"":Math.max(0,Math.floor(Number(Ne))))},className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. 20"}),(v==null?void 0:v.countMultiplier)&&v.countMultiplier!==1&&r.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:["Effective totals use multiplier x",v.countMultiplier]})]}),r.jsx("div",{children:r.jsx(L,{disabled:!u||h.length===0||ee.isPending,onClick:()=>u&&ee.mutate({orderId:u,machineIds:h,qty:j===""?void 0:Number(j)}),children:"Assign"})})]}),Q&&Q.length>0&&r.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[r.jsx("div",{className:"font-medium text-foreground",children:"Current assignments"}),r.jsx("div",{className:"space-y-1",children:Q.map(U=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("span",{className:"font-medium",children:["#",U.order.orderNumber]}),r.jsx("span",{className:"mx-1",children:"→"}),r.jsx("span",{children:U.machine.name})]}),r.jsx("input",{type:"number",min:0,defaultValue:U.assignedQuantity||0,onChange:Ne=>{const S=Math.max(0,Math.floor(Number(Ne.target.value||"0")));Ne.currentTarget._pendingVal=S},className:"w-20 border rounded px-2 py-1 text-xs"}),r.jsx(L,{size:"sm",variant:"outline",onClick:Ne=>{const S=Ne.currentTarget.previousSibling,F=S._pendingVal??Number(S.value)??0;Z.mutate({orderId:U.orderId,machineId:U.machineId,qty:F})},disabled:Z.isPending,children:"Save"}),U.assignedQuantity?r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Assigned: ",U.assignedQuantity]}):null]},`${U.orderId}-${U.machineId}`))})]})]})]}),r.jsx(Ot,{open:A,onOpenChange:U=>{R(U),U||O(null)},children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"New Alert"}),r.jsx(Yt,{children:oe?new Date(oe.createdAt).toLocaleString():""})]}),oe&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Machine: ",oe.machineId]}),r.jsx("div",{className:"text-base",children:oe.message}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(L,{variant:"outline",onClick:()=>{oe&&qt.mutate(oe.id),R(!1)},children:"Acknowledge"}),r.jsx(L,{onClick:()=>R(!1),children:"Close"})]})]})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Location Not Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"The requested location could not be found."}),r.jsxs(L,{onClick:()=>t("/locations"),children:[r.jsx(Hn,{className:"mr-2 h-4 w-4"})," Back to Locations"]})]})}var MV=Object.defineProperty,wf=Object.getOwnPropertySymbols,fP=Object.prototype.hasOwnProperty,hP=Object.prototype.propertyIsEnumerable,Pj=(e,t,n)=>t in e?MV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cx=(e,t)=>{for(var n in t||(t={}))fP.call(t,n)&&Pj(e,n,t[n]);if(wf)for(var n of wf(t))hP.call(t,n)&&Pj(e,n,t[n]);return e},kx=(e,t)=>{var n={};for(var s in e)fP.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&wf)for(var s of wf(e))t.indexOf(s)<0&&hP.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Oi;(e=>{const t=class nt{constructor(c,d,u,f){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<nt.MIN_VERSION||c>nt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let j=0;j<this.size;j++)h.push(!1);for(let j=0;j<this.size;j++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(u);if(this.drawCodewords(y),f==-1){let j=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<j&&(f=g,j=v),this.applyMask(g)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return nt.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return nt.encodeSegments([u],d)}static encodeSegments(c,d,u=1,f=40,h=-1,y=!0){if(!(nt.MIN_VERSION<=u&&u<=f&&f<=nt.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let j,g;for(j=u;;j++){const w=nt.getNumDataCodewords(j,d)*8,N=o.getTotalBits(c,j);if(N<=w){g=N;break}if(j>=f)throw new RangeError("Data too long")}for(const w of[nt.Ecc.MEDIUM,nt.Ecc.QUARTILE,nt.Ecc.HIGH])y&&g<=nt.getNumDataCodewords(j,w)*8&&(d=w);let v=[];for(const w of c){n(w.mode.modeBits,4,v),n(w.numChars,w.mode.numCharCountBits(j),v);for(const N of w.getData())v.push(N)}a(v.length==g);const x=nt.getNumDataCodewords(j,d)*8;a(v.length<=x),n(0,Math.min(4,x-v.length),v),n(0,(8-v.length%8)%8,v),a(v.length%8==0);for(let w=236;v.length<x;w^=253)n(w,8,v);let p=[];for(;p.length*8<v.length;)p.push(0);return v.forEach((w,N)=>p[N>>>3]|=w<<7-(N&7)),new nt(j,d,p,h)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let f=0;f<d;f++)u==0&&f==0||u==0&&f==d-1||u==d-1&&f==0||this.drawAlignmentPattern(c[u],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const f=(d<<10|u)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(f,h));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;a(d>>>18==0);for(let u=0;u<18;u++){const f=s(d,u),h=this.size-11+u%3,y=Math.floor(u/3);this.setFunctionModule(h,y,f),this.setFunctionModule(y,h,f)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(u)),y=c+f,j=d+u;0<=y&&y<this.size&&0<=j&&j<this.size&&this.setFunctionModule(y,j,h!=2&&h!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,d+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=nt.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const f=nt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],h=nt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],y=Math.floor(nt.getNumRawDataModules(d)/8),j=f-y%f,g=Math.floor(y/f);let v=[];const x=nt.reedSolomonComputeDivisor(h);for(let w=0,N=0;w<f;w++){let b=c.slice(N,N+g-h+(w<j?0:1));N+=b.length;const _=nt.reedSolomonComputeRemainder(b,x);w<j&&b.push(0),v.push(b.concat(_))}let p=[];for(let w=0;w<v[0].length;w++)v.forEach((N,b)=>{(w!=g-h||b>=j)&&p.push(N[w])});return a(p.length==y),p}drawCodewords(c){if(c.length!=Math.floor(nt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const y=u-h,g=(u+1&2)==0?this.size-1-f:f;!this.isFunction[g][y]&&d<c.length*8&&(this.modules[g][y]=s(c[d>>>3],7-(d&7)),d++)}}a(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let f;switch(c){case 0:f=(u+d)%2==0;break;case 1:f=d%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+d)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:f=u*d%2+u*d%3==0;break;case 6:f=(u*d%2+u*d%3)%2==0;break;case 7:f=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&f&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let y=!1,j=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[h][v]==y?(j++,j==5?c+=nt.PENALTY_N1:j>5&&c++):(this.finderPenaltyAddHistory(j,g),y||(c+=this.finderPenaltyCountPatterns(g)*nt.PENALTY_N3),y=this.modules[h][v],j=1);c+=this.finderPenaltyTerminateAndCount(y,j,g)*nt.PENALTY_N3}for(let h=0;h<this.size;h++){let y=!1,j=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][h]==y?(j++,j==5?c+=nt.PENALTY_N1:j>5&&c++):(this.finderPenaltyAddHistory(j,g),y||(c+=this.finderPenaltyCountPatterns(g)*nt.PENALTY_N3),y=this.modules[v][h],j=1);c+=this.finderPenaltyTerminateAndCount(y,j,g)*nt.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let y=0;y<this.size-1;y++){const j=this.modules[h][y];j==this.modules[h][y+1]&&j==this.modules[h+1][y]&&j==this.modules[h+1][y+1]&&(c+=nt.PENALTY_N2)}let d=0;for(const h of this.modules)d=h.reduce((y,j)=>y+(j?1:0),d);const u=this.size*this.size,f=Math.ceil(Math.abs(d*20-u*10)/u)-1;return a(0<=f&&f<=9),c+=f*nt.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let f=this.size-7;u.length<c;f-=d)u.splice(1,0,f);return u}}static getNumRawDataModules(c){if(c<nt.MIN_VERSION||c>nt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(nt.getNumRawDataModules(c)/8)-nt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*nt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let f=0;f<c-1;f++)d.push(0);d.push(1);let u=1;for(let f=0;f<c;f++){for(let h=0;h<d.length;h++)d[h]=nt.reedSolomonMultiply(d[h],u),h+1<d.length&&(d[h]^=d[h+1]);u=nt.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(f=>0);for(const f of c){const h=f^u.shift();u.push(0),d.forEach((y,j)=>u[j]^=nt.reedSolomonMultiply(y,h))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(d>>>f&1)*c;return a(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];a(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function s(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Lt{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new Lt(Lt.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Lt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const f=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+f),10),f*3+1,d),u+=f}return new Lt(Lt.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Lt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let f=Lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;f+=Lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(f,11,d)}return u<c.length&&n(Lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new Lt(Lt.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Lt.isNumeric(c)?[Lt.makeNumeric(c)]:Lt.isAlphanumeric(c)?[Lt.makeAlphanumeric(c)]:[Lt.makeBytes(Lt.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Lt(Lt.Mode.ECI,0,d)}static isNumeric(c){return Lt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Lt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const f of c){const h=f.mode.numCharCountBits(d);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(Oi||(Oi={}));(e=>{(t=>{const n=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Oi||(Oi={}));(e=>{(t=>{const n=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Oi||(Oi={}));var uo=Oi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var TV={L:uo.QrCode.Ecc.LOW,M:uo.QrCode.Ecc.MEDIUM,Q:uo.QrCode.Ecc.QUARTILE,H:uo.QrCode.Ecc.HIGH},mP=128,pP="L",xP="#FFFFFF",gP="#000000",vP=!1,yP=1,AV=4,DV=0,IV=.1;function jP(e,t=0){const n=[];return e.forEach(function(s,a){let i=null;s.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===s.length-1){if(!o)return;i===null?n.push(`M${l+t},${a+t} h1v1H${l+t}z`):n.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),n.join("")}function wP(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function RV(e,t,n,s){if(s==null)return null;const a=e.length+n*2,i=Math.floor(t*IV),o=a/t,l=(s.width||i)*o,c=(s.height||i)*o,d=s.x==null?e.length/2-l/2:s.x*o,u=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let h=null;if(s.excavate){let j=Math.floor(d),g=Math.floor(u),v=Math.ceil(l+d-j),x=Math.ceil(c+u-g);h={x:j,y:g,w:v,h:x}}const y=s.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:h,opacity:f,crossOrigin:y}}function OV(e,t){return t!=null?Math.max(Math.floor(t),0):e?AV:DV}function NP({value:e,level:t,minVersion:n,includeMargin:s,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let c=ge.useMemo(()=>{const j=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...uo.QrSegment.makeSegments(v)),g),[]);return uo.QrCode.encodeSegments(j,TV[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:d,margin:u,numCells:f,calculatedImageSettings:h}=ge.useMemo(()=>{let y=c.getModules();const j=OV(s,a),g=y.length+j*2,v=RV(y,o,j,i);return{cells:y,margin:j,numCells:g,calculatedImageSettings:v}},[c,o,i,s,a]);return{qrcode:c,margin:u,cells:d,numCells:f,calculatedImageSettings:h}}var FV=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),LV=ge.forwardRef(function(t,n){const s=t,{value:a,size:i=mP,level:o=pP,bgColor:l=xP,fgColor:c=gP,includeMargin:d=vP,minVersion:u=yP,boostLevel:f,marginSize:h,imageSettings:y}=s,g=kx(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,x=kx(g,["style"]),p=y==null?void 0:y.src,w=ge.useRef(null),N=ge.useRef(null),b=ge.useCallback($=>{w.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[_,k]=ge.useState(!1),{margin:T,cells:E,numCells:M,calculatedImageSettings:B}=NP({value:a,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:h,imageSettings:y,size:i});ge.useEffect(()=>{if(w.current!=null){const $=w.current,H=$.getContext("2d");if(!H)return;let Y=E;const C=N.current,P=B!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;P&&B.excavation!=null&&(Y=wP(E,B.excavation));const q=window.devicePixelRatio||1;$.height=$.width=i*q;const G=i/M*q;H.scale(G,G),H.fillStyle=l,H.fillRect(0,0,M,M),H.fillStyle=c,FV?H.fill(new Path2D(jP(Y,T))):E.forEach(function(ie,V){ie.forEach(function(ee,Z){ee&&H.fillRect(Z+T,V+T,1,1)})}),B&&(H.globalAlpha=B.opacity),P&&H.drawImage(C,B.x+T,B.y+T,B.w,B.h)}}),ge.useEffect(()=>{k(!1)},[p]);const Q=Cx({height:i,width:i},v);let z=null;return p!=null&&(z=ge.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{k(!0)},ref:N,crossOrigin:B==null?void 0:B.crossOrigin})),ge.createElement(ge.Fragment,null,ge.createElement("canvas",Cx({style:Q,height:i,width:i,ref:b,role:"img"},x)),z)});LV.displayName="QRCodeCanvas";var zv=ge.forwardRef(function(t,n){const s=t,{value:a,size:i=mP,level:o=pP,bgColor:l=xP,fgColor:c=gP,includeMargin:d=vP,minVersion:u=yP,boostLevel:f,title:h,marginSize:y,imageSettings:j}=s,g=kx(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:x,numCells:p,calculatedImageSettings:w}=NP({value:a,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:y,imageSettings:j,size:i});let N=x,b=null;j!=null&&w!=null&&(w.excavation!=null&&(N=wP(x,w.excavation)),b=ge.createElement("image",{href:j.src,height:w.h,width:w.w,x:w.x+v,y:w.y+v,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const _=jP(N,v);return ge.createElement("svg",Cx({height:i,width:i,viewBox:`0 0 ${p} ${p}`,ref:n,role:"img"},g),!!h&&ge.createElement("title",null,h),ge.createElement("path",{fill:l,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),ge.createElement("path",{fill:c,d:_,shapeRendering:"crispEdges"}),b)});zv.displayName="QRCodeSVG";var Vv="Switch",[$V,lU]=tr(Vv),[zV,VV]=$V(Vv),bP=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,y]=m.useState(null),j=et(t,w=>y(w)),g=m.useRef(!1),v=h?u||!!h.closest("form"):!0,[x=!1,p]=er({prop:a,defaultProp:i,onChange:d});return r.jsxs(zV,{scope:n,checked:x,disabled:l,children:[r.jsx(_e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":kP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:j,onClick:ue(e.onClick,w=>{p(N=>!N),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&r.jsx(UV,{control:h,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});bP.displayName=Vv;var SP="SwitchThumb",CP=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=VV(SP,n);return r.jsx(_e.span,{"data-state":kP(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});CP.displayName=SP;var UV=e=>{const{control:t,checked:n,bubbles:s=!0,...a}=e,i=m.useRef(null),o=hv(n),l=dv(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:s});f.call(c,n),c.dispatchEvent(h)}},[o,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kP(e){return e?"checked":"unchecked"}var _P=bP,QV=CP;const Ut=m.forwardRef(({className:e,...t},n)=>r.jsx(_P,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(QV,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ut.displayName=_P.displayName;const qV=l3.extend({});function BV({onSuccess:e,onCancel:t,initialData:n,isEdit:s=!1,locationId:a}){const{toast:i}=Qt(),[o,l]=m.useState(!1),c={name:"",usedOrder:0,isPrimary:!1,skipAutoQueue:!1,countMultiplier:1,noCount:!1,...n},d=lr({resolver:cr(qV),defaultValues:c}),u=async f=>{try{l(!0);let h;s&&a?h=await ve("PUT",`/api/locations/${a}`,f):h=await ve("POST","/api/locations",f);const y=await h.json();rt.invalidateQueries({queryKey:["/api/locations"]}),i({title:s?"Location Updated":"Location Created",description:`Location ${y.name} has been ${s?"updated":"created"} successfully.`}),e&&e(y)}catch(h){console.error("Error submitting location:",h),i({title:"Error",description:`Failed to ${s?"update":"create"} location. Please try again.`,variant:"destructive"})}finally{l(!1)}};return r.jsx(ur,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[r.jsx(Ee,{control:d.control,name:"name",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Location Name"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"E.g., Cutting, Assembly, QC",...f})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:d.control,name:"usedOrder",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Order Position"}),r.jsx(kt,{children:"The sequence number that determines where this location appears in the workflow"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",min:"0",...f,onChange:h=>f.onChange(parseInt(h.target.value)||0)})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:d.control,name:"isPrimary",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{children:"Primary Location"}),r.jsx(kt,{children:"Orders will not proceed to the next location until this one is started"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:d.control,name:"skipAutoQueue",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{children:"Skip Auto Queue"}),r.jsx(kt,{children:"This location will be excluded from automatic queuing"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:d.control,name:"noCount",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{children:"No Count"}),r.jsx(kt,{children:"Disable quantity tracking for this location"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:d.control,name:"countMultiplier",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Count Multiplier"}),r.jsx(kt,{children:"Adjusts quantity tracking for specific locations (e.g., 0.5 for half counts, 2 for double counts)"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",step:"0.1",min:"0.1",...f,onChange:h=>f.onChange(parseFloat(h.target.value)||1)})}),r.jsx(He,{})]})}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t&&r.jsx(L,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(L,{type:"submit",disabled:o,children:o?"Saving...":s?"Update Location":"Create Location"})]})]})})}function WV(){const[,e]=Zr(),{toast:t}=Qt(),{user:n}=_n(),s=ti(),[a,i]=m.useState(!1),[o,l]=m.useState(null),c=(n==null?void 0:n.role)==="admin",{data:d,isLoading:u,refetch:f}=Pe({queryKey:["/api/locations"]}),h=De({mutationFn:async x=>{await ve("DELETE",`/api/locations/${x}`)},onSuccess:()=>{f(),t({title:"Location Deleted",description:"The location has been successfully deleted."})},onError:x=>{t({title:"Error",description:`Failed to delete location: ${x.message}`,variant:"destructive"})}}),y=x=>{l(x),i(!0)},j=async x=>{h.mutate(x)},g=()=>{i(!1),l(null),f()},v=d?[...d].sort((x,p)=>x.usedOrder-p.usedOrder):[];return u?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx(Oe,{className:"h-8 w-48 mb-4 md:mb-0"}),r.jsx(Oe,{className:"h-10 w-36"})]}),r.jsx(le,{children:r.jsx(de,{className:"p-4",children:Array.from({length:5}).map((x,p)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},p))})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Workshop Locations"}),c&&r.jsxs(Ot,{open:a,onOpenChange:x=>{i(x),x||l(null)},children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{className:"flex items-center",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," ",s?"Add":"Add Location"]})}),r.jsxs(Pt,{className:"sm:max-w-md max-h-[80vh] overflow-y-auto",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:o?"Edit Location":"Add New Location"}),r.jsx(Yt,{children:o?"Update the location details in the workshop management system":"Add a new location to the workshop management system"})]}),r.jsx("div",{className:"overflow-y-auto",children:r.jsx(BV,{onSuccess:g,onCancel:()=>{i(!1),l(null)},initialData:o||void 0,isEdit:!!o,locationId:o==null?void 0:o.id})})]})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Workshop Locations"}),r.jsx(ut,{children:"Manage the different locations in your workshop where orders are processed"})]}),r.jsx(de,{children:v.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(La,{className:"h-12 w-12 mb-2 text-amber-500"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Locations Found"}),r.jsx("p",{className:"text-sm text-center mb-6",children:"You need to set up locations to track orders through your workshop."}),c&&r.jsxs(L,{onClick:()=>i(!0),className:"mt-2",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Add First Location"]})]}):r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:"space-y-4",children:v.map(x=>r.jsx(le,{className:"overflow-hidden",children:r.jsx(de,{className:"p-0",children:r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 ${x.isPrimary?"bg-primary text-white":"bg-gray-200 text-gray-700"}`,children:x.usedOrder}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:x.name}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[x.isPrimary&&r.jsx(Ae,{variant:"default",className:"text-xs",children:"Primary"}),x.skipAutoQueue&&r.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Skip Queue"})]})]})]}),r.jsxs(Kc,{children:[r.jsx(Gc,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",children:r.jsx(ES,{className:"h-4 w-4"})})}),r.jsxs(sl,{align:"end",children:[r.jsxs(tn,{onClick:()=>e(`/location/${x.id}`),children:[r.jsx(Bp,{className:"h-4 w-4 mr-2"})," View Dashboard"]}),r.jsxs(tn,{onClick:()=>window.open(`/display/location/${x.id}`,"_blank"),children:[r.jsx(Wp,{className:"h-4 w-4 mr-2"})," Mobile Display"]}),c&&r.jsxs(r.Fragment,{children:[r.jsxs(tn,{onClick:()=>y(x),children:[r.jsx(ys,{className:"h-4 w-4 mr-2"})," Edit"]}),r.jsxs(tn,{onClick:()=>j(x.id),className:"text-red-500 focus:text-red-500",children:[r.jsx(Go,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})]})})},x.id))}),!s&&r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-16",children:"Order"}),r.jsx(fe,{children:"Name"}),r.jsx(fe,{children:"Attributes"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:v.map(x=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-medium text-center",children:x.usedOrder}),r.jsx(K,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Og,{className:"h-4 w-4 mr-2 text-gray-500"}),x.name]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.isPrimary&&r.jsx(Ae,{variant:"default",children:"Primary"}),x.skipAutoQueue&&r.jsx(Ae,{variant:"secondary",children:"Skip Auto Queue"}),x.noCount&&r.jsx(Ae,{variant:"outline",children:"No Count"}),x.countMultiplier!==1&&r.jsxs(Ae,{variant:"outline",children:["Multiplier: ",x.countMultiplier]})]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e(`/location/${x.id}`),title:"View Location",children:r.jsx(Bp,{className:"h-4 w-4"})}),r.jsxs(Ot,{children:[r.jsx(Us,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",title:"Mobile Display QR Code",children:r.jsx(Wp,{className:"h-4 w-4 text-blue-600"})})}),r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsxs(Tt,{children:["Mobile Display for ",x.name]}),r.jsx(Yt,{children:"Scan this QR code to access the mobile-friendly location display page. Suitable for tablets stationed at this location."})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[r.jsx("div",{className:"border p-4 bg-white rounded-lg",children:r.jsx(zv,{value:`${window.location.origin}/display/location/${x.id}`,size:200,level:"H",includeMargin:!0,className:"mx-auto"})}),r.jsx("p",{className:"mt-4 text-sm text-center text-gray-500",children:"This page is designed for tablets that will be placed at this location for workers to track and update orders."}),r.jsx(L,{className:"mt-4",onClick:()=>window.open(`/display/location/${x.id}`,"_blank"),children:"Open Mobile Display"})]})]})]}),c&&r.jsxs(r.Fragment,{children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>y(x),title:"Edit Location",children:r.jsx(ys,{className:"h-4 w-4"})}),r.jsxs(gf,{children:[r.jsx(vf,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",title:"Delete Location",className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:r.jsx(Go,{className:"h-4 w-4"})})}),r.jsxs($c,{children:[r.jsxs(zc,{children:[r.jsx(Uc,{children:"Delete Location"}),r.jsxs(Qc,{children:["Are you sure you want to delete the location ",r.jsx("strong",{children:x.name}),"? This will remove it from all orders and can't be undone."]})]}),r.jsxs(Vc,{children:[r.jsx(Bc,{children:"Cancel"}),r.jsx(qc,{onClick:()=>j(x.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]})})]},x.id))})]})]})}),r.jsx(js,{className:"bg-gray-50 border-t px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Primary"}),": Order will not proceed to next location until this one is started."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Skip Auto Queue"}),": Location is excluded from automatic queuing."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"No Count"}),": Quantity tracking is disabled for this location."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Multiplier"}),": Adjusts quantity tracking for specific locations."]})]})})]}),v.length>0&&r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Workshop Workflow"}),r.jsx(ut,{children:"Visual representation of the order flow through your workshop"})]}),r.jsx(de,{children:s?r.jsx("div",{className:"flex flex-col space-y-4 py-4",children:v.map((x,p)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${x.isPrimary?"bg-primary text-white":"bg-gray-200 text-gray-700"}`,children:x.usedOrder}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"font-medium",children:x.name}),x.isPrimary&&r.jsx(Ae,{variant:"outline",className:"mt-1",children:"Primary"})]}),p<v.length-1&&r.jsx(ls,{className:"text-gray-400 h-4 w-4 mx-1"})]},x.id))}):r.jsxs("div",{className:"relative flex items-center justify-center py-8",children:[r.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 -z-10"}),v.map((x,p)=>r.jsxs("div",{className:"flex flex-col items-center mx-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${x.isPrimary?"bg-primary text-white":"bg-gray-200 text-gray-700"}`,children:x.usedOrder}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",children:x.name}),x.isPrimary&&r.jsx(Ae,{variant:"outline",className:"mt-1",children:"Primary"})]}),p<v.length-1&&r.jsx("div",{className:"absolute",style:{left:`${(p+1)*(100/v.length)}%`},children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]},x.id))]})})]})]})}function HV({locationId:e}){const{toast:t}=Qt();_n();const n=ml(),[s,a]=m.useState("current"),[i,o]=m.useState(!1),{data:l,isLoading:c}=Pe({queryKey:["/api/locations",e],queryFn:async()=>{try{const D=await fetch(`/api/locations/${e}`);return D.ok?D.json():(console.error(`Failed to fetch location details for ID: ${e}`,D.status),null)}catch(D){return console.error(`Error fetching location with ID: ${e}`,D),null}}}),{data:d=[],isLoading:u,refetch:f}=Pe({queryKey:["/api/primary-location-orders",e],queryFn:async()=>{const D=await fetch(`/api/primary-location-orders/${e}`);if(!D.ok)throw new Error("Failed to fetch orders that need this primary location");return D.json()},enabled:(l==null?void 0:l.isPrimary)===!0}),{data:h,isLoading:y,refetch:j}=Pe({queryKey:["/api/order-locations/location",e],queryFn:async()=>{const D=await fetch(`/api/order-locations/location/${e}`);if(!D.ok)throw new Error("Failed to fetch orders for this location");return D.json()}}),{data:g,isLoading:v,refetch:x}=Pe({queryKey:["/api/queue/location",e],queryFn:async()=>{const D=await fetch(`/api/queue/location/${e}`);if(!D.ok)throw new Error("Failed to fetch queue for this location");return D.json()}});m.useEffect(()=>{const D=setInterval(()=>{j(),x(),l!=null&&l.isPrimary&&f()},3e4);return()=>clearInterval(D)},[j,x,f,l==null?void 0:l.isPrimary]),m.useEffect(()=>{l!=null&&l.isPrimary&&a("needed_v2")},[l==null?void 0:l.isPrimary]);const p=De({mutationFn:async D=>{try{(await(await fetch(`/api/order-locations/order/${D}`)).json()).some(R=>R.locationId===Number(e))||(console.log(`Creating new order-location for order ${D} at location ${e}`),await ve("POST","/api/order-locations",{orderId:D,locationId:Number(e),status:"not_started"}))}catch(X){console.error("Error checking/creating order-location:",X)}await ve("POST",`/api/order-locations/${D}/${e}/start`,{})},onSuccess:()=>{j(),x(),l!=null&&l.isPrimary&&f(),t({title:"Order Started",description:"The order has been started at this location"})},onError:D=>{t({title:"Error",description:`Failed to start order: ${D.message}`,variant:"destructive"})}}),w=De({mutationFn:async({orderId:D,completedQuantity:X})=>{await ve("POST",`/api/order-locations/${D}/${e}/finish`,{completedQuantity:X})},onSuccess:()=>{j(),x(),t({title:"Order Completed",description:"The order has been marked as completed at this location"})},onError:D=>{t({title:"Error",description:`Failed to complete order: ${D.message}`,variant:"destructive"})}}),N=De({mutationFn:async D=>{await ve("POST",`/api/order-locations/${D}/${e}/pause`,{})},onSuccess:()=>{j(),x(),t({title:"Order Paused",description:"The order has been paused at this location"})},onError:D=>{t({title:"Error",description:`Failed to pause order: ${D.message}`,variant:"destructive"})}}),b=De({mutationFn:async({orderId:D,completedQuantity:X})=>{await ve("POST",`/api/order-locations/${D}/${e}/update-quantity`,{completedQuantity:X})},onSuccess:()=>{j(),x(),t({title:"Quantity Updated",description:"The completed quantity has been updated"})},onError:D=>{t({title:"Error",description:`Failed to update quantity: ${D.message}`,variant:"destructive"})}}),_=De({mutationFn:async({orderId:D,notes:X})=>{await ve("POST","/api/help-requests",{orderId:D,locationId:e,notes:X})},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/help-requests/active"]}),t({title:"Help Requested",description:"Your help request has been submitted"})},onError:D=>{t({title:"Error",description:`Failed to request help: ${D.message}`,variant:"destructive"})}}),k=()=>h?h.filter(D=>D.status==="in_progress"||D.status==="paused"):[],T=()=>h?h.filter(D=>D.status==="done"):[],E=D=>{p.mutate(D)},M=D=>{const X=h==null?void 0:h.find(Ie=>Ie.order.id===D);X&&w.mutate({orderId:D,completedQuantity:X.order.totalQuantity})},B=D=>{N.mutate(D)},Q=D=>{p.mutate(D)},z=(D,X)=>{b.mutate({orderId:D,completedQuantity:X})},$=D=>{_.mutate({orderId:D})},{data:H=[]}=Pe({queryKey:["/api/alerts","location-display",e],queryFn:async()=>{const D=await ve("GET","/api/alerts");if(!D.ok)throw new Error("Failed to fetch alerts");return D.json()},refetchInterval:5e3}),{data:Y}=Pe({queryKey:["/api/machines/location",e],queryFn:async()=>{const D=await fetch(`/api/machines/location/${e}`);if(!D.ok)throw new Error("Failed to fetch machines for this location");return D.json()}}),[C,P]=m.useState([]),[q,G]=m.useState(!1),[ie,V]=m.useState(null),[ee,Z]=m.useState(new Set);m.useEffect(()=>{if(!Y||Y.length===0)return;const D=new Set(Y.map(A=>A.machineId)),Ie=(H||[]).filter(A=>A.status==="pending"&&D.has(A.machineId)).filter(A=>!ee.has(A.id));Ie.length>0&&(P(A=>[...A,...Ie]),Z(A=>new Set([...Array.from(A),...Ie.map(R=>R.id)])))},[H,Y,ee]),m.useEffect(()=>{!ie&&C.length>0&&(V(C[0]),P(D=>D.slice(1)),G(!0))},[C,ie]);const Fe=De({mutationFn:async D=>{const X=await ve("POST",`/api/alerts/${D}/acknowledge`);if(!X.ok)throw new Error("Failed to acknowledge alert");return X.json()},onSuccess:()=>{t({title:"Alert acknowledged"})}});return c||y?r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx(Oe,{className:"h-8 w-48"})]}),r.jsx(Oe,{className:"h-10 w-32"})]}),r.jsx(le,{children:r.jsxs(de,{className:"p-6",children:[r.jsx(Oe,{className:"h-24 w-full mb-4"}),r.jsx(Oe,{className:"h-8 w-3/4 mb-2"}),r.jsx(Oe,{className:"h-8 w-1/2"})]})}),r.jsxs(Tr,{defaultValue:"current",children:[r.jsxs(mr,{className:"mb-4",children:[r.jsx(dt,{value:"current",children:"Current Orders"}),r.jsx(dt,{value:"completed",children:"Completed"})]}),r.jsx(pt,{value:"current",children:Array.from({length:3}).map((D,X)=>r.jsx(Oe,{className:"h-32 w-full mb-4"},X))})]})]}):l?r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:`${n?"flex flex-col space-y-3":"flex justify-between"} items-center mb-6`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:l.name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs(L,{variant:"outline",onClick:()=>j(),className:"mr-2",size:n?"sm":"default",children:[r.jsx(Gt,{className:"h-4 w-4 mr-1"})," Refresh"]}),r.jsx(L,{onClick:()=>o(!0),size:n?"sm":"default",children:"View Queue"})]})]}),r.jsxs(le,{children:[r.jsx(Le,{children:r.jsx(ze,{children:"Location Details"})}),r.jsx(de,{children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Location Type"}),r.jsx("p",{className:"font-medium",children:l.isPrimary?"Primary Location":"Standard Location"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Count Multiplier"}),r.jsxs("p",{className:"font-medium",children:[l.countMultiplier,"x"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Auto-Queue Settings"}),r.jsx("p",{className:"font-medium",children:l.skipAutoQueue?"Auto-Queue Disabled":"Auto-Queue Enabled"})]})]}),r.jsx("div",{className:"flex-1 flex flex-col items-center justify-center mt-4 md:mt-0",children:k().length>0?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`${n?"w-24 h-24":"w-32 h-32"} mx-auto mb-2`,children:r.jsx(Qa,{value:k()[0].completedQuantity/k()[0].order.totalQuantity*100,text:`${k()[0].completedQuantity}/${k()[0].order.totalQuantity}`,styles:qa({textSize:"16px",pathColor:"#3b82f6",textColor:"#1f2937",trailColor:"#e5e7eb"})})}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Current Order"}),r.jsx(kr,{to:`/orders/${k()[0].order.id}`,children:r.jsx("p",{className:"font-medium text-primary hover:underline cursor-pointer",children:k()[0].order.orderNumber})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`${n?"w-24 h-24":"w-32 h-32"} mx-auto mb-2 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center`,children:r.jsx(Ks,{className:`${n?"h-10 w-10":"h-12 w-12"} text-gray-300`})}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No Active Orders"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Station is available"})]})})]})})]}),r.jsxs(Tr,{value:s,onValueChange:a,children:[r.jsxs(mr,{className:`mb-4 ${n?"w-full":""}`,children:[r.jsxs(dt,{value:"current",className:n?"flex-1":"",children:[n?"Current":"Current Orders"," ",k().length>0&&`(${k().length})`]}),r.jsxs(dt,{value:"completed",className:n?"flex-1":"",children:[n?"Done":"Completed"," ",T().length>0&&`(${T().length})`]}),l.isPrimary&&r.jsxs(dt,{value:"needed_v2",className:n?"flex-1":"",children:[n?"Needed":"Needed Orders"," ",(d==null?void 0:d.length)>0&&`(${d.length})`]})]}),r.jsx(pt,{value:"current",children:k().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-8",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 mb-2 text-gray-400",children:[r.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22z"}),r.jsx("path",{d:"M12 8v4"}),r.jsx("path",{d:"M12 16h.01"})]}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Current Orders"}),r.jsx("p",{className:"text-sm text-center mb-4",children:"No orders in progress or paused at this location"}),r.jsx(L,{onClick:()=>o(!0),className:"mt-2",children:"View Queue"})]})})}):r.jsx("div",{className:"space-y-4",children:k().map(D=>r.jsx(le,{className:"overflow-hidden",children:r.jsxs(de,{className:"p-0",children:[r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:`${n?"flex flex-col gap-2":"flex items-center justify-between"} mb-2`,children:[r.jsxs("div",{children:[r.jsx(kr,{to:`/orders/${D.order.id}`,children:r.jsx("h3",{className:"font-medium text-lg text-primary hover:underline cursor-pointer",children:D.order.orderNumber})}),r.jsx("p",{className:"text-sm text-gray-500",children:D.order.client})]}),r.jsxs("div",{className:`${n?"":"flex flex-col items-end"}`,children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.status==="in_progress"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.status==="in_progress"?"In Progress":"Paused"}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1 ml-2",children:["Due: ",new Date(D.order.dueDate).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-sm font-medium",children:"Progress"}),r.jsxs("span",{className:"text-sm font-medium",children:[D.completedQuantity,"/",D.order.totalQuantity]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${D.completedQuantity/D.order.totalQuantity*100}%`}})})]}),r.jsxs("div",{className:`${n?"grid grid-cols-2 gap-2":"flex flex-wrap gap-2"}`,children:[D.status==="in_progress"?r.jsxs(r.Fragment,{children:[r.jsx(L,{size:"sm",variant:"outline",onClick:()=>B(D.order.id),disabled:N.isPending,className:n?"w-full":"",children:"Pause"}),r.jsx(L,{size:"sm",onClick:()=>M(D.order.id),disabled:w.isPending,className:n?"w-full":"",children:"Complete"})]}):r.jsx(L,{size:"sm",onClick:()=>Q(D.order.id),disabled:p.isPending,className:n?"col-span-2 w-full":"",children:"Resume"}),r.jsx(L,{size:"sm",variant:"outline",className:n?"col-span-2 w-full mt-1":"ml-auto",onClick:()=>$(D.order.id),disabled:_.isPending,children:"Request Help"})]})]}),r.jsxs("div",{className:"border-t p-4 bg-gray-50",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Order Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[r.jsxs("div",{className:n?"col-span-2":"",children:[r.jsx("span",{className:"text-gray-500",children:"TBFOS #:"})," ",D.order.tbfosNumber]}),r.jsxs("div",{className:n?"col-span-2":"",children:[r.jsx("span",{className:"text-gray-500",children:"Quantity:"})," ",D.order.totalQuantity]}),D.order.description&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"Description:"})," ",D.order.description]}),D.order.notes&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",D.order.notes]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Update Completed Quantity"}),r.jsxs("div",{className:`${n?"flex flex-wrap":"flex items-center"} gap-2`,children:[r.jsx(L,{size:"sm",variant:"outline",onClick:()=>{const X=Math.max(0,D.completedQuantity-1);z(D.order.id,X)},disabled:b.isPending||D.completedQuantity<=0,children:"-"}),r.jsx("span",{className:"font-medium",children:D.completedQuantity}),r.jsx(L,{size:"sm",variant:"outline",onClick:()=>{const X=Math.min(D.order.totalQuantity,D.completedQuantity+1);z(D.order.id,X)},disabled:b.isPending||D.completedQuantity>=D.order.totalQuantity,children:"+"}),r.jsx("div",{className:n?"w-full mt-2":"ml-auto",children:r.jsx(L,{size:"sm",variant:"default",onClick:()=>z(D.order.id,D.completedQuantity),disabled:b.isPending,className:n?"w-full":"",children:"Update"})})]})]})]})]})},D.id))})}),l.isPrimary&&r.jsx(pt,{value:"needed_v2",children:u?r.jsx("div",{className:"py-4",children:Array.from({length:3}).map((D,X)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},X))}):d&&d.length>0?r.jsx("div",{className:"grid gap-4",children:d.map(D=>r.jsxs("div",{className:"border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[r.jsxs("div",{className:`${n?"flex flex-col space-y-2":"flex justify-between"} items-center`,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("a",{href:`/orders/${D.id}`,className:"text-blue-600 hover:underline font-medium",children:["Order #",D.orderNumber]}),r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",D.tbfosNumber,")"]})]}),r.jsx("div",{className:"text-sm text-gray-700 mt-1",children:D.client})]}),r.jsxs("div",{className:n?"":"flex flex-col items-end",children:[r.jsx("span",{className:"bg-blue-100 text-blue-800 inline-flex items-center text-xs px-2.5 py-0.5 rounded-full font-medium",children:"Needs processing"}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["Due: ",new Date(D.dueDate).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap text-sm text-gray-500 gap-x-4",children:[r.jsxs("div",{children:["Quantity: ",r.jsx("span",{className:"text-gray-700 font-medium",children:D.totalQuantity})]}),D.description&&r.jsxs("div",{className:"mt-1 w-full",children:[r.jsx("span",{className:"text-gray-500",children:"Description: "}),r.jsx("span",{className:"text-gray-700",children:D.description})]})]})]}),r.jsx("div",{className:"p-3 flex justify-end bg-white",children:r.jsxs(L,{onClick:()=>p.mutate(D.id),className:"bg-blue-600 hover:bg-blue-700",size:"sm",fullWidth:n,children:[r.jsx(Ks,{className:"mr-1.5 h-4 w-4"}),"Start Now"]})})]},D.id))}):r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-8",children:[r.jsx(Fa,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Orders Needed"}),r.jsx("p",{className:"text-sm text-center",children:"There are no orders that need processing at this primary location"})]})})})}),r.jsx(pt,{value:"completed",children:T().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-8",children:[r.jsx(Fa,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Completed Orders"}),r.jsx("p",{className:"text-sm text-center",children:"No orders have been completed at this location yet"})]})})}):r.jsxs("div",{className:"space-y-2",children:[T().slice(0,10).map(D=>r.jsx(le,{className:"overflow-hidden",children:r.jsxs(de,{className:`p-4 ${n?"flex flex-col space-y-2":"flex items-center justify-between"}`,children:[r.jsxs("div",{children:[r.jsx(kr,{to:`/orders/${D.order.id}`,children:r.jsx("h3",{className:"font-medium text-primary hover:underline cursor-pointer",children:D.order.orderNumber})}),r.jsx("p",{className:"text-sm text-gray-500",children:D.order.client})]}),r.jsxs("div",{className:n?"":"text-right",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mb-1",children:"Completed"}),r.jsxs("p",{className:"text-sm text-gray-700",children:["Qty: ",D.completedQuantity," / ",D.order.totalQuantity]})]})]})},D.id)),T().length>10&&r.jsx("div",{className:"text-center pt-4",children:r.jsx(L,{variant:"outline",size:"sm",children:"View All Completed Orders"})})]})})]}),r.jsx(Ot,{open:i,onOpenChange:o,children:r.jsxs(Pt,{className:`sm:max-w-md ${n?"w-[calc(100vw-32px)] max-h-[80vh] overflow-y-auto":""}`,children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Orders Queue"}),r.jsx(Yt,{children:"Orders waiting to be processed at this location"})]}),r.jsx("div",{className:"py-4",children:v?r.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((D,X)=>r.jsx(Oe,{className:"h-12 w-full"},X))}):g&&g.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-1",children:g.map(D=>r.jsxs("div",{className:"border rounded p-3 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:r.jsx(kr,{to:`/orders/${D.order.id}`,children:r.jsx("span",{className:"text-blue-600 hover:underline",children:D.order.orderNumber})})}),r.jsxs("div",{className:"text-sm text-gray-500",children:[D.order.client," - ",D.order.totalQuantity," units"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Due: ",new Date(D.order.dueDate).toLocaleDateString()]})]}),r.jsxs(L,{size:"sm",className:n?"w-full":"",onClick:()=>{E(D.order.id),o(!1)},children:[r.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Start"]})]},D.id))}):r.jsx("div",{className:"text-center py-6 text-gray-500",children:r.jsx("p",{children:"No orders in queue for this location"})})}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx(L,{variant:"outline",onClick:()=>o(!1),children:"Close"})})]})}),r.jsx(Ot,{open:q,onOpenChange:D=>{G(D),D||V(null)},children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"New Alert"}),r.jsx(Yt,{children:ie?new Date(ie.createdAt).toLocaleString():""})]}),ie&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Machine: ",ie.machineId]}),r.jsx("div",{className:"text-base",children:ie.message}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(L,{variant:"outline",onClick:()=>{ie&&Fe.mutate(ie.id),G(!1)},children:"Acknowledge"}),r.jsx(L,{onClick:()=>G(!1),children:"Close"})]})]})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Location Not Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"The requested location could not be found."}),r.jsxs(L,{onClick:()=>window.history.back(),children:[r.jsx(Hn,{className:"mr-2 h-4 w-4"})," Back"]})]})}function KV(){const{toast:e}=Qt(),t=kg(),[n,s]=m.useState(""),{data:a,isLoading:i}=Pe({queryKey:["/api/orders",{includeShipped:!0}],queryFn:async()=>{const h=await fetch("/api/orders?includeShipped=true");if(!h.ok)throw new Error("Failed to fetch orders");return h.json()}}),o=(a==null?void 0:a.data)||[],l=h=>{const y=h.locations||[];if(y.length===0)return{readiness:"unknown",allStarted:!1};const j=x=>x==="in_progress"||x==="paused"||x==="done",g=y.every(x=>j(x.status));return y.every(x=>x.status==="done")?{readiness:"fully_ready",allStarted:g}:g?{readiness:"part_ready",allStarted:g}:{readiness:"not_ready",allStarted:g}},d=o.filter(h=>h.orderNumber.toLowerCase().includes(n.toLowerCase())||h.client.toLowerCase().includes(n.toLowerCase())||h.tbfosNumber&&h.tbfosNumber.toLowerCase().includes(n.toLowerCase())).filter(h=>{const{readiness:y}=l(h);return!h.isShipped&&y==="fully_ready"}),u=async h=>{try{await ve("POST",`/api/orders/${h.id}/ship`,{quantity:h.totalQuantity}),e({title:"Order Shipped",description:"The order has been marked as shipped."}),t.invalidateQueries({queryKey:["/api/orders"]})}catch{e({title:"Error",description:"Failed to mark order as shipped. Please try again.",variant:"destructive"})}},f=h=>{e({title:"Shipping Label",description:`Generating shipping label for order ${h.orderNumber}`})};return i?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Oe,{className:"h-8 w-64"}),r.jsx(Oe,{className:"h-64 w-full"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Shipping Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage completed orders ready for shipping"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Ready to Ship"}),r.jsx(bl,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(de,{children:[r.jsx("div",{className:"text-2xl font-bold",children:d.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed orders awaiting shipment"})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Partially Shipped"}),r.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(de,{children:[r.jsx("div",{className:"text-2xl font-bold",children:o.filter(h=>h.partiallyShipped).length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders with partial shipment"})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Total Shipped"}),r.jsx(ar,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(de,{children:[r.jsx("div",{className:"text-2xl font-bold",children:o.filter(h=>h.isShipped).length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All time shipped orders"})]})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Order Search"}),r.jsx(ut,{children:"Search and filter orders by order number, client, or TBFOS number"})]}),r.jsx(de,{children:r.jsxs("div",{className:"relative",children:[r.jsx(cd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(Be,{placeholder:"Search orders...",value:n,onChange:h=>s(h.target.value),className:"pl-10"})]})})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Orders Ready for Shipping"}),r.jsx(ut,{children:"Manage completed orders and shipping status"})]}),r.jsx(de,{children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"Order #"}),r.jsx(fe,{children:"Client"}),r.jsx(fe,{children:"TBFOS #"}),r.jsx(fe,{children:"Due Date"}),r.jsx(fe,{children:"Quantity"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:d.length===0?r.jsx(qe,{children:r.jsx(K,{colSpan:7,className:"text-center py-6",children:"No orders found matching your search criteria."})}):d.map(h=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-medium",children:r.jsx("a",{href:`/orders/${h.id}`,className:"text-primary hover:underline",children:h.orderNumber})}),r.jsx(K,{children:h.client}),r.jsx(K,{children:h.tbfosNumber||"-"}),r.jsx(K,{children:Gr(new Date(h.dueDate),"MMM dd, yyyy")}),r.jsx(K,{children:h.totalQuantity}),r.jsx(K,{children:(()=>{if(h.isShipped)return r.jsxs(Ae,{className:"bg-green-100 text-green-800",children:[r.jsx(ar,{className:"w-3 h-3 mr-1"}),"Shipped"]});const{readiness:y}=l(h);return y==="fully_ready"?r.jsxs(Ae,{variant:"default",className:"bg-emerald-600 hover:bg-emerald-600",children:[r.jsx(bl,{className:"w-3 h-3 mr-1"})," Fully Ready"]}):y==="part_ready"?r.jsxs(Ae,{variant:"secondary",className:"bg-amber-500 text-black hover:bg-amber-500",children:[r.jsx(bl,{className:"w-3 h-3 mr-1"})," Part Ready"]}):y==="not_ready"?r.jsxs(Ae,{variant:"outline",className:"border-gray-300",children:[r.jsx(bl,{className:"w-3 h-3 mr-1"})," Not Ready"]}):r.jsxs(Ae,{variant:"outline",children:[r.jsx(bl,{className:"w-3 h-3 mr-1"})," —"]})})()}),r.jsx(K,{children:r.jsx("div",{className:"flex space-x-2",children:h.isShipped?r.jsx("div",{className:"text-sm text-gray-500",children:"Shipped"}):r.jsxs(r.Fragment,{children:[r.jsxs(L,{size:"sm",variant:"outline",onClick:()=>f(h),children:[r.jsx(nI,{className:"w-4 h-4 mr-1"}),"Label"]}),r.jsxs(L,{size:"sm",onClick:()=>u(h),disabled:l(h).readiness!=="fully_ready",children:[r.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Ship"]})]})})})]},h.id))})]})})]})]})}function GV(){const[e,t]=m.useState(0);m.useEffect(()=>{const v=setInterval(()=>{t(x=>x+1)},3e4);return()=>clearInterval(v)},[]);const{data:n,isLoading:s}=Pe({queryKey:["/api/locations",e]}),{data:a,isLoading:i}=Pe({queryKey:["/api/orders",!1,e],queryFn:async()=>{const v=await fetch("/api/orders?includeShipped=false");if(!v.ok)throw new Error("Failed to fetch orders");return v.json()}}),o=a==null?void 0:a.data,{data:l,isLoading:c}=Pe({queryKey:["/api/help-requests/active",e],queryFn:async()=>{const v=await fetch("/api/help-requests/active");if(!v.ok)throw new Error("Failed to fetch help requests");return v.json()}}),d=Array.isArray(l)?l:[],u=Array.isArray(n)?[...n].sort((v,x)=>v.usedOrder-x.usedOrder):[],f=(v,x)=>o?o.filter(p=>{const w=p.locations.find(N=>N.locationId===v);return w&&w.status===x}):[],h=v=>f(v,"in_progress"),y=v=>f(v,"in_queue").sort((x,p)=>{const w=x.locations.find(b=>b.locationId===v),N=p.locations.find(b=>b.locationId===v);return((w==null?void 0:w.queuePosition)||0)-((N==null?void 0:N.queuePosition)||0)}),j=v=>new Date(v.dueDate)<new Date&&!v.isShipped,g=v=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(v);return s||i||c?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(Oe,{className:"h-8 w-64 mb-2"}),r.jsx(Oe,{className:"h-5 w-96"})]}),Array.from({length:4}).map((v,x)=>r.jsxs("div",{className:"mb-6",children:[r.jsx(Oe,{className:"h-7 w-40 mb-2"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx(Oe,{className:"h-24 w-full"}),r.jsx(Oe,{className:"h-24 w-full"})]})]},x))]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Shop Overview"}),r.jsx("p",{className:"text-gray-500",children:"Real-time status of workshop operations and current orders in process"})]}),d&&d.length>0&&r.jsxs(gh,{variant:"destructive",className:"mb-6",children:[r.jsx(La,{className:"h-4 w-4"}),r.jsxs(vh,{className:"flex items-center",children:[r.jsx(ms,{className:"mr-2 h-4 w-4"})," Help Needed (",d.length,")"]}),r.jsx(yh,{children:r.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto",children:d.map(v=>r.jsxs("div",{className:"border-l-2 border-red-700 pl-3 py-1 mb-2",children:[r.jsxs("p",{className:"font-semibold",children:[v.location.name," - Order #",v.order.orderNumber]}),r.jsx("p",{className:"text-sm",children:v.notes||"No details provided"}),r.jsx("p",{className:"text-xs text-gray-500",children:g(new Date(v.createdAt))})]},v.id))})})]}),u.map(v=>{const x=h(v.id),p=y(v.id);return r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-3 flex items-center",children:[v.name,v.isPrimary&&r.jsx(Ae,{variant:"outline",className:"ml-2",children:"Primary"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsxs(ze,{className:"text-base flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Currently Processing"]})}),r.jsx(de,{children:x.length===0?r.jsxs("div",{className:"flex items-center justify-center h-20 text-gray-500",children:[r.jsx(ar,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"No orders currently in progress"})]}):r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-[180px]",children:"Order #"}),r.jsx(fe,{children:"Client"}),r.jsx(fe,{className:"text-right",children:"Status"})]})}),r.jsx(gn,{children:x.slice(0,3).map(w=>r.jsxs(qe,{children:[r.jsxs(K,{className:"font-medium",children:[r.jsx(kr,{href:`/orders/${w.id}`,children:r.jsx("span",{className:"text-primary hover:underline cursor-pointer",children:w.orderNumber})}),j(w)&&r.jsx(Fa,{className:"inline-block ml-1 h-4 w-4 text-red-500"})]}),r.jsx(K,{children:w.client}),r.jsx(K,{className:"text-right",children:r.jsx($s,{status:"in_progress"})})]},w.id))})]})})]}),r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsxs(ze,{className:"text-base flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Next in Queue"]})}),r.jsx(de,{children:p.length===0?r.jsxs("div",{className:"flex items-center justify-center h-20 text-gray-500",children:[r.jsx(yo,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"No orders in queue"})]}):r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-16",children:"Position"}),r.jsx(fe,{children:"Order #"}),r.jsx(fe,{children:"Client"}),r.jsx(fe,{children:"Due Date"})]})}),r.jsx(gn,{children:p.slice(0,3).map(w=>{const N=w.locations.find(b=>b.locationId===v.id);return r.jsxs(qe,{children:[r.jsxs(K,{className:"font-medium",children:["#",(N==null?void 0:N.queuePosition)||"-"]}),r.jsxs(K,{children:[r.jsx(kr,{href:`/orders/${w.id}`,children:r.jsx("span",{className:"text-primary hover:underline cursor-pointer",children:w.orderNumber})}),j(w)&&r.jsx(Fa,{className:"inline-block ml-1 h-4 w-4 text-red-500"})]}),r.jsx(K,{children:w.client}),r.jsx(K,{className:j(w)?"text-red-500":"",children:new Date(w.dueDate).toLocaleDateString()})]},w.id)})})]})})]})]})]},v.id)}),r.jsxs("div",{className:"text-xs text-gray-500 text-right mt-4",children:["Last updated: ",new Date().toLocaleTimeString(),r.jsx("span",{className:"ml-2 text-primary cursor-pointer hover:underline",onClick:()=>t(v=>v+1),children:"Refresh"})]})]})}async function Jd(e,t,n){const s=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},credentials:"include",body:n?JSON.stringify(n):void 0});if(!s.ok){const a=await s.text();throw new Error(a||`Request failed: ${s.status}`)}return s.status!==204?s.json():null}function YV(){const{user:e}=_n(),{toast:t}=Qt(),n=e&&["admin","manager"].includes(e.role),s=e==null?void 0:e.role,{data:a=[],isLoading:i,error:o}=Pe({queryKey:["/api/users"],enabled:!!n}),[l,c]=m.useState(!1),[d,u]=m.useState(null),[f,h]=m.useState(null),y=m.useMemo(()=>{if(!s)return["shop"];const p=["shop","office","manager","admin"],w=p.indexOf(s);return p.slice(0,w+1)},[s]),j=De({mutationFn:async p=>Jd("POST","/api/users",p),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),t({title:"User created"}),c(!1)},onError:p=>t({title:"Create failed",description:p.message,variant:"destructive"})}),g=De({mutationFn:async({id:p,data:w})=>Jd("PUT",`/api/users/${p}`,w),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),t({title:"User updated"}),u(null)},onError:p=>t({title:"Update failed",description:p.message,variant:"destructive"})}),v=De({mutationFn:async({id:p,password:w})=>Jd("PUT",`/api/users/${p}`,{password:w}),onSuccess:()=>{t({title:"Password reset"}),h(null)},onError:p=>t({title:"Reset failed",description:p.message,variant:"destructive"})}),x=De({mutationFn:async p=>Jd("DELETE",`/api/users/${p}`),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),t({title:"User deleted"})},onError:p=>t({title:"Delete failed",description:p.message,variant:"destructive"})});return n?r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),r.jsxs(L,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(Zl,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center",children:[r.jsx(AS,{className:"h-5 w-5 mr-2 text-primary"}),"Users"]}),r.jsx(ut,{children:"Create, edit, deactivate, reset password, or delete users."})]}),r.jsx(de,{children:i?r.jsx("div",{children:"Loading…"}):o?r.jsx("div",{className:"text-red-600",children:"Failed to load users."}):r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"ID"}),r.jsx(fe,{children:"Username"}),r.jsx(fe,{children:"Full Name"}),r.jsx(fe,{children:"Email"}),r.jsx(fe,{children:"Role"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{className:"text-right",children:"Actions"})]})}),r.jsx(gn,{children:a.map(p=>r.jsxs(qe,{children:[r.jsx(K,{children:p.id}),r.jsx(K,{children:p.username}),r.jsx(K,{children:p.fullName}),r.jsx(K,{children:p.email||"-"}),r.jsx(K,{className:"capitalize",children:p.role}),r.jsx(K,{children:r.jsx("span",{className:J("px-2 py-0.5 rounded text-xs",p.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"),children:p.active?"Active":"Inactive"})}),r.jsxs(K,{className:"space-x-2 text-right",children:[r.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>u(p),children:[r.jsx(cI,{className:"h-3.5 w-3.5 mr-1"})," Edit"]}),r.jsxs(L,{size:"sm",variant:"outline",onClick:()=>h(p),children:[r.jsx(Gt,{className:"h-3.5 w-3.5 mr-1"})," Reset PW"]}),r.jsxs(L,{size:"sm",variant:p.active?"destructive":"default",onClick:()=>g.mutate({id:p.id,data:{active:!p.active}}),children:[r.jsx(fI,{className:"h-3.5 w-3.5 mr-1"})," ",p.active?"Deactivate":"Reactivate"]}),(e==null?void 0:e.role)==="admin"&&r.jsxs(L,{size:"sm",variant:"ghost",className:"text-red-600",onClick:()=>{confirm("Delete this user? This cannot be undone.")&&x.mutate(p.id)},children:[r.jsx(Go,{className:"h-3.5 w-3.5 mr-1"})," Delete"]})]})]},p.id))})]})})]}),r.jsx(Ot,{open:l,onOpenChange:c,children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Create User"}),r.jsx(Yt,{children:"Managers and admins can create users. Role cannot exceed your own."})]}),r.jsxs("div",{className:"grid gap-3 py-2",children:[r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{htmlFor:"username",children:"Username"}),r.jsx(Be,{id:"username",placeholder:"jdoe",onChange:p=>vr.username=p.target.value})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{htmlFor:"fullName",children:"Full Name"}),r.jsx(Be,{id:"fullName",placeholder:"Jane Doe",onChange:p=>vr.fullName=p.target.value})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{htmlFor:"email",children:"Email"}),r.jsx(Be,{id:"email",placeholder:"jane@example.com",onChange:p=>vr.email=p.target.value})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{htmlFor:"role",children:"Role"}),r.jsxs(jt,{onValueChange:p=>vr.role=p,children:[r.jsx(vt,{id:"role",children:r.jsx(wt,{placeholder:"Select a role"})}),r.jsx(yt,{children:y.map(p=>r.jsx(Ve,{value:p,className:"capitalize",children:p},p))})]})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{htmlFor:"password",children:"Password"}),r.jsx(Be,{id:"password",type:"password",onChange:p=>vr.password=p.target.value})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[r.jsx(xf,{id:"active",defaultChecked:!0,onCheckedChange:p=>vr.active=!!p}),r.jsx(gt,{htmlFor:"active",children:"Active"})]})]}),r.jsxs(xs,{children:[r.jsx(L,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),r.jsx(L,{onClick:()=>{if(!vr.username||!vr.fullName||!vr.password){t({title:"Missing fields",description:"Username, Full Name, and Password are required.",variant:"destructive"});return}vr.role||(vr.role=y[0]),j.mutate(vr)},children:"Create"})]})]})}),r.jsx(Ot,{open:!!d,onOpenChange:p=>u(p?d:null),children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Edit User"}),r.jsx(Yt,{children:"Change profile fields and role (not above your own)."})]}),d&&r.jsxs("div",{className:"grid gap-3 py-2",children:[r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{children:"Username"}),r.jsx(Be,{value:d.username,disabled:!0})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{children:"Full Name"}),r.jsx(Be,{defaultValue:d.fullName,onChange:p=>Ml.fullName=p.target.value})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{children:"Email"}),r.jsx(Be,{defaultValue:d.email||"",onChange:p=>Ml.email=p.target.value})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx(gt,{children:"Role"}),r.jsxs(jt,{defaultValue:d.role,onValueChange:p=>Ml.role=p,children:[r.jsx(vt,{children:r.jsx(wt,{})}),r.jsx(yt,{children:y.map(p=>r.jsx(Ve,{value:p,className:"capitalize",children:p},p))})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[r.jsx(xf,{id:"active-edit",defaultChecked:!!d.active,onCheckedChange:p=>Ml.active=!!p}),r.jsx(gt,{htmlFor:"active-edit",children:"Active"})]})]}),r.jsxs(xs,{children:[r.jsx(L,{variant:"outline",onClick:()=>u(null),children:"Cancel"}),d&&r.jsx(L,{onClick:()=>g.mutate({id:d.id,data:Ml}),children:"Save"})]})]})}),r.jsx(Ot,{open:!!f,onOpenChange:p=>h(p?f:null),children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Reset Password"}),r.jsx(Yt,{children:"Enter a new password for this user."})]}),r.jsxs("div",{className:"grid gap-1 py-2",children:[r.jsx(gt,{htmlFor:"newpw",children:"New Password"}),r.jsx(Be,{id:"newpw",type:"password",onChange:p=>Tm.password=p.target.value})]}),r.jsxs(xs,{children:[r.jsx(L,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),f&&r.jsx(L,{onClick:()=>{if(!Tm.password){t({title:"Missing password",variant:"destructive"});return}v.mutate({id:f.id,password:Tm.password})},children:"Update"})]})]})})]}):r.jsx("div",{className:"container mx-auto",children:r.jsx(le,{children:r.jsxs(Le,{children:[r.jsx(ze,{children:"Access Denied"}),r.jsx(ut,{children:"Only managers and admins can view this page."})]})})})}const vr={},Ml={},Tm={},ZV=we.object({name:we.string().min(1,"Name is required"),machineId:we.string().min(1,"Machine ID is required"),locationId:we.number().int().min(1,"Location is required")}),XV=we.object({userId:we.number().int().min(1,"User is required"),accessRole:we.enum(["operator","admin"]).default("operator")});function JV(){const{user:e}=_n(),{toast:t}=Qt(),n=e&&["admin","manager"].includes(e.role),s=(e==null?void 0:e.role)==="admin",[a,i]=m.useState("machines"),[o,l]=m.useState(null),[c,d]=m.useState(!1),[u,f]=m.useState(null),[h,y]=m.useState(!1),{data:j=[],isLoading:g}=Pe({queryKey:["/api/machines"],enabled:!!n}),{data:v=[],isLoading:x}=Pe({queryKey:["/api/locations"],enabled:!!n}),{data:p=[]}=Pe({queryKey:["/api/users"],enabled:!!n}),{data:w=[],isLoading:N,refetch:b}=Pe({queryKey:["/api/machine-permissions/machine",o==null?void 0:o.id],queryFn:async()=>{if(!o)return[];const C=await fetch(`/api/machine-permissions/machine/${o.id}`,{credentials:"include"});return C.ok?C.json():[]},enabled:!!o}),_=De({mutationFn:async C=>{await ve("POST","/api/machines",C)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/machines"]}),t({title:"Machine created"})},onError:C=>t({title:"Create failed",description:C.message,variant:"destructive"})}),k=De({mutationFn:async({id:C,data:P})=>{await ve("PUT",`/api/machines/${C}`,P)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/machines"]}),t({title:"Machine updated"}),d(!1),f(null)},onError:C=>t({title:"Update failed",description:C.message,variant:"destructive"})}),T=De({mutationFn:async C=>{await ve("DELETE",`/api/machines/${C}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/machines"]}),t({title:"Machine deleted"}),o&&o.id===(u==null?void 0:u.id)&&l(null)},onError:C=>t({title:"Delete failed",description:C.message,variant:"destructive"})}),E=De({mutationFn:async C=>{await ve("POST","/api/machine-permissions",C)},onSuccess:()=>{t({title:"Permission added"}),b(),y(!1)},onError:C=>t({title:"Add failed",description:C.message,variant:"destructive"})}),M=De({mutationFn:async({userId:C,machineId:P})=>{await ve("DELETE",`/api/machine-permissions/${C}/${P}`)},onSuccess:()=>{t({title:"Access removed"}),b()},onError:C=>t({title:"Remove failed",description:C.message,variant:"destructive"})}),B=C=>{var P;return((P=v.find(q=>q.id===C))==null?void 0:P.name)||`Location ${C}`},Q=C=>{var P,q;return((P=p.find(G=>G.id===C))==null?void 0:P.fullName)||((q=p.find(G=>G.id===C))==null?void 0:q.username)||`User ${C}`},z=C=>{f(C),d(!0)},$=C=>T.mutate(C),H=C=>{l(C),i("permissions")},Y=C=>{o&&M.mutate({userId:C,machineId:o.id})};return n?g||x?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx(Oe,{className:"h-8 w-48 mb-4 md:mb-0"}),r.jsx(Oe,{className:"h-10 w-36"})]}),r.jsx(le,{children:r.jsx(de,{className:"p-4",children:Array.from({length:5}).map((C,P)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},P))})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Machine Management"}),s&&r.jsxs(Ot,{open:c,onOpenChange:C=>{d(C),C||f(null)},children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{className:"flex items-center",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Add Machine"]})}),r.jsxs(Pt,{className:"sm:max-w-md",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:u?"Edit Machine":"Add New Machine"}),r.jsx(Yt,{children:u?"Update the machine details":"Add a new machine"})]}),r.jsx(e9,{locations:v,initial:u||void 0,onCancel:()=>{d(!1),f(null)},onSubmit:C=>{u?k.mutate({id:u.id,data:C}):_.mutate(C)}})]})]})]}),r.jsxs(Tr,{value:a,onValueChange:i,children:[r.jsxs(mr,{className:"mb-4",children:[r.jsx(dt,{value:"machines",children:"Machines"}),r.jsxs(dt,{value:"permissions",disabled:!o,children:["User Permissions",o&&r.jsx("span",{className:"ml-2 text-xs bg-primary/10 rounded-full py-0.5 px-2",children:o.name})]})]}),r.jsx(pt,{value:"machines",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Workshop Machines"}),r.jsx(ut,{children:"Manage machines and their locations in the workshop"})]}),r.jsx(de,{children:!j||j.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(La,{className:"h-12 w-12 mb-2 text-amber-500"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Machines Found"}),r.jsx("p",{className:"text-sm text-center mb-6",children:"You need to set up machines for your workshop locations."}),s&&r.jsxs(L,{onClick:()=>d(!0),className:"mt-2",children:[r.jsx(Sn,{className:"mr-1 h-4 w-4"})," Add First Machine"]})]}):r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"Machine"}),r.jsx(fe,{children:"Machine ID"}),r.jsx(fe,{children:"Location"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:j.map(C=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-2",children:r.jsx(JD,{className:"h-4 w-4"})}),C.name]})}),r.jsx(K,{children:r.jsx(Ae,{variant:"outline",children:C.machineId})}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Og,{className:"h-4 w-4 mr-1 text-gray-500"}),B(C.locationId)]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsxs(L,{variant:"ghost",size:"sm",className:"flex items-center",onClick:()=>H(C),children:[r.jsx(Zl,{className:"h-4 w-4 mr-1"}),"Permissions"]}),r.jsxs(Ot,{children:[r.jsx(Us,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",title:"Mobile Display QR Code",children:r.jsx(Wp,{className:"h-4 w-4 text-blue-600"})})}),r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsxs(Tt,{children:["Mobile Display for ",C.name]}),r.jsx(Yt,{children:"Scan this QR code to access the mobile-friendly machine display page."})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[r.jsx("div",{className:"border p-4 bg-white rounded-lg",children:r.jsx(zv,{value:`${window.location.origin}/display/machine/${C.id}`,size:200,level:"H",includeMargin:!0,className:"mx-auto"})}),r.jsx(L,{className:"mt-4",onClick:()=>window.open(`/display/machine/${C.id}`,"_blank"),children:"Open Mobile Display"})]})]})]}),s&&r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>z(C),title:"Edit Machine",children:r.jsx(ys,{className:"h-4 w-4"})}),s&&r.jsxs(gf,{children:[r.jsx(vf,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",title:"Delete Machine",className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:r.jsx(Go,{className:"h-4 w-4"})})}),r.jsxs($c,{children:[r.jsxs(zc,{children:[r.jsx(Uc,{children:"Delete Machine"}),r.jsxs(Qc,{children:["Are you sure you want to delete the machine ",r.jsx("strong",{children:C.name}),"?"]})]}),r.jsxs(Vc,{children:[r.jsx(Bc,{children:"Cancel"}),r.jsx(qc,{onClick:()=>$(C.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},C.id))})]})})]})}),r.jsx(pt,{value:"permissions",children:o&&r.jsxs(le,{children:[r.jsx(Le,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs(ze,{children:["User Permissions for ",o.name]}),r.jsx(ut,{children:"Manage which users have access to this machine"})]}),s&&r.jsxs(Ot,{open:h,onOpenChange:y,children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{className:"flex items-center mt-4 md:mt-0",children:[r.jsx(Zl,{className:"mr-1 h-4 w-4"})," Add User"]})}),r.jsxs(Pt,{className:"sm:max-w-md",children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Add User Permission"}),r.jsxs(Yt,{children:["Grant a user access to machine ",o.name]})]}),r.jsx(t9,{users:p,existingPermissions:w,onCancel:()=>y(!1),onSubmit:C=>E.mutate({userId:C.userId,machineId:o.id,accessRole:C.accessRole})})]})]})]})}),r.jsx(de,{children:N?r.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((C,P)=>r.jsx(Oe,{className:"h-12 w-full"},P))}):!w||w.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(Pi,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No User Permissions"}),r.jsx("p",{className:"text-sm text-center mb-4",children:"No users have been granted access to this machine"}),s&&r.jsxs(L,{onClick:()=>y(!0),className:"mt-2",children:[r.jsx(Zl,{className:"mr-1 h-4 w-4"})," Add First User"]})]}):r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"User"}),r.jsx(fe,{children:"Access Role"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:w.map(C=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-2",children:r.jsx(Pi,{className:"h-4 w-4"})}),Q(C.userId)]})}),r.jsx(K,{className:"capitalize",children:r.jsx(n9,{disabled:!s,userId:C.userId,machineId:o.id,value:C.accessRole,onChange:()=>b()})}),r.jsx(K,{children:s&&r.jsxs(gf,{children:[r.jsx(vf,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"sm",className:"flex items-center text-red-500 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Hp,{className:"h-4 w-4 mr-1"}),"Remove Access"]})}),r.jsxs($c,{children:[r.jsxs(zc,{children:[r.jsx(Uc,{children:"Remove User Access"}),r.jsxs(Qc,{children:["Are you sure you want to remove access for ",r.jsx("strong",{children:Q(C.userId)})," to machine ",r.jsx("strong",{children:o.name}),"?"]})]}),r.jsxs(Vc,{children:[r.jsx(Bc,{children:"Cancel"}),r.jsx(qc,{onClick:()=>Y(C.userId),children:"Remove"})]})]})]})})]},C.id))})]})})]})})]})]}):r.jsx("div",{className:"container mx-auto",children:r.jsx(le,{children:r.jsxs(Le,{children:[r.jsx(ze,{children:"Access Denied"}),r.jsx(ut,{children:"Only managers and admins can view this page."})]})})})}function e9({locations:e,initial:t,onCancel:n,onSubmit:s}){const a=lr({resolver:cr(ZV),defaultValues:{name:(t==null?void 0:t.name)||"",machineId:(t==null?void 0:t.machineId)||"",locationId:t!=null&&t.locationId?Number(t.locationId):0}});return r.jsx(ur,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(i=>s({name:i.name,machineId:i.machineId,locationId:Number(i.locationId)})),className:"space-y-4",children:[r.jsx(Ee,{name:"name",control:a.control,render:({field:i})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Name"}),r.jsx(ke,{children:r.jsx(Be,{...i,placeholder:"Laser Cutter"})}),r.jsx(He,{})]})}),r.jsx(Ee,{name:"machineId",control:a.control,render:({field:i})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Machine ID"}),r.jsx(ke,{children:r.jsx(Be,{...i,placeholder:"01"})}),r.jsx(He,{})]})}),r.jsx(Ee,{name:"locationId",control:a.control,render:({field:i})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Location"}),r.jsxs(jt,{onValueChange:o=>i.onChange(Number(o)),value:i.value?String(i.value):void 0,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a location"})})}),r.jsx(yt,{children:e.map(o=>r.jsx(Ve,{value:String(o.id),children:o.name},o.id))})]}),r.jsx(He,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(L,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(L,{type:"submit",children:t!=null&&t.name?"Save":"Create"})]})]})})}function t9({users:e,existingPermissions:t,onCancel:n,onSubmit:s}){const a=lr({resolver:cr(XV),defaultValues:{userId:0,accessRole:"operator"}}),i=m.useMemo(()=>new Set(t.map(l=>l.userId)),[t]),o=e.filter(l=>!i.has(l.id));return r.jsx(ur,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-4",children:[r.jsx(Ee,{name:"userId",control:a.control,render:({field:l})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"User"}),r.jsxs(jt,{onValueChange:c=>l.onChange(Number(c)),value:l.value?String(l.value):void 0,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a user"})})}),r.jsx(yt,{children:o.length===0?r.jsx(Ve,{value:"0",disabled:!0,children:"No users available"}):o.map(c=>r.jsx(Ve,{value:String(c.id),children:c.fullName||c.username},c.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{name:"accessRole",control:a.control,render:({field:l})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Access Role"}),r.jsxs(jt,{onValueChange:c=>l.onChange(c),value:l.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a role"})})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"operator",children:"Operator"}),r.jsx(Ve,{value:"admin",children:"Admin"})]})]}),r.jsx(He,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(L,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(L,{type:"submit",disabled:o.length===0,children:"Add Permission"})]})]})})}function n9({disabled:e,userId:t,machineId:n,value:s,onChange:a}){const{toast:i}=Qt(),o=De({mutationFn:async l=>ve("PUT",`/api/machine-permissions/${t}/${n}`,{accessRole:l}),onSuccess:()=>{i({title:"Access updated"}),a()},onError:l=>i({title:"Update failed",description:l.message,variant:"destructive"})});return r.jsxs(jt,{disabled:e,defaultValue:s,onValueChange:l=>o.mutate(l),children:[r.jsx(vt,{className:"w-32",children:r.jsx(wt,{})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"operator",children:"Operator"}),r.jsx(Ve,{value:"admin",children:"Admin"})]})]})}function Mj({machineId:e}){const[,t]=Zr(),{toast:n}=Qt(),{user:s}=_n();ml();const[a,i]=m.useState(!1),[o,l]=m.useState("current"),{data:c,isLoading:d}=Pe({queryKey:["/api/machines",e],queryFn:async()=>{try{const A=await fetch(`/api/machines/${e}`);return A.ok?A.json():(console.error(`Failed to fetch machine details for ID: ${e}`,A.status),null)}catch(A){return console.error(`Error fetching machine with ID: ${e}`,A),null}}}),{data:u,isLoading:f}=Pe({queryKey:["/api/locations",c==null?void 0:c.locationId],queryFn:async()=>{if(!(c!=null&&c.locationId))return null;try{const A=await fetch(`/api/locations/${c.locationId}`);return A.ok?A.json():(console.error(`Failed to fetch location details for locationId: ${c.locationId}`,A.status),null)}catch(A){return console.error(`Error fetching location with ID: ${c.locationId}`,A),null}},enabled:!!(c!=null&&c.locationId)}),{data:h,isLoading:y,refetch:j}=Pe({queryKey:["/api/order-locations/location",c==null?void 0:c.locationId],queryFn:async()=>{if(!(c!=null&&c.locationId))return[];const A=await fetch(`/api/order-locations/location/${c.locationId}`);if(!A.ok)throw new Error("Failed to fetch orders for this location");return A.json()},enabled:!!(c!=null&&c.locationId)}),{data:g,refetch:v}=Pe({queryKey:["/api/assignments/machine",e],queryFn:async()=>{const A=await fetch(`/api/assignments/machine/${e}`);if(!A.ok)throw new Error("Failed to fetch assignments");return A.json()}}),{data:x,isLoading:p}=Pe({queryKey:["/api/machine-permissions/user",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const A=await fetch(`/api/machine-permissions/user/${s.id}`);if(!A.ok)throw new Error("Failed to fetch user permissions");return A.json()},enabled:!!(s!=null&&s.id)});m.useEffect(()=>{const A=setInterval(()=>{j()},3e4);return()=>clearInterval(A)},[j]);const w=De({mutationFn:async A=>{await ve("POST",`/api/order-locations/${A.orderId}/${A.locationId}/start`,{})},onSuccess:()=>{j(),n({title:"Order Started",description:"The order has been started at this location"})},onError:A=>{n({title:"Error",description:`Failed to start order: ${A.message}`,variant:"destructive"})}}),N=De({mutationFn:async A=>{await ve("POST",`/api/order-locations/${A.orderId}/${A.locationId}/finish`,{completedQuantity:A.completedQuantity})},onSuccess:()=>{j(),n({title:"Order Completed",description:"The order has been marked as completed at this location"})},onError:A=>{n({title:"Error",description:`Failed to complete order: ${A.message}`,variant:"destructive"})}}),b=De({mutationFn:async A=>{await ve("POST",`/api/order-locations/${A.orderId}/${A.locationId}/pause`,{})},onSuccess:()=>{j(),n({title:"Order Paused",description:"The order has been paused at this location"})},onError:A=>{n({title:"Error",description:`Failed to pause order: ${A.message}`,variant:"destructive"})}}),_=De({mutationFn:async A=>{await ve("POST",`/api/order-locations/${A.orderId}/${A.locationId}/update-quantity`,{completedQuantity:A.completedQuantity})},onSuccess:()=>{j(),n({title:"Quantity Updated",description:"The completed quantity has been updated"})},onError:A=>{n({title:"Error",description:`Failed to update quantity: ${A.message}`,variant:"destructive"})}}),k=De({mutationFn:async A=>{await ve("POST","/api/help-requests",{orderId:A.orderId,locationId:A.locationId,notes:A.notes})},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/help-requests/active"]}),n({title:"Help Requested",description:"Your help request has been submitted"})},onError:A=>{n({title:"Error",description:`Failed to request help: ${A.message}`,variant:"destructive"})}}),T=()=>h?h.filter(A=>A.status==="in_progress"||A.status==="paused"):[],E=()=>h?h.filter(A=>A.status==="done"):[],M=()=>(s==null?void 0:s.role)==="admin"?!0:x?x.some(A=>A.machineId===e):!1,B=(A,R)=>{w.mutate({orderId:A,locationId:R})},Q=(A,R,oe)=>{N.mutate({orderId:A,locationId:R,completedQuantity:oe})},z=(A,R)=>{b.mutate({orderId:A,locationId:R})},$=(A,R)=>{w.mutate({orderId:A,locationId:R})},[H,Y]=m.useState(null),C=(A,R,oe)=>{_.mutate({orderId:A,locationId:R,completedQuantity:oe})},P=(A,R)=>{k.mutate({orderId:A,locationId:R})},{data:q=[]}=Pe({queryKey:["/api/alerts/machine",c==null?void 0:c.machineId],enabled:!!(c!=null&&c.machineId),queryFn:async()=>{const A=await ve("GET",`/api/alerts/machine/${c.machineId}`);if(!A.ok)throw new Error("Failed to fetch machine alerts");return A.json()},refetchInterval:5e3}),[G,ie]=m.useState([]),[V,ee]=m.useState(!1),[Z,Fe]=m.useState(null),[D,X]=m.useState(new Set);m.useEffect(()=>{const R=(q||[]).filter(oe=>oe.status==="pending").filter(oe=>!D.has(oe.id));R.length>0&&(ie(oe=>[...oe,...R]),X(oe=>new Set([...Array.from(oe),...R.map(O=>O.id)])))},[q,D]),m.useEffect(()=>{!Z&&G.length>0&&(Fe(G[0]),ie(A=>A.slice(1)),ee(!0))},[G,Z]);const Ie=De({mutationFn:async A=>{const R=await ve("POST",`/api/alerts/${A}/acknowledge`);if(!R.ok)throw new Error("Failed to acknowledge alert");return R.json()},onSuccess:()=>{n({title:"Alert acknowledged"})}});return d||f?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx(Oe,{className:"h-8 w-48"})]}),r.jsx(Oe,{className:"h-10 w-32"})]}),r.jsx(le,{children:r.jsxs(de,{className:"p-6",children:[r.jsx(Oe,{className:"h-24 w-full mb-4"}),r.jsx(Oe,{className:"h-8 w-3/4 mb-2"}),r.jsx(Oe,{className:"h-8 w-1/2"})]})}),r.jsxs(Tr,{defaultValue:"current",children:[r.jsxs(mr,{className:"mb-4",children:[r.jsx(dt,{value:"current",children:"Current Orders"}),r.jsx(dt,{value:"completed",children:"Completed"})]}),r.jsx(pt,{value:"current",children:Array.from({length:3}).map((A,R)=>r.jsx(Oe,{className:"h-32 w-full mb-4"},R))})]})]}):c?M()?r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:c.name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs(L,{variant:"outline",onClick:()=>j(),className:"mr-2",size:"sm",children:[r.jsx(Gt,{className:"h-4 w-4 mr-1"})," Refresh"]}),(s==null?void 0:s.role)==="admin"&&r.jsxs(L,{onClick:()=>i(!0),size:"sm",children:[r.jsx(xI,{className:"h-4 w-4 mr-1"})," Permissions"]})]})]}),r.jsxs(le,{className:"mb-6",children:[r.jsx(Le,{children:r.jsx(ze,{className:"flex items-center",children:r.jsx("span",{className:"text-lg",children:"Machine Details"})})}),r.jsx(de,{children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Machine ID"}),r.jsx("p",{className:"font-medium",children:c.machineId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),r.jsxs("p",{className:"font-medium flex items-center",children:[r.jsx(dI,{className:"h-4 w-4 mr-1 text-blue-500"}),u?u.name:"Not assigned"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),r.jsx("div",{className:"flex items-center",children:T().length>0?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Idle"})})]})]}),r.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:T().length>0?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-32 h-32 mx-auto mb-2",children:r.jsx(Qa,{value:(()=>{const A=T()[0],R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1)),oe=R>0?R:1;return Math.min(100,A.completedQuantity/oe*100)})(),text:(()=>{const A=T()[0],R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1));return`${A.completedQuantity}/${R}`})(),styles:qa({textSize:"16px",pathColor:"#3b82f6",textColor:"#1f2937",trailColor:"#e5e7eb"})})}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Current Order"}),r.jsx("p",{className:"font-medium",children:r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>t(`/orders/${T()[0].order.id}`),children:T()[0].order.orderNumber})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-32 h-32 mx-auto mb-2 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center",children:r.jsx(Ks,{className:"h-12 w-12 text-gray-300"})}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No Active Orders"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Ready for next job"})]})})]})})]}),r.jsxs(Tr,{value:o,onValueChange:l,children:[r.jsxs(mr,{className:"mb-4",children:[r.jsxs(dt,{value:"current",children:["Current Orders ",T().length>0&&`(${T().length})`]}),r.jsxs(dt,{value:"completed",children:["Completed ",E().length>0&&`(${E().length})`]})]}),r.jsx(pt,{value:"current",children:T().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-8",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 mb-2 text-gray-400",children:[r.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22z"}),r.jsx("path",{d:"M12 8v4"}),r.jsx("path",{d:"M12 16h.01"})]}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Current Orders"}),r.jsx("p",{className:"text-sm text-center mb-4",children:"No orders in progress or paused at this location"})]})})}):r.jsxs("div",{className:"space-y-4",children:[g&&g.length>0&&r.jsx(le,{children:r.jsx(de,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(jt,{value:H?`${H.orderId}|${H.locationId}`:"",onValueChange:A=>{const[R,oe]=A.split("|").map(O=>parseInt(O));Y({orderId:R,locationId:oe})},children:[r.jsx(vt,{className:"w-80",children:r.jsx(wt,{placeholder:"Select assigned order to start"})}),r.jsx(yt,{children:[...g].sort((A,R)=>{if(A.order.rush&&!R.order.rush)return-1;if(!A.order.rush&&R.order.rush)return 1;if(A.order.rush&&R.order.rush){const oe=A.order.rushSetAt?new Date(A.order.rushSetAt).getTime():0,O=R.order.rushSetAt?new Date(R.order.rushSetAt).getTime():0;if(oe!==O)return oe-O}return(A.order.globalQueuePosition||0)-(R.order.globalQueuePosition||0)}).map(A=>{var R;return r.jsxs(Ve,{value:`${A.orderId}|${A.locationId}`,children:["#",A.order.orderNumber," — ",((R=A.location)==null?void 0:R.name)||`Loc ${A.locationId}`," ",A.order.rush&&"• RUSH"]},`${A.orderId}-${A.locationId}`)})})]}),r.jsx(L,{disabled:!H||w.isPending,onClick:()=>H&&B(H.orderId,H.locationId),children:"Start Order"})]})})}),T().map(A=>r.jsx(le,{className:"overflow-hidden",children:r.jsxs(de,{className:"p-0",children:[r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>t(`/orders/${A.order.id}`),children:A.order.orderNumber})}),r.jsx("p",{className:"text-sm text-gray-500",children:A.order.client})]}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.status==="in_progress"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status==="in_progress"?"In Progress":"Paused"}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["Due: ",new Date(A.order.dueDate).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-sm font-medium",children:"Progress"}),u!=null&&u.noCount?null:r.jsxs("span",{className:"text-sm font-medium",children:[A.completedQuantity,"/",Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1))]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${(()=>{const R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1)),oe=R>0?R:1;return Math.min(100,A.completedQuantity/oe*100)})()}%`}})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.status==="in_progress"?r.jsxs(r.Fragment,{children:[r.jsx(L,{size:"sm",variant:"outline",onClick:()=>z(A.order.id,A.locationId),disabled:b.isPending,children:"Pause"}),r.jsx(L,{size:"sm",onClick:()=>{const R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1));Q(A.order.id,A.locationId,R)},disabled:N.isPending,children:"Complete"})]}):r.jsx(L,{size:"sm",onClick:()=>$(A.order.id,A.locationId),disabled:w.isPending,children:"Resume"}),r.jsx(L,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>P(A.order.id,A.locationId),disabled:k.isPending,children:"Request Help"})]})]}),r.jsxs("div",{className:"border-t p-4 bg-gray-50",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Order Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"TBFOS #:"})," ",A.order.tbfosNumber]}),!(u!=null&&u.noCount)&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Quantity:"})," ",Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1)),u!=null&&u.countMultiplier&&u.countMultiplier!==1?r.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:["(",A.order.totalQuantity," x ",u.countMultiplier,")"]}):null]}),A.order.description&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"Description:"})," ",A.order.description]}),A.order.notes&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",A.order.notes]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Update Completed Quantity"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(L,{size:"sm",variant:"outline",onClick:()=>{const R=Math.max(0,A.completedQuantity-1);C(A.order.id,A.locationId,R)},disabled:_.isPending||A.completedQuantity<=0,children:"-"}),r.jsx("span",{className:"font-medium",children:A.completedQuantity}),r.jsx(L,{size:"sm",variant:"outline",onClick:()=>{const R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1)),oe=Math.min(R,A.completedQuantity+1);C(A.order.id,A.locationId,oe)},disabled:(()=>{const R=Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1));return _.isPending||A.completedQuantity>=R})(),children:"+"}),r.jsx("div",{className:"ml-auto",children:r.jsx(L,{size:"sm",variant:"default",onClick:()=>C(A.order.id,A.locationId,A.completedQuantity),disabled:_.isPending,children:"Update"})})]})]})]})]})},A.id))]})}),r.jsx(pt,{value:"completed",children:E().length===0?r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500 py-8",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 mb-2 text-gray-400",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Completed Orders"}),r.jsx("p",{className:"text-sm text-center",children:"No completed orders at this location yet"})]})})}):r.jsx("div",{className:"space-y-4",children:E().map(A=>r.jsx(le,{children:r.jsxs(de,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:r.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>t(`/orders/${A.order.id}`),children:A.order.orderNumber})}),r.jsx("p",{className:"text-sm text-gray-500",children:A.order.client})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(A.completedAt||"").toLocaleDateString()})]})]}),!(u!=null&&u.noCount)&&r.jsx("div",{className:"text-sm mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Quantity:"}),r.jsxs("span",{children:[A.completedQuantity,"/",Math.ceil((A.order.totalQuantity||0)*((u==null?void 0:u.countMultiplier)??1))]})]})})]})},A.id))})})]}),r.jsx(Ot,{open:V,onOpenChange:A=>{ee(A),A||Fe(null)},children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"New Alert"}),r.jsx(Yt,{children:Z?new Date(Z.createdAt).toLocaleString():""})]}),Z&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Machine: ",Z.machineId]}),r.jsx("div",{className:"text-base",children:Z.message}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx(L,{variant:"outline",onClick:()=>{Z&&Ie.mutate(Z.id),ee(!1)},children:"Acknowledge"}),r.jsx(L,{onClick:()=>ee(!1),children:"Close"})]})]})]})}),r.jsx(Ot,{open:a,onOpenChange:i,children:r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Machine Access Permissions"}),r.jsx(Yt,{children:"Users who have permissions to use this machine"})]}),p?r.jsx("div",{className:"py-4",children:Array.from({length:3}).map((A,R)=>r.jsx(Oe,{className:"h-8 w-full mb-2"},R))}):x&&x.length>0?r.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:x.map(A=>{var R;return r.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:r.jsx("div",{className:"font-medium",children:((R=A.user)==null?void 0:R.username)||`User ${A.userId}`})},A.userId)})}):r.jsx("div",{className:"text-center py-6 text-gray-500",children:"No permissions configured for this machine"})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx(La,{className:"h-16 w-16 text-yellow-500 mb-4"}),r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),r.jsxs("p",{className:"text-gray-500 mb-4 text-center",children:["You don't have permission to access this machine.",r.jsx("br",{}),"Please contact an administrator for access."]}),r.jsxs(L,{onClick:()=>window.history.back(),children:[r.jsx(Hn,{className:"mr-2 h-4 w-4"})," Back"]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Machine Not Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"The requested machine could not be found."}),r.jsxs(L,{onClick:()=>window.history.back(),children:[r.jsx(Hn,{className:"mr-2 h-4 w-4"})," Back"]})]})}function r9(){const[e,t]=m.useState(""),[n,s]=m.useState("all"),[a,i]=m.useState(1),[o,l]=m.useState(50),[c,d]=m.useState(0),[u,f]=m.useState(!1),[h,y]=m.useState([]),{data:j,isLoading:g,refetch:v}=Pe({queryKey:["/api/audit-trail",a,o,c],queryFn:async({queryKey:M})=>{const[B,Q,z]=M,$=await fetch(`/api/audit-trail?page=${Q}&pageSize=${z}`);if(!$.ok)throw new Error("Failed to fetch audit trail");return $.json()}});m.useState(()=>{if(!j)return;if(!e&&n==="all"){y(j.data),f(!1);return}f(!0);const M=j.data.filter(B=>{var $,H,Y,C,P,q;const Q=!e||(($=B.order)==null?void 0:$.orderNumber)&&B.order.orderNumber.toLowerCase().includes(e.toLowerCase())||((H=B.order)==null?void 0:H.tbfosNumber)&&B.order.tbfosNumber.toLowerCase().includes(e.toLowerCase())||((Y=B.order)==null?void 0:Y.client)&&B.order.client.toLowerCase().includes(e.toLowerCase())||((C=B.user)==null?void 0:C.username)&&B.user.username.toLowerCase().includes(e.toLowerCase())||((P=B.user)==null?void 0:P.fullName)&&B.user.fullName.toLowerCase().includes(e.toLowerCase())||((q=B.location)==null?void 0:q.name)&&B.location.name.toLowerCase().includes(e.toLowerCase())||B.details&&B.details.toLowerCase().includes(e.toLowerCase()),z=n==="all"||B.action===n;return Q&&z});y(M)},[j,e,n]);const x=M=>new Date(M).toLocaleString(),p=M=>{switch(M){case"created":return r.jsx(Sn,{className:"h-4 w-4"});case"updated":return r.jsx(ys,{className:"h-4 w-4"});case"started":return r.jsx(uI,{className:"h-4 w-4"});case"finished":return r.jsx(ar,{className:"h-4 w-4"});case"paused":return r.jsx(lI,{className:"h-4 w-4"});case"updated_quantity":return r.jsx(ys,{className:"h-4 w-4"});case"shipped":return r.jsx(Vs,{className:"h-4 w-4"});case"help_requested":return r.jsx(yo,{className:"h-4 w-4"});default:return r.jsx(qp,{className:"h-4 w-4"})}},w=M=>{switch(M){case"created":return"bg-green-100 text-green-800";case"updated":return"bg-blue-100 text-blue-800";case"started":return"bg-blue-100 text-blue-800";case"finished":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"updated_quantity":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"help_requested":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=M=>{switch(M){case"created":return"Created";case"updated":return"Updated";case"started":return"Started";case"finished":return"Completed";case"paused":return"Paused";case"updated_quantity":return"Updated Quantity";case"shipped":return"Shipped";case"help_requested":return"Help Requested";default:return M.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())}},b=M=>{i(M)},_=M=>{l(M),i(1)},k=async()=>{try{const M=await fetch("/api/audit-trail?page=1&pageSize=1");if(!M.ok)throw new Error("Failed to fetch audit trail count");const Q=(await M.json()).pagination.totalItems,z=1e3,$=1e4;Q>$&&alert(`Export limited to ${$.toLocaleString()} records. The system has ${Q.toLocaleString()} records in total. Please refine your search criteria or use filters to reduce the dataset.`);const H=Math.ceil(Math.min(Q,$)/z);let Y=[];const C=document.createElement("div");C.style.position="fixed",C.style.top="50%",C.style.left="50%",C.style.transform="translate(-50%, -50%)",C.style.padding="20px",C.style.background="white",C.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)",C.style.borderRadius="8px",C.style.zIndex="9999";for(let Z=1;Z<=H;Z++){C.innerHTML=`Exporting audit records: ${Math.round(Z/H*100)}%`,Z===1&&document.body.appendChild(C);const Fe=await fetch(`/api/audit-trail?page=${Z}&pageSize=${z}`);if(!Fe.ok)throw new Error(`Failed to fetch audit trail batch ${Z}`);const D=await Fe.json();if(Y=[...Y,...D.data],Y.length>=$)break}if(document.body.removeChild(C),(e||n!=="all")&&(Y=Y.filter(Z=>{var X,Ie,A,R,oe,O;const Fe=!e||((X=Z.order)==null?void 0:X.orderNumber)&&Z.order.orderNumber.toLowerCase().includes(e.toLowerCase())||((Ie=Z.order)==null?void 0:Ie.tbfosNumber)&&Z.order.tbfosNumber.toLowerCase().includes(e.toLowerCase())||((A=Z.order)==null?void 0:A.client)&&Z.order.client.toLowerCase().includes(e.toLowerCase())||((R=Z.user)==null?void 0:R.username)&&Z.user.username.toLowerCase().includes(e.toLowerCase())||((oe=Z.user)==null?void 0:oe.fullName)&&Z.user.fullName.toLowerCase().includes(e.toLowerCase())||((O=Z.location)==null?void 0:O.name)&&Z.location.name.toLowerCase().includes(e.toLowerCase())||Z.details&&Z.details.toLowerCase().includes(e.toLowerCase()),D=n==="all"||Z.action===n;return Fe&&D})),Y.length===0){alert("No data to export based on current filters.");return}const P=["Timestamp","Order #","Action","User","Location","Details"],q=Y.map(Z=>{var Fe,D,X,Ie;return[x(Z.createdAt),((Fe=Z.order)==null?void 0:Fe.orderNumber)||"",N(Z.action),((D=Z.user)==null?void 0:D.fullName)||((X=Z.user)==null?void 0:X.username)||"",((Ie=Z.location)==null?void 0:Ie.name)||"",Z.details||""]}),G=[P.join(","),...q.map(Z=>Z.map(Fe=>`"${String(Fe).replace(/"/g,'""')}"`).join(","))].join(`
`),ie=new Blob([G],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(ie),ee=document.createElement("a");ee.setAttribute("href",V),ee.setAttribute("download",`audit-trail-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(V)}catch(M){console.error("Failed to export audit trail:",M),alert("Export failed. Please try again or export a smaller dataset by applying filters.")}},T=M=>{t(M),M!==e&&i(1)},E=M=>{s(M),M!==n&&i(1)};return g?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx(Oe,{className:"h-8 w-48 mb-4 md:mb-0"}),r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2",children:[r.jsx(Oe,{className:"h-10 w-64"}),r.jsx(Oe,{className:"h-10 w-36"})]})]}),r.jsx(le,{children:r.jsx(de,{className:"p-4",children:Array.from({length:10}).map((M,B)=>r.jsx(Oe,{className:"h-16 w-full mb-2"},B))})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Audit Trail"}),r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Be,{type:"text",placeholder:"Search audit trail...",value:e,onChange:M=>T(M.target.value),className:"pl-10 w-full md:w-64"}),r.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(L,{variant:"outline",className:"flex items-center",onClick:()=>{d(M=>M+1),v()},children:[r.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(L,{variant:"default",className:"flex items-center",onClick:k,disabled:!j||j.data.length===0,children:[r.jsx(_S,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]})]}),r.jsx(le,{className:"mb-4",children:r.jsxs(de,{className:"flex flex-col md:flex-row items-start md:items-center gap-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Action Type"}),r.jsxs(jt,{value:n,onValueChange:E,children:[r.jsx(vt,{className:"w-[180px]",children:r.jsx(wt,{placeholder:"Filter by action"})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"all",children:"All Actions"}),r.jsx(Ve,{value:"created",children:"Created"}),r.jsx(Ve,{value:"updated",children:"Updated"}),r.jsx(Ve,{value:"started",children:"Started"}),r.jsx(Ve,{value:"finished",children:"Completed"}),r.jsx(Ve,{value:"paused",children:"Paused"}),r.jsx(Ve,{value:"updated_quantity",children:"Updated Quantity"}),r.jsx(Ve,{value:"shipped",children:"Shipped"}),r.jsx(Ve,{value:"help_requested",children:"Help Requested"})]})]})]}),r.jsx("div",{className:"ml-auto text-sm text-gray-500 pt-4 md:pt-0",children:j&&r.jsxs("div",{children:["Total records: ",j.pagination.totalItems,u&&r.jsxs("span",{children:[" (filtered: ",h.length,")"]})]})})]})}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Audit Trail"}),r.jsx(ut,{children:"History of actions performed on orders in the workshop management system"})]}),r.jsx(de,{className:"p-0",children:!j||j.data.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(qp,{className:"h-12 w-12 mb-2 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Audit Records"}),r.jsx("p",{className:"text-sm text-center",children:"There are no audit records to display"})]}):h.length===0&&u?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(La,{className:"h-12 w-12 mb-2 text-amber-500"}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Matching Records"}),r.jsx("p",{className:"text-sm text-center",children:"No audit records match your search criteria"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-40",children:"Timestamp"}),r.jsx(fe,{children:"Order #"}),r.jsx(fe,{children:"Action"}),r.jsx(fe,{children:"User"}),r.jsx(fe,{children:"Location"}),r.jsx(fe,{children:"Details"})]})}),r.jsx(gn,{children:(u?h:j.data).map(M=>{var B,Q;return r.jsxs(qe,{children:[r.jsx(K,{className:"text-sm text-gray-500 whitespace-nowrap",children:x(M.createdAt)}),r.jsx(K,{children:M.order?r.jsx("div",{className:"font-medium hover:text-primary hover:underline",children:M.order.orderNumber}):r.jsx("span",{className:"text-gray-500",children:"-"})}),r.jsx(K,{children:r.jsxs(Ae,{variant:"outline",className:`flex items-center w-fit ${w(M.action)}`,children:[p(M.action),r.jsx("span",{className:"ml-1",children:N(M.action)})]})}),r.jsx(K,{children:M.user?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-2",children:((B=M.user.fullName)==null?void 0:B.charAt(0).toUpperCase())||((Q=M.user.username)==null?void 0:Q.charAt(0).toUpperCase())||"U"}),r.jsx("span",{children:M.user.fullName||M.user.username})]}):r.jsx("span",{className:"text-gray-500",children:"-"})}),r.jsx(K,{children:M.location?r.jsx("span",{children:M.location.name}):r.jsx("span",{className:"text-gray-500",children:"-"})}),r.jsx(K,{children:M.details||r.jsx("span",{className:"text-gray-500",children:"-"})})]},M.id)})})]})})}),j&&j.pagination.totalPages>0&&!u&&r.jsx(js,{className:"flex justify-center pt-2 border-t",children:r.jsx($v,{currentPage:j.pagination.page,totalPages:j.pagination.totalPages,onPageChange:b,pageSize:j.pagination.pageSize,onPageSizeChange:_,pageSizeOptions:[10,20,50,100,250],disabled:g,className:"py-4"})})]}),j&&!u&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[r.jsxs("div",{children:["Showing ",j.data.length," of ",j.pagination.totalItems," records"]}),r.jsxs("div",{children:["Page ",j.pagination.page," of ",j.pagination.totalPages]})]})]})}const s9=we.object({companyName:we.string().min(1,"Company name is required"),timeZone:we.string().min(1,"Time zone is required"),dateFormat:we.string().min(1,"Date format is required"),autoRefreshInterval:we.number().min(5,"Must be at least 5 seconds")}),a9=we.object({enableEmailNotifications:we.boolean(),enablePushNotifications:we.boolean(),orderCompletedNotifications:we.boolean(),helpRequestNotifications:we.boolean(),lowStockNotifications:we.boolean()}),i9=we.object({requireTwoFactor:we.boolean(),sessionTimeout:we.number().min(5,"Must be at least 5 minutes"),passwordMinLength:we.number().min(6,"Must be at least 6 characters"),requirePasswordComplexity:we.boolean()});function o9(){const{toast:e}=Qt(),{data:t,isLoading:n}=Pe({queryKey:["/api/settings"],queryFn:async()=>{const f=await fetch("/api/settings");if(!f.ok)throw new Error("Failed to fetch settings");return f.json()}}),s=t||{},a=lr({resolver:cr(s9),defaultValues:{companyName:s.companyName||"ShopTracker Manufacturing",timeZone:s.timeZone||"America/New_York",dateFormat:s.dateFormat||"MM/dd/yyyy",autoRefreshInterval:s.autoRefreshInterval||30}}),i=lr({resolver:cr(a9),defaultValues:{enableEmailNotifications:s.enableEmailNotifications||!1,enablePushNotifications:s.enablePushNotifications||!1,orderCompletedNotifications:s.orderCompletedNotifications||!0,helpRequestNotifications:s.helpRequestNotifications||!0,lowStockNotifications:s.lowStockNotifications||!1}}),o=lr({resolver:cr(i9),defaultValues:{requireTwoFactor:s.requireTwoFactor||!1,sessionTimeout:s.sessionTimeout||60,passwordMinLength:s.passwordMinLength||8,requirePasswordComplexity:s.requirePasswordComplexity||!0}}),l=De({mutationFn:async f=>(await ve("PUT","/api/settings",f)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/settings"]}),e({title:"Settings Updated",description:"Your settings have been saved successfully."})},onError:()=>{e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}}),c=f=>{l.mutate({type:"system",...f})},d=f=>{l.mutate({type:"notifications",...f})},u=f=>{l.mutate({type:"security",...f})};return n?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Oe,{className:"h-8 w-64"}),r.jsx(Oe,{className:"h-96 w-full"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qf,{className:"h-6 w-6"}),r.jsx("h1",{className:"text-2xl font-bold",children:"System Settings"})]}),r.jsxs(Tr,{defaultValue:"system",className:"space-y-6",children:[r.jsxs(mr,{className:"grid w-full grid-cols-4",children:[r.jsx(dt,{value:"system",children:"System"}),r.jsx(dt,{value:"notifications",children:"Notifications"}),r.jsx(dt,{value:"security",children:"Security"}),r.jsx(dt,{value:"database",children:"Database"})]}),r.jsx(pt,{value:"system",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center space-x-2",children:[r.jsx(oI,{className:"h-5 w-5"}),r.jsx("span",{children:"System Configuration"})]}),r.jsx(ut,{children:"Configure general system settings and preferences"})]}),r.jsx(de,{children:r.jsx(ur,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-6",children:[r.jsx(Ee,{control:a.control,name:"companyName",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Company Name"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter company name",...f})}),r.jsx(kt,{children:"This will appear in headers and reports"}),r.jsx(He,{})]})}),r.jsx(Ee,{control:a.control,name:"timeZone",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Time Zone"}),r.jsxs(jt,{onValueChange:f.onChange,defaultValue:f.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select time zone"})})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"America/New_York",children:"Eastern (EST/EDT)"}),r.jsx(Ve,{value:"America/Chicago",children:"Central (CST/CDT)"}),r.jsx(Ve,{value:"America/Denver",children:"Mountain (MST/MDT)"}),r.jsx(Ve,{value:"America/Los_Angeles",children:"Pacific (PST/PDT)"}),r.jsx(Ve,{value:"UTC",children:"UTC"})]})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:a.control,name:"dateFormat",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Date Format"}),r.jsxs(jt,{onValueChange:f.onChange,defaultValue:f.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select date format"})})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),r.jsx(Ve,{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),r.jsx(Ve,{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:a.control,name:"autoRefreshInterval",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Auto Refresh Interval (seconds)"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",...f,onChange:h=>f.onChange(parseInt(h.target.value)||30)})}),r.jsx(kt,{children:"How often the dashboard should refresh automatically"}),r.jsx(He,{})]})}),r.jsxs(L,{type:"submit",disabled:l.isPending,children:[r.jsx(pu,{className:"w-4 h-4 mr-2"}),"Save System Settings"]})]})})})]})}),r.jsx(pt,{value:"notifications",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center space-x-2",children:[r.jsx(ms,{className:"h-5 w-5"}),r.jsx("span",{children:"Notification Settings"})]}),r.jsx(ut,{children:"Configure notification preferences and delivery methods"})]}),r.jsx(de,{children:r.jsx(ur,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(d),className:"space-y-6",children:[r.jsx(Ee,{control:i.control,name:"enableEmailNotifications",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Email Notifications"}),r.jsx(kt,{children:"Receive notifications via email"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:i.control,name:"enablePushNotifications",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Push Notifications"}),r.jsx(kt,{children:"Receive browser push notifications"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:i.control,name:"orderCompletedNotifications",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Order Completed"}),r.jsx(kt,{children:"Notify when orders are completed"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:i.control,name:"helpRequestNotifications",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Help Requests"}),r.jsx(kt,{children:"Notify when help is requested"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsxs(L,{type:"submit",disabled:l.isPending,children:[r.jsx(pu,{className:"w-4 h-4 mr-2"}),"Save Notification Settings"]})]})})})]})}),r.jsx(pt,{value:"security",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center space-x-2",children:[r.jsx(AS,{className:"h-5 w-5"}),r.jsx("span",{children:"Security Settings"})]}),r.jsx(ut,{children:"Configure security and authentication settings"})]}),r.jsx(de,{children:r.jsx(ur,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-6",children:[r.jsx(Ee,{control:o.control,name:"requireTwoFactor",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Two-Factor Authentication"}),r.jsx(kt,{children:"Require 2FA for all users"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsx(Ee,{control:o.control,name:"sessionTimeout",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Session Timeout (minutes)"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",...f,onChange:h=>f.onChange(parseInt(h.target.value)||60)})}),r.jsx(kt,{children:"Automatically log out users after this period of inactivity"}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"passwordMinLength",render:({field:f})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Minimum Password Length"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",...f,onChange:h=>f.onChange(parseInt(h.target.value)||8)})}),r.jsx(kt,{children:"Minimum number of characters required for passwords"}),r.jsx(He,{})]})}),r.jsx(Ee,{control:o.control,name:"requirePasswordComplexity",render:({field:f})=>r.jsxs(Se,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ce,{className:"text-base",children:"Password Complexity"}),r.jsx(kt,{children:"Require uppercase, lowercase, numbers, and symbols"})]}),r.jsx(ke,{children:r.jsx(Ut,{checked:f.value,onCheckedChange:f.onChange})})]})}),r.jsxs(L,{type:"submit",disabled:l.isPending,children:[r.jsx(pu,{className:"w-4 h-4 mr-2"}),"Save Security Settings"]})]})})})]})}),r.jsx(pt,{value:"database",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center space-x-2",children:[r.jsx(eI,{className:"h-5 w-5"}),r.jsx("span",{children:"Database Management"})]}),r.jsx(ut,{children:"Database maintenance and backup options"})]}),r.jsx(de,{className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Database Backup"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create a backup of your database"})]}),r.jsx(L,{variant:"outline",children:"Create Backup"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Optimize Database"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Optimize database performance"})]}),r.jsx(L,{variant:"outline",children:"Optimize"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Clear Old Logs"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Remove access logs older than 90 days"})]}),r.jsx(L,{variant:"outline",children:"Clear Logs"})]})]})})]})})]})]})}const l9=we.object({cardId:we.string().min(1,"Card ID is required"),userId:we.string().min(1,"User is required"),expiryDate:we.string().optional()});function c9(){const{toast:e}=Qt(),[t,n]=m.useState(""),[s,a]=m.useState(!1),{data:i,isLoading:o}=Pe({queryKey:["/api/rfid-cards"],queryFn:async()=>{const g=await fetch("/api/rfid-cards");if(!g.ok)throw new Error("Failed to fetch RFID cards");return g.json()}}),{data:l}=Pe({queryKey:["/api/users"],queryFn:async()=>{const g=await fetch("/api/users");if(!g.ok)throw new Error("Failed to fetch users");return g.json()}}),c=Array.isArray(i)?i:[],d=Array.isArray(l)?l:[],u=lr({resolver:cr(l9),defaultValues:{cardId:"",userId:"",expiryDate:""}}),f=De({mutationFn:async g=>{const v={cardId:g.cardId,userId:parseInt(g.userId),expiryDate:g.expiryDate?new Date(g.expiryDate).toISOString():null,active:!0,issueDate:new Date().toISOString()};return(await ve("POST","/api/rfid-cards",v)).json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/rfid-cards"]}),a(!1),u.reset(),e({title:"RFID Card Added",description:"The RFID card has been successfully registered."})},onError:()=>{e({title:"Error",description:"Failed to add RFID card. Please try again.",variant:"destructive"})}}),h=De({mutationFn:async g=>(await ve("PUT",`/api/rfid-cards/${g}`,{active:!1})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/rfid-cards"]}),e({title:"Card Deactivated",description:"The RFID card has been deactivated."})},onError:()=>{e({title:"Error",description:"Failed to deactivate card. Please try again.",variant:"destructive"})}}),y=c.filter(g=>{var v,x;return g.cardId.toLowerCase().includes(t.toLowerCase())||((v=g.user)==null?void 0:v.username)&&g.user.username.toLowerCase().includes(t.toLowerCase())||((x=g.user)==null?void 0:x.fullName)&&g.user.fullName.toLowerCase().includes(t.toLowerCase())}),j=g=>{f.mutate(g)};return o?r.jsxs("div",{className:"space-y-6",children:[r.jsx(Oe,{className:"h-8 w-64"}),r.jsx(Oe,{className:"h-64 w-full"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"RFID Card Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage RFID cards for workshop access control"})]}),r.jsxs(Ot,{open:s,onOpenChange:a,children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{children:[r.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Add RFID Card"]})}),r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Add New RFID Card"}),r.jsx(Yt,{children:"Register a new RFID card for a user"})]}),r.jsx(ur,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(j),className:"space-y-4",children:[r.jsx(Ee,{control:u.control,name:"cardId",render:({field:g})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Card ID"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter RFID card ID",...g})}),r.jsx(He,{})]})}),r.jsx(Ee,{control:u.control,name:"userId",render:({field:g})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"User"}),r.jsxs(jt,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a user"})})}),r.jsx(yt,{children:d.map(v=>r.jsxs(Ve,{value:v.id.toString(),children:[v.fullName," (",v.username,")"]},v.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:u.control,name:"expiryDate",render:({field:g})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Expiry Date (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{type:"date",...g})}),r.jsx(He,{})]})}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(L,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(L,{type:"submit",disabled:f.isPending,children:"Add Card"})]})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Total Cards"}),r.jsx(kS,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(de,{children:r.jsx("div",{className:"text-2xl font-bold",children:c.length})})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Active Cards"}),r.jsx(pI,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(de,{children:r.jsx("div",{className:"text-2xl font-bold",children:c.filter(g=>g.active).length})})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Inactive Cards"}),r.jsx(Hp,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(de,{children:r.jsx("div",{className:"text-2xl font-bold",children:c.filter(g=>!g.active).length})})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ze,{className:"text-sm font-medium",children:"Expiring Soon"}),r.jsx(vc,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(de,{children:r.jsx("div",{className:"text-2xl font-bold",children:c.filter(g=>{if(!g.expiryDate)return!1;const v=new Date(g.expiryDate),x=new Date;return x.setDate(x.getDate()+30),v<=x&&v>=new Date}).length})})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Search Cards"}),r.jsx(ut,{children:"Search by card ID, username, or full name"})]}),r.jsx(de,{children:r.jsxs("div",{className:"relative",children:[r.jsx(cd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(Be,{placeholder:"Search RFID cards...",value:t,onChange:g=>n(g.target.value),className:"pl-10"})]})})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"RFID Cards"}),r.jsx(ut,{children:"Manage RFID card access and assignments"})]}),r.jsx(de,{children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"Card ID"}),r.jsx(fe,{children:"User"}),r.jsx(fe,{children:"Issue Date"}),r.jsx(fe,{children:"Expiry Date"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{children:"Actions"})]})}),r.jsx(gn,{children:y.length===0?r.jsx(qe,{children:r.jsx(K,{colSpan:6,className:"text-center py-6",children:"No RFID cards found matching your search criteria."})}):y.map(g=>r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono",children:g.cardId}),r.jsx(K,{children:g.user?r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.user.fullName}),r.jsxs("div",{className:"text-sm text-gray-500",children:["@",g.user.username]})]}):r.jsx("span",{className:"text-gray-500",children:"Unassigned"})}),r.jsx(K,{children:Gr(new Date(g.issueDate),"MMM dd, yyyy")}),r.jsx(K,{children:g.expiryDate?r.jsx("span",{className:new Date(g.expiryDate)<new Date?"text-red-600":new Date(g.expiryDate)<=new Date(Date.now()+30*24*60*60*1e3)?"text-orange-600":"",children:Gr(new Date(g.expiryDate),"MMM dd, yyyy")}):r.jsx("span",{className:"text-gray-500",children:"No expiry"})}),r.jsx(K,{children:g.active?r.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Active"}):r.jsx(Ae,{variant:"secondary",children:"Inactive"})}),r.jsx(K,{children:r.jsx("div",{className:"flex space-x-2",children:g.active&&r.jsxs(L,{size:"sm",variant:"outline",onClick:()=>h.mutate(g.id),disabled:h.isPending,children:[r.jsx(Hp,{className:"w-4 h-4 mr-1"}),"Deactivate"]})})})]},g.id))})]})})]})]})}const Tj=we.object({userId:we.number().int().min(1,"User must be selected"),machineId:we.string().min(1,"Machine ID is required"),accessLevel:we.enum(["user","operator","admin"]),notes:we.string().optional()});function d9(){var B,Q;const{toast:e}=Qt(),{user:t}=_n(),[n,s]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(null),{data:u,isLoading:f,error:h}=Pe({queryKey:["/api/access-levels"],enabled:!!t&&t.role==="admin"}),{data:y,isLoading:j}=Pe({queryKey:["/api/users"],enabled:!!t&&t.role==="admin"}),{data:g,isLoading:v}=Pe({queryKey:["/api/machines"],enabled:!!t&&t.role==="admin"}),x=De({mutationFn:async z=>await(await ve("POST","/api/access-levels",z)).json(),onSuccess:()=>{s(!1),rt.invalidateQueries({queryKey:["/api/access-levels"]}),e({title:"Success",description:"Access level created successfully"})},onError:z=>{e({title:"Error",description:`Failed to create access level: ${z.message}`,variant:"destructive"})}}),p=De({mutationFn:async({id:z,data:$})=>await(await ve("PUT",`/api/access-levels/${z}`,$)).json(),onSuccess:()=>{i(!1),rt.invalidateQueries({queryKey:["/api/access-levels"]}),e({title:"Success",description:"Access level updated successfully"})},onError:z=>{e({title:"Error",description:`Failed to update access level: ${z.message}`,variant:"destructive"})}}),w=De({mutationFn:async z=>{await ve("DELETE",`/api/access-levels/${z}`)},onSuccess:()=>{l(!1),d(null),rt.invalidateQueries({queryKey:["/api/access-levels"]}),e({title:"Success",description:"Access level deleted successfully"})},onError:z=>{e({title:"Error",description:`Failed to delete access level: ${z.message}`,variant:"destructive"})}}),N=lr({resolver:cr(Tj),defaultValues:{userId:0,machineId:"",accessLevel:"user",notes:""}}),b=lr({resolver:cr(Tj),defaultValues:{userId:0,machineId:"",accessLevel:"user",notes:""}}),_=z=>{d(z),b.reset({userId:z.userId,machineId:z.machineId,accessLevel:z.accessLevel,notes:z.notes||""}),i(!0)},k=z=>{d(z),l(!0)},T=z=>{x.mutate(z)},E=z=>{c&&p.mutate({id:c.id,data:z})},M=z=>{const $=g==null?void 0:g.find(H=>H.machineId===z);return $?$.name:z};return f?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(un,{className:"w-8 h-8 animate-spin"})}):h?r.jsx("div",{className:"p-6",children:r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("div",{className:"text-center text-red-500",children:"Error loading access levels. Please try again."})})})}):r.jsxs("div",{className:"p-6",children:[r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between",children:[r.jsx(ze,{children:"Access Level Management"}),r.jsxs(L,{size:"sm",onClick:()=>{N.reset({userId:0,machineId:"",accessLevel:"user",notes:""}),s(!0)},children:[r.jsx(Sn,{className:"w-4 h-4 mr-2"})," Add Access Level"]})]}),r.jsx(de,{children:u&&u.length>0?r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"User"}),r.jsx(fe,{children:"Machine ID"}),r.jsx(fe,{children:"Access Level"}),r.jsx(fe,{children:"Notes"}),r.jsx(fe,{children:"Created"}),r.jsx(fe,{className:"text-right",children:"Actions"})]})}),r.jsx(gn,{children:u.map(z=>{var $,H;return r.jsxs(qe,{children:[r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pi,{className:"w-4 h-4 mr-2 text-gray-500"}),(($=z.user)==null?void 0:$.fullName)||((H=z.user)==null?void 0:H.username)||"Unknown"]})}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Rg,{className:"w-4 h-4 mr-2 text-gray-500"}),M(z.machineId)]})}),r.jsx(K,{children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.accessLevel==="admin"?"bg-purple-100 text-purple-800":z.accessLevel==="operator"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:z.accessLevel})}),r.jsx(K,{children:z.notes||"-"}),r.jsx(K,{children:new Date(z.createdAt).toLocaleDateString()}),r.jsxs(K,{className:"text-right",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>_(z),children:r.jsx(ys,{className:"w-4 h-4"})}),r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>k(z),children:r.jsx(mI,{className:"w-4 h-4"})})]})]},z.id)})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No access levels found. Add your first access level to get started."})})]}),r.jsx(Ot,{open:n,onOpenChange:s,children:r.jsxs(Pt,{children:[r.jsx(Mt,{children:r.jsx(Tt,{children:"Add New Access Level"})}),r.jsx(ur,{...N,children:r.jsxs("form",{onSubmit:N.handleSubmit(T),className:"space-y-4",children:[r.jsx(Ee,{control:N.control,name:"userId",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"User"}),r.jsxs(jt,{onValueChange:$=>z.onChange(parseInt($)),defaultValue:z.value.toString(),children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a user"})})}),r.jsx(yt,{children:j?r.jsx("div",{className:"flex items-center justify-center p-2",children:r.jsx(un,{className:"w-4 h-4 animate-spin"})}):y==null?void 0:y.map($=>r.jsx(Ve,{value:$.id.toString(),children:$.fullName||$.username},$.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:N.control,name:"machineId",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Machine"}),r.jsxs(jt,{onValueChange:z.onChange,defaultValue:z.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a machine"})})}),r.jsx(yt,{children:v?r.jsx("div",{className:"flex items-center justify-center p-2",children:r.jsx(un,{className:"w-4 h-4 animate-spin"})}):g==null?void 0:g.map($=>r.jsxs(Ve,{value:$.machineId,children:[$.name," (",$.machineId,")"]},$.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:N.control,name:"accessLevel",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Access Level"}),r.jsxs(jt,{onValueChange:z.onChange,defaultValue:z.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select access level"})})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"user",children:"User"}),r.jsx(Ve,{value:"operator",children:"Operator"}),r.jsx(Ve,{value:"admin",children:"Admin"})]})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:N.control,name:"notes",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Notes (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Add notes about this access level",...z})}),r.jsx(He,{})]})}),r.jsxs(xs,{children:[r.jsx(L,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),r.jsxs(L,{type:"submit",disabled:x.isPending,children:[x.isPending&&r.jsx(un,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Access Level"]})]})]})})]})}),r.jsx(Ot,{open:a,onOpenChange:i,children:r.jsxs(Pt,{children:[r.jsx(Mt,{children:r.jsx(Tt,{children:"Edit Access Level"})}),r.jsx(ur,{...b,children:r.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-4",children:[r.jsx(Ee,{control:b.control,name:"userId",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"User"}),r.jsxs(jt,{onValueChange:$=>z.onChange(parseInt($)),defaultValue:z.value.toString(),children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a user"})})}),r.jsx(yt,{children:j?r.jsx("div",{className:"flex items-center justify-center p-2",children:r.jsx(un,{className:"w-4 h-4 animate-spin"})}):y==null?void 0:y.map($=>r.jsx(Ve,{value:$.id.toString(),children:$.fullName||$.username},$.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:b.control,name:"machineId",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Machine"}),r.jsxs(jt,{onValueChange:z.onChange,defaultValue:z.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select a machine"})})}),r.jsx(yt,{children:v?r.jsx("div",{className:"flex items-center justify-center p-2",children:r.jsx(un,{className:"w-4 h-4 animate-spin"})}):g==null?void 0:g.map($=>r.jsxs(Ve,{value:$.machineId,children:[$.name," (",$.machineId,")"]},$.id))})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:b.control,name:"accessLevel",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Access Level"}),r.jsxs(jt,{onValueChange:z.onChange,defaultValue:z.value,children:[r.jsx(ke,{children:r.jsx(vt,{children:r.jsx(wt,{placeholder:"Select access level"})})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"user",children:"User"}),r.jsx(Ve,{value:"operator",children:"Operator"}),r.jsx(Ve,{value:"admin",children:"Admin"})]})]}),r.jsx(He,{})]})}),r.jsx(Ee,{control:b.control,name:"notes",render:({field:z})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Notes (Optional)"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Add notes about this access level",...z})}),r.jsx(He,{})]})}),r.jsxs(xs,{children:[r.jsx(L,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsxs(L,{type:"submit",disabled:p.isPending,children:[p.isPending&&r.jsx(un,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Access Level"]})]})]})})]})}),r.jsx(Ot,{open:o,onOpenChange:l,children:r.jsxs(Pt,{children:[r.jsx(Mt,{children:r.jsx(Tt,{children:"Confirm Deletion"})}),r.jsxs("div",{className:"py-3",children:["Are you sure you want to delete this access level for user"," ",r.jsx("span",{className:"font-semibold",children:((B=c==null?void 0:c.user)==null?void 0:B.fullName)||((Q=c==null?void 0:c.user)==null?void 0:Q.username)})," ","on machine"," ",r.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.machineId)&&M(c.machineId)}),"? This action cannot be undone."]}),r.jsxs(xs,{children:[r.jsx(L,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsxs(L,{type:"button",variant:"destructive",onClick:()=>c&&w.mutate(c.id),disabled:w.isPending,children:[w.isPending&&r.jsx(un,{className:"w-4 h-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})}function u9(){const{user:e}=_n(),[t,n]=m.useState(""),[s,a]=m.useState(1),[i,o]=m.useState(50),[l,c]=m.useState([]),[d,u]=m.useState(!1),{data:f,isLoading:h,error:y,refetch:j,isRefetching:g}=Pe({queryKey:["/api/access-logs/recent",s,i],queryFn:async({queryKey:w})=>{const[N,b,_]=w,k=await fetch(`/api/access-logs/recent?page=${b}&pageSize=${_}`);if(!k.ok)throw new Error("Failed to fetch access logs");return k.json()},enabled:!!e&&e.role==="admin"});m.useState(()=>{if(!f)return;if(!t){c(f.data),u(!1);return}u(!0);const w=t.toLowerCase(),N=f.data.filter(b=>{var _,k;return b.machineId.toLowerCase().includes(w)||b.cardId.toLowerCase().includes(w)||b.reason.toLowerCase().includes(w)||(((_=b.user)==null?void 0:_.fullName)||"").toLowerCase().includes(w)||(((k=b.user)==null?void 0:k.username)||"").toLowerCase().includes(w)});c(N)},[f,t]);const v=w=>{a(w)},x=w=>{o(w),a(1)},p=async()=>{try{const w=await fetch("/api/access-logs/recent?page=1&pageSize=1");if(!w.ok)throw new Error("Failed to fetch access logs count");const b=(await w.json()).pagination.totalItems,_=1e3,k=1e4;b>k&&alert(`Export limited to ${k.toLocaleString()} records. Please refine your search criteria.`);const T=Math.ceil(Math.min(b,k)/_);let E=[];const M=document.createElement("div");M.style.position="fixed",M.style.top="50%",M.style.left="50%",M.style.transform="translate(-50%, -50%)",M.style.padding="20px",M.style.background="white",M.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)",M.style.borderRadius="8px",M.style.zIndex="9999";for(let C=1;C<=T;C++){M.innerHTML=`Exporting access logs: ${Math.round(C/T*100)}%`,C===1&&document.body.appendChild(M);const P=await fetch(`/api/access-logs/recent?page=${C}&pageSize=${_}`);if(!P.ok)throw new Error(`Failed to fetch access logs batch ${C}`);const q=await P.json();E=[...E,...q.data]}if(document.body.removeChild(M),t){const C=t.toLowerCase();E=E.filter(P=>{var q,G;return P.machineId.toLowerCase().includes(C)||P.cardId.toLowerCase().includes(C)||P.reason.toLowerCase().includes(C)||(((q=P.user)==null?void 0:q.fullName)||"").toLowerCase().includes(C)||(((G=P.user)==null?void 0:G.username)||"").toLowerCase().includes(C)})}if(E.length===0){alert("No data to export based on current filters.");return}const B=["Timestamp","User","Card ID","Machine ID","Status","Reason"],Q=E.map(C=>[new Date(C.timestamp).toLocaleString(),C.user?C.user.fullName||C.user.username:"Unknown",C.cardId,C.machineId,C.accessGranted?"Granted":"Denied",C.reason]),z=[B.join(","),...Q.map(C=>C.map(P=>`"${String(P).replace(/"/g,'""')}"`).join(","))].join(`
`),$=new Blob([z],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL($),Y=document.createElement("a");Y.setAttribute("href",H),Y.setAttribute("download",`access-logs-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}catch(w){console.error("Failed to export access logs:",w),alert("Export failed. Please try again or export a smaller dataset.")}};return h?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(un,{className:"w-8 h-8 animate-spin"})}):y?r.jsx("div",{className:"p-6",children:r.jsx(le,{children:r.jsx(de,{className:"pt-6",children:r.jsx("div",{className:"text-center text-red-500",children:"Error loading access logs. Please try again."})})})}):r.jsxs("div",{className:"p-6",children:[r.jsxs(le,{children:[r.jsxs(Le,{className:"flex flex-row items-center justify-between",children:[r.jsx(ze,{children:"Access Logs"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Be,{placeholder:"Filter logs...",value:t,onChange:w=>n(w.target.value),className:"max-w-xs"}),r.jsxs(L,{variant:"outline",onClick:()=>p(),className:"flex items-center",title:"Export to CSV",children:[r.jsx(_S,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsx(L,{variant:"outline",size:"icon",onClick:()=>j(),disabled:g,title:"Refresh",children:r.jsx(Gt,{className:`w-4 h-4 ${g?"animate-spin":""}`})})]})]}),r.jsx(de,{children:f&&f.data.length>0?r.jsx(r.Fragment,{children:r.jsxs(pn,{children:[r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{children:"Time"}),r.jsx(fe,{children:"User"}),r.jsx(fe,{children:"Card ID"}),r.jsx(fe,{children:"Machine ID"}),r.jsx(fe,{children:"Status"}),r.jsx(fe,{children:"Reason"})]})}),r.jsx(gn,{children:(d?l:f.data).map(w=>r.jsxs(qe,{children:[r.jsx(K,{children:new Date(w.timestamp).toLocaleString()}),r.jsx(K,{children:w.user?r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pi,{className:"w-4 h-4 mr-2 text-gray-500"}),w.user.fullName||w.user.username]}):r.jsx("span",{className:"text-muted-foreground",children:"Unknown"})}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Rg,{className:"w-4 h-4 mr-2 text-gray-500"}),w.cardId]})}),r.jsx(K,{children:w.machineId}),r.jsx(K,{children:w.accessGranted?r.jsx("div",{className:"flex items-center",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(Qf,{className:"w-3 h-3 mr-1"}),"Granted"]})}):r.jsx("div",{className:"flex items-center",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[r.jsx(dd,{className:"w-3 h-3 mr-1"}),"Denied"]})})}),r.jsx(K,{children:w.reason})]},w.id))})]})}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:t?"No matching access logs found.":"No access logs found."})}),f&&f.pagination.totalPages>0&&!d&&r.jsx(js,{className:"flex justify-center pt-2 border-t",children:r.jsx($v,{currentPage:f.pagination.page,totalPages:f.pagination.totalPages,onPageChange:v,pageSize:f.pagination.pageSize,onPageSizeChange:x,pageSizeOptions:[10,25,50,100,250],disabled:h||g,className:"py-4"})})]}),f&&!d&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[r.jsxs("div",{children:["Showing ",f.data.length," of ",f.pagination.totalItems," logs"]}),r.jsxs("div",{children:["Page ",f.pagination.page," of ",f.pagination.totalPages]})]})]})}var Uv="Collapsible",[f9,EP]=tr(Uv),[h9,Qv]=f9(Uv),PP=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=er({prop:s,defaultProp:a,onChange:o});return r.jsx(h9,{scope:n,disabled:i,contentId:Xn(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:r.jsx(_e.div,{"data-state":Bv(c),"data-disabled":i?"":void 0,...l,ref:t})})});PP.displayName=Uv;var MP="CollapsibleTrigger",TP=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=Qv(MP,n);return r.jsx(_e.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Bv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ue(e.onClick,a.onOpenToggle)})});TP.displayName=MP;var qv="CollapsibleContent",AP=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Qv(qv,e.__scopeCollapsible);return r.jsx(Ln,{present:n||a.open,children:({present:i})=>r.jsx(m9,{...s,ref:t,present:i})})});AP.displayName=qv;var m9=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=Qv(qv,n),[l,c]=m.useState(s),d=m.useRef(null),u=et(t,d),f=m.useRef(0),h=f.current,y=m.useRef(0),j=y.current,g=o.open||l,v=m.useRef(g),x=m.useRef();return m.useEffect(()=>{const p=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(p)},[]),sn(()=>{const p=d.current;if(p){x.current=x.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();f.current=w.height,y.current=w.width,v.current||(p.style.transitionDuration=x.current.transitionDuration,p.style.animationName=x.current.animationName),c(s)}},[o.open,s]),r.jsx(_e.div,{"data-state":Bv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:g&&a})});function Bv(e){return e?"open":"closed"}var p9=PP,x9=TP,g9=AP,ea="Accordion",v9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Wv,y9,j9]=id(ea),[Nh,cU]=tr(ea,[j9,EP]),Hv=EP(),DP=ge.forwardRef((e,t)=>{const{type:n,...s}=e,a=s,i=s;return r.jsx(Wv.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?r.jsx(S9,{...i,ref:t}):r.jsx(b9,{...a,ref:t})})});DP.displayName=ea;var[IP,w9]=Nh(ea),[RP,N9]=Nh(ea,{collapsible:!1}),b9=ge.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=er({prop:n,defaultProp:s,onChange:a});return r.jsx(IP,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:ge.useCallback(()=>i&&c(""),[i,c]),children:r.jsx(RP,{scope:e.__scopeAccordion,collapsible:i,children:r.jsx(OP,{...o,ref:t})})})}),S9=ge.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=er({prop:n,defaultProp:s,onChange:a}),c=ge.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=ge.useCallback(u=>l((f=[])=>f.filter(h=>h!==u)),[l]);return r.jsx(IP,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:r.jsx(RP,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(OP,{...i,ref:t})})})}),[C9,bh]=Nh(ea),OP=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=ge.useRef(null),c=et(l,t),d=y9(n),f=hd(a)==="ltr",h=ue(e.onKeyDown,y=>{var T;if(!v9.includes(y.key))return;const j=y.target,g=d().filter(E=>{var M;return!((M=E.ref.current)!=null&&M.disabled)}),v=g.findIndex(E=>E.ref.current===j),x=g.length;if(v===-1)return;y.preventDefault();let p=v;const w=0,N=x-1,b=()=>{p=v+1,p>N&&(p=w)},_=()=>{p=v-1,p<w&&(p=N)};switch(y.key){case"Home":p=w;break;case"End":p=N;break;case"ArrowRight":i==="horizontal"&&(f?b():_());break;case"ArrowDown":i==="vertical"&&b();break;case"ArrowLeft":i==="horizontal"&&(f?_():b());break;case"ArrowUp":i==="vertical"&&_();break}const k=p%x;(T=g[k].ref.current)==null||T.focus()});return r.jsx(C9,{scope:n,disabled:s,direction:a,orientation:i,children:r.jsx(Wv.Slot,{scope:n,children:r.jsx(_e.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:h})})})}),Nf="AccordionItem",[k9,Kv]=Nh(Nf),FP=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...a}=e,i=bh(Nf,n),o=w9(Nf,n),l=Hv(n),c=Xn(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return r.jsx(k9,{scope:n,open:d,disabled:u,triggerId:c,children:r.jsx(p9,{"data-orientation":i.orientation,"data-state":QP(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});FP.displayName=Nf;var LP="AccordionHeader",$P=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=bh(ea,n),i=Kv(LP,n);return r.jsx(_e.h3,{"data-orientation":a.orientation,"data-state":QP(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});$P.displayName=LP;var _x="AccordionTrigger",zP=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=bh(ea,n),i=Kv(_x,n),o=N9(_x,n),l=Hv(n);return r.jsx(Wv.ItemSlot,{scope:n,children:r.jsx(x9,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});zP.displayName=_x;var VP="AccordionContent",UP=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=bh(ea,n),i=Kv(VP,n),o=Hv(n);return r.jsx(g9,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});UP.displayName=VP;function QP(e){return e?"open":"closed"}var _9=DP,E9=FP,P9=$P,qP=zP,BP=UP;const M9=_9,WP=m.forwardRef(({className:e,...t},n)=>r.jsx(E9,{ref:n,className:J("border-b",e),...t}));WP.displayName="AccordionItem";const HP=m.forwardRef(({className:e,children:t,...n},s)=>r.jsx(P9,{className:"flex",children:r.jsxs(qP,{ref:s,className:J("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,r.jsx(ji,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));HP.displayName=qP.displayName;const KP=m.forwardRef(({className:e,children:t,...n},s)=>r.jsx(BP,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:r.jsx("div",{className:J("pb-4 pt-0",e),children:t})}));KP.displayName=BP.displayName;var T9="Separator",Aj="horizontal",A9=["horizontal","vertical"],GP=m.forwardRef((e,t)=>{const{decorative:n,orientation:s=Aj,...a}=e,i=D9(s)?s:Aj,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(_e.div,{"data-orientation":i,...l,...a,ref:t})});GP.displayName=T9;function D9(e){return A9.includes(e)}var YP=GP;const is=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(YP,{ref:a,decorative:n,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));is.displayName=YP.displayName;function I9(){const{toast:e}=Qt(),[t,n]=m.useState(!1),{data:s,isLoading:a,isRefetching:i}=Pe({queryKey:["/api/sync/status"],queryFn:async()=>{const b=await ve("GET","/api/sync/status");if(!b.ok)throw new Error("Failed to fetch sync status");return await b.json()},refetchInterval:b=>b!=null&&b.isSyncing?2e3:3e4,refetchIntervalInBackground:!0}),{data:o,isLoading:l}=Pe({queryKey:["/api/api-config"],queryFn:async()=>{const b=await ve("GET","/api/api-config");if(!b.ok)throw new Error("Failed to fetch API configuration");return await b.json()}}),c=De({mutationFn:async b=>{const _=await ve("POST","/api/api-config",b);if(!_.ok)throw new Error("Failed to update API configuration");return await _.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/api-config"]}),n(!1),e({title:"Configuration updated",description:"API configuration has been updated successfully."})},onError:b=>{e({title:"Failed to update configuration",description:b.message,variant:"destructive"})}}),d=De({mutationFn:async()=>{const b=await ve("POST","/api/sync/now");if(!b.ok)throw new Error("Failed to trigger sync");return await b.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/sync/status"]}),e({title:"Sync triggered",description:"Manual synchronization has been triggered."})},onError:b=>{e({title:"Failed to trigger sync",description:b.message,variant:"destructive"})}}),u=De({mutationFn:async()=>{const b=await ve("POST","/api/sync/test");if(!b.ok)throw new Error("Failed to test connection");return await b.json()},onSuccess:b=>{e({title:"Connection test successful",description:"Successfully connected to the external API."})},onError:b=>{e({title:"Connection test failed",description:b.message,variant:"destructive"})}}),[f,h]=m.useState({}),y=()=>{o&&h({shopMonitorApiKey:o.shopMonitorApiKey,shopMonitorApiUrl:o.shopMonitorApiUrl,syncEnabled:o.syncEnabled,syncInterval:o.syncInterval,alertsEnabled:o.alertsEnabled,pushUserData:o.pushUserData,pushLocationData:o.pushLocationData,pushMachineData:o.pushMachineData,pullAccessLogs:o.pullAccessLogs}),n(!0)},j=()=>{c.mutate(f)},g=()=>{n(!1)},v=b=>{const{name:_,value:k,type:T}=b.target;h(T==="checkbox"?{...f,[_]:b.target.checked}:T==="number"?{...f,[_]:parseInt(k)}:{...f,[_]:k})},x=(b,_)=>{h({...f,[b]:_})},p=b=>b?new Date(b).toLocaleString():"Never",w=(s==null?void 0:s.isSyncing)||d.isPending,N=a||l;return N?r.jsxs("div",{className:"p-4 text-center",children:[r.jsx("div",{className:"animate-spin h-6 w-6 border-4 border-primary border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"mt-2",children:"Loading sync status..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg",children:"Synchronization Status"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"Status of the synchronization between ShopTracker and ShopMonitor"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(L,{variant:"outline",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending||w,className:"relative",children:u.isPending?r.jsxs(r.Fragment,{children:[r.jsx(un,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Test Connection"}),r.jsx(L,{variant:w?"outline":"default",size:"sm",onClick:()=>d.mutate(),disabled:d.isPending||!(o!=null&&o.syncEnabled)||(s==null?void 0:s.isSyncing),className:w?"bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200":"",children:w?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Sync Now"]})})]})]}),w&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 flex items-center shadow-sm mb-6 animate-pulse",children:[r.jsx(Gt,{className:"h-5 w-5 text-blue-500 mr-3 animate-spin"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-700 font-medium",children:"Synchronization in Progress"}),r.jsx("p",{className:"text-blue-600 text-sm",children:"Data is being synchronized between ShopTracker and ShopMonitor"})]})]}),r.jsxs(le,{children:[r.jsxs(Le,{className:"pb-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(ze,{children:"Current Status"}),r.jsx(Ae,{variant:o!=null&&o.syncEnabled?"outline":"destructive",className:o!=null&&o.syncEnabled?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300",children:o!=null&&o.syncEnabled?"Enabled":"Disabled"})]}),r.jsxs(ut,{children:["Last Synced: ",p(s==null?void 0:s.lastSyncTime),i&&!N&&r.jsxs("span",{className:"ml-2 text-xs text-blue-500 flex items-center inline-flex",children:[r.jsx(Gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Refreshing..."]})]})]}),r.jsxs(de,{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"Sync Status:"}),r.jsx("div",{className:"ml-2 flex items-center",children:w?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"h-4 w-4 mr-1 text-blue-500 animate-spin"}),r.jsx("span",{className:"text-blue-500",children:"Syncing..."})]}):o!=null&&o.syncEnabled?r.jsxs(r.Fragment,{children:[r.jsx(Ks,{className:"h-4 w-4 mr-1 text-green-500"}),r.jsx("span",{className:"text-green-500",children:"Waiting for next sync"})]}):r.jsxs(r.Fragment,{children:[r.jsx(dd,{className:"h-4 w-4 mr-1 text-red-500"}),r.jsx("span",{className:"text-red-500",children:"Sync disabled"})]})})]})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"Sync Interval:"}),r.jsxs("span",{className:"ml-2",children:[o==null?void 0:o.syncInterval," minutes"]})]})})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"API Endpoint:"}),r.jsx("span",{className:"ml-2 text-sm truncate max-w-xs",children:(o==null?void 0:o.shopMonitorApiUrl)||"Not set"})]})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"API Key:"}),r.jsx("span",{className:"ml-2",children:o!=null&&o.shopMonitorApiKey?"••••••••"+o.shopMonitorApiKey.slice(-4):"Not set"})]})})]})]})]}),t?r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Edit Sync Configuration"}),r.jsx(ut,{children:"Configure how data should be synchronized between systems"})]}),r.jsx(de,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(gt,{htmlFor:"shopMonitorApiUrl",children:"API URL"}),r.jsx(Be,{id:"shopMonitorApiUrl",name:"shopMonitorApiUrl",placeholder:"https://api.example.com",value:f.shopMonitorApiUrl||"",onChange:v})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(gt,{htmlFor:"shopMonitorApiKey",children:"API Key"}),r.jsx(Be,{id:"shopMonitorApiKey",name:"shopMonitorApiKey",placeholder:"Enter API key",value:f.shopMonitorApiKey||"",onChange:v,type:"password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(gt,{htmlFor:"syncInterval",children:"Sync Interval (minutes)"}),r.jsx(Be,{id:"syncInterval",name:"syncInterval",type:"number",min:"1",max:"60",value:f.syncInterval||5,onChange:v})]}),r.jsx(is,{className:"my-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"syncEnabled",className:"flex-1",children:"Enable Synchronization"}),r.jsx(Ut,{id:"syncEnabled",name:"syncEnabled",checked:f.syncEnabled??!1,onCheckedChange:b=>x("syncEnabled",b)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"alertsEnabled",className:"flex-1",children:"Enable Alerts System"}),r.jsx(Ut,{id:"alertsEnabled",name:"alertsEnabled",checked:f.alertsEnabled??!1,onCheckedChange:b=>x("alertsEnabled",b)})]})]}),r.jsx(is,{className:"my-4"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"pushUserData",className:"flex-1",children:"Push User Data"}),r.jsx(Ut,{id:"pushUserData",name:"pushUserData",checked:f.pushUserData??!1,onCheckedChange:b=>x("pushUserData",b)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"pushLocationData",className:"flex-1",children:"Push Location Data"}),r.jsx(Ut,{id:"pushLocationData",name:"pushLocationData",checked:f.pushLocationData??!1,onCheckedChange:b=>x("pushLocationData",b)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"pushMachineData",className:"flex-1",children:"Push Machine Data"}),r.jsx(Ut,{id:"pushMachineData",name:"pushMachineData",checked:f.pushMachineData??!1,onCheckedChange:b=>x("pushMachineData",b)})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(gt,{htmlFor:"pullAccessLogs",className:"flex-1",children:"Pull Access Logs"}),r.jsx(Ut,{id:"pullAccessLogs",name:"pullAccessLogs",checked:f.pullAccessLogs??!1,onCheckedChange:b=>x("pullAccessLogs",b)})]})})]})]})}),r.jsxs(js,{className:"flex justify-end space-x-2",children:[r.jsx(L,{variant:"outline",onClick:g,children:"Cancel"}),r.jsx(L,{onClick:j,disabled:c.isPending,children:c.isPending?r.jsxs(r.Fragment,{children:[r.jsx(un,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}):r.jsx(r.Fragment,{children:r.jsxs(le,{children:[r.jsx(Le,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(ze,{children:"Sync Configuration"}),r.jsxs(L,{variant:"outline",size:"sm",onClick:y,disabled:w,children:[r.jsx(qf,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),r.jsxs(de,{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${o!=null&&o.alertsEnabled?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{children:"Alerts System"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${o!=null&&o.pushUserData?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{children:"Push User Data"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${o!=null&&o.pushLocationData?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{children:"Push Location Data"})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${o!=null&&o.pushMachineData?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{children:"Push Machine Data"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-3 w-3 rounded-full mr-2 ${o!=null&&o.pullAccessLogs?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{children:"Pull Access Logs"})]})]})]})]})}),(s==null?void 0:s.syncErrors)&&s.syncErrors.length>0&&r.jsxs(le,{className:"border-red-200",children:[r.jsxs(Le,{className:"pb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fa,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx(ze,{children:"Sync Errors"})]}),r.jsx(ut,{children:"Recent errors encountered during synchronization"})]}),r.jsx(de,{children:r.jsx(M9,{type:"multiple",className:"w-full",children:s.syncErrors.map((b,_)=>r.jsxs(WP,{value:`error-${_}`,children:[r.jsx(HP,{className:"text-left",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(hI,{className:"h-4 w-4 text-red-500 mr-2"}),r.jsxs("span",{className:"font-medium",children:[b.endpoint," - ",b.statusCode||"Error"]}),r.jsx("span",{className:"ml-4 text-muted-foreground text-xs",children:p(b.timestamp)})]})}),r.jsx(KP,{children:r.jsxs("div",{className:"space-y-2 p-2 bg-slate-50 rounded-md",children:[r.jsx("p",{className:"font-medium",children:"Message:"}),r.jsx("p",{className:"text-sm text-red-600",children:b.message}),b.responseBody&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-medium mt-2",children:"Response:"}),r.jsx("pre",{className:"text-xs bg-slate-100 p-2 rounded overflow-x-auto",children:b.responseBody})]})]})})]},_))})})]})]})}const R9=we.object({shopMonitorApiKey:we.string().min(1,"API key is required"),shopMonitorApiUrl:we.string().url("Must be a valid URL"),syncEnabled:we.boolean().default(!0),syncInterval:we.number().int().min(1,"Interval must be at least 1 minute"),alertsEnabled:we.boolean().default(!0),pushUserData:we.boolean().default(!0),pushLocationData:we.boolean().default(!0),pushMachineData:we.boolean().default(!0),pullAccessLogs:we.boolean().default(!0)});function O9(){const{toast:e}=Qt(),{user:t}=_n(),[n,s]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),c=lr({resolver:cr(R9),defaultValues:{shopMonitorApiKey:"",shopMonitorApiUrl:"https://api.shopmonitor.app",syncEnabled:!0,syncInterval:5,alertsEnabled:!0,pushUserData:!0,pushLocationData:!0,pushMachineData:!0,pullAccessLogs:!0}}),{data:d,error:u}=Pe({queryKey:["/api/api-config"],enabled:!!t&&t.role==="admin"});m.useEffect(()=>{d&&(c.reset(d),s(!1))},[d,c]),m.useEffect(()=>{u&&(console.error("Error fetching API config:",u),s(!1))},[u]),m.useEffect(()=>{const x=setTimeout(()=>{n&&(console.log("Loading timeout, using default values"),s(!1))},2e3);return()=>clearTimeout(x)},[n]);const f=De({mutationFn:async x=>await(await ve("POST","/api/api-config",x)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/api-config"]}),e({title:"Success",description:"API configuration updated successfully"})},onError:x=>{e({title:"Error",description:`Failed to update API configuration: ${x.message}`,variant:"destructive"})}}),h=async()=>{i(!0),l(null);try{const x=await ve("POST","/api/api-config/test",c.getValues()),p=await x.json();x.ok?l({success:!0,message:p.message||"Connection successful"}):l({success:!1,message:p.message||"Connection failed"})}catch(x){l({success:!1,message:x instanceof Error?x.message:"Connection failed"})}finally{i(!1)}},y=x=>{f.mutate(x)};if(n)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(un,{className:"w-8 h-8 animate-spin"})});const j=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"API Configuration"}),r.jsx(ut,{children:"Configure the connection to the ShopMonitor service. This will allow for synchronization of RFID cards and access logs."})]}),r.jsx(de,{children:r.jsx(ur,{...c,children:r.jsxs("form",{onSubmit:c.handleSubmit(y),className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsx(Ee,{control:c.control,name:"shopMonitorApiKey",render:({field:x})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"API Key"}),r.jsx(ke,{children:r.jsx("div",{className:"flex",children:r.jsx(Be,{placeholder:"Enter API key",...x,type:"password",className:"flex-grow"})})}),r.jsx(kt,{children:"The API key for authenticating with the ShopMonitor service."}),r.jsx(He,{})]})}),r.jsx(Ee,{control:c.control,name:"shopMonitorApiUrl",render:({field:x})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"API URL"}),r.jsx(ke,{children:r.jsx(Be,{placeholder:"Enter API URL",...x})}),r.jsx(kt,{children:"The base URL for the ShopMonitor API."}),r.jsx(He,{})]})})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsx(Ee,{control:c.control,name:"syncEnabled",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Enable Synchronization"}),r.jsx(kt,{children:"Automatically sync RFID cards and access logs from ShopMonitor."})]})]})}),r.jsx(Ee,{control:c.control,name:"syncInterval",render:({field:x})=>r.jsxs(Se,{children:[r.jsx(Ce,{children:"Sync Interval (minutes)"}),r.jsx(ke,{children:r.jsx(Be,{type:"number",min:1,...x,onChange:p=>x.onChange(parseInt(p.target.value)||5),disabled:!c.watch("syncEnabled")})}),r.jsx(kt,{children:"How often to check for updates from ShopMonitor."}),r.jsx(He,{})]})})]}),r.jsx(is,{className:"my-4"}),r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sync Configuration Options"}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsx(Ee,{control:c.control,name:"alertsEnabled",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Enable Alerts System"}),r.jsx(kt,{children:"Enable bidirectional alerts between ShopTracker and ShopMonitor."})]})]})}),r.jsx(Ee,{control:c.control,name:"pullAccessLogs",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Pull Access Logs"}),r.jsx(kt,{children:"Pull access logs from ShopMonitor to track machine usage."})]})]})})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsx(Ee,{control:c.control,name:"pushUserData",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Push User Data"}),r.jsx(kt,{children:"Send user data to ShopMonitor."})]})]})}),r.jsx(Ee,{control:c.control,name:"pushLocationData",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Push Location Data"}),r.jsx(kt,{children:"Send location data to ShopMonitor."})]})]})}),r.jsx(Ee,{control:c.control,name:"pushMachineData",render:({field:x})=>r.jsxs(Se,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(ke,{children:r.jsx(Ut,{checked:x.value,onCheckedChange:x.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Ce,{children:"Push Machine Data"}),r.jsx(kt,{children:"Send machine configuration to ShopMonitor."})]})]})})]}),o&&r.jsxs(gh,{variant:o.success?"default":"destructive",className:"mt-4",children:[r.jsx(vh,{children:o.success?"Connection Successful":"Connection Failed"}),r.jsx(yh,{children:o.message})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsxs(L,{type:"button",variant:"outline",onClick:h,disabled:a||f.isPending,children:[a&&r.jsx(un,{className:"w-4 h-4 mr-2 animate-spin"}),!a&&r.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Test Connection"]}),r.jsxs(L,{type:"submit",disabled:f.isPending,children:[f.isPending&&r.jsx(un,{className:"w-4 h-4 mr-2 animate-spin"}),!f.isPending&&r.jsx(pu,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})]})]})})})]})}),g=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Synchronization Status"}),r.jsx(ut,{children:"Monitor the synchronization status between ShopTracker and ShopMonitor."})]}),r.jsx(de,{children:r.jsx(I9,{})})]})}),v=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"API Documentation"}),r.jsx(ut,{children:"Detailed information about the integration with ShopMonitor API."})]}),r.jsxs(de,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Overview"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"ShopTracker integrates with ShopMonitor to enable bidirectional communication for machine alerts, access control, and data synchronization. This integration allows machine operators to receive real-time notifications, administrators to monitor machine access, and ensures data consistency across both systems."})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Authentication"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["All API requests require authentication using an API key. The API key should be included in the",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm mx-1",children:"X-API-Key"}),"header for all requests to the ShopMonitor API."]}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// Example API request with authentication
fetch('https://api.shopmonitor.app/api/sync/status', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'your-api-key'
  }
})`})})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Available Endpoints"}),r.jsx("div",{className:"relative overflow-x-auto mt-4",children:r.jsxs(Tr,{defaultValue:"inbound",children:[r.jsxs(mr,{className:"mb-4",children:[r.jsx(dt,{value:"inbound",children:"Endpoints ShopMonitor Provides"}),r.jsx(dt,{value:"outbound",children:"Endpoints We Call"})]}),r.jsx(pt,{value:"inbound",children:r.jsxs(pn,{children:[r.jsx(ox,{children:"ShopMonitor Inbound API Endpoints"}),r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-[300px]",children:"Endpoint"}),r.jsx(fe,{children:"Method"}),r.jsx(fe,{children:"Description"})]})}),r.jsxs(gn,{children:[r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"/integration/api/auth"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Authenticate RFID card access for a specific machine"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"/integration/api/node_status"}),r.jsx(K,{children:"GET"}),r.jsx(K,{children:"Get status information about all nodes and their connected machines"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"/integration/api/alerts"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Send alerts from ShopTracker to ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"/integration/api/alerts/:id/acknowledge"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Acknowledge an alert in ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"/integration/api/alerts/:id/resolve"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Resolve an alert in ShopMonitor"})]})]})]})}),r.jsx(pt,{value:"outbound",children:r.jsxs(pn,{children:[r.jsx(ox,{children:"API Endpoints We Call on ShopMonitor"}),r.jsx(xn,{children:r.jsxs(qe,{children:[r.jsx(fe,{className:"w-[300px]",children:"Endpoint"}),r.jsx(fe,{children:"Method"}),r.jsx(fe,{children:"Description"})]})}),r.jsxs(gn,{children:[r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/sync/users"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Push user data to ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/sync/locations"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Push location (zone) data to ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/sync/machines"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Push machine configuration to ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/sync/accesslogs"}),r.jsx(K,{children:"GET"}),r.jsx(K,{children:"Get access logs from ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/sync/alerts"}),r.jsx(K,{children:"GET"}),r.jsx(K,{children:"Get pending alerts from ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/alerts"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Send an alert to ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/alerts/:id/acknowledge"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Acknowledge an alert in ShopMonitor"})]}),r.jsxs(qe,{children:[r.jsx(K,{className:"font-mono text-sm",children:"{api_base_url}/api/alerts/:id/resolve"}),r.jsx(K,{children:"POST"}),r.jsx(K,{children:"Resolve an alert in ShopMonitor"})]})]})]})})]})})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Data Structures"}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"User"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor User Structure
{
  "id": 1,
  "rfid_tag": "0123456789",
  "name": "John Doe",
  "email": "john@example.com",
  "active": true,
  "is_offline_access": false,
  "is_admin_override": false
}

// ShopTracker User Structure
{
  "id": 1,
  "username": "user123",
  "fullName": "John Doe",
  "role": "admin",
  "rfidNumber": "0123456789",
  "email": "john@example.com"
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Machine"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor Machine Structure
{
  "id": 1,
  "machine_id": "W1",
  "name": "Welding Machine 1",
  "description": "Primary welding station",
  "zone_id": 1,
  "zone_name": "Shop Floor",
  "status": "idle",
  "current_user_id": null,
  "node_id": 1,
  "node_port": 0
}

// ShopTracker Machine Structure
{
  "id": 1,
  "name": "Welding Machine 1",
  "machineId": "W1",
  "locationId": 1
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Location/Zone"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor Zone Structure
{
  "id": 1,
  "name": "Shop Floor",
  "description": "Main manufacturing area"
}

// ShopTracker Location Structure
{
  "id": 1,
  "name": "Shop Floor",
  "usedOrder": 1,
  "isPrimary": true,
  "skipAutoQueue": false,
  "countMultiplier": 1,
  "noCount": false
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Node"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor Node Structure
{
  "id": 1,
  "node_id": "esp32_001",
  "name": "Shop Floor Node 1",
  "description": "Primary ESP32 node for shop floor",
  "ip_address": "192.168.1.100",
  "node_type": "machine_monitor",
  "is_esp32": true,
  "last_seen": "2025-04-18T12:25:45Z",
  "firmware_version": "v1.2.0",
  "status": "online"
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Authentication Request"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// Request to /integration/api/auth
{
  "card_id": "0123456789",
  "machine_id": "W1"
}

// Response
{
  "success": true,
  "user": {
    "id": 1,
    "username": "0123456789",
    "fullName": "John Doe",
    "role": "operator"
  },
  "access_level": "operator",
  "machine_id": "W1",
  "timestamp": "2025-04-18T12:30:45Z"
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Node Status Response"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// Response from /integration/api/node_status
{
  "timestamp": "2025-04-18T12:30:45Z",
  "nodes": [
    {
      "id": 1, 
      "node_id": "esp32_001",
      "name": "Shop Floor Node 1",
      "ip_address": "192.168.1.100",
      "node_type": "machine_monitor",
      "status": "online",
      "last_seen": "2025-04-18T12:25:45Z",
      "machines": [
        {
          "id": 1,
          "machine_id": "W1",
          "name": "Welding Machine 1",
          "status": "active",
          "zone": "Shop Floor",
          "current_user": {
            "id": 1,
            "name": "John Doe",
            "rfid_tag": "0123456789"
          },
          "today_access_count": 5,
          "activity_count": 42,
          "last_activity": "2025-04-18T12:15:30Z"
        }
      ]
    }
  ]
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Alert Structure"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor Alert Structure
{
  "id": 1,
  "external_id": 42,
  "machine_id": 1,
  "machine_name": "Welding Machine 1",
  "node_id": 1,
  "node_name": "Shop Floor Node 1",
  "user_id": 1,
  "user_name": "John Doe",
  "message": "Machine requires maintenance",
  "alert_type": "warning",
  "status": "pending",
  "origin": "machine",
  "created_at": "2025-04-18T12:30:45Z",
  "acknowledged_at": null,
  "resolved_at": null
}

// ShopTracker Alert Structure
{
  "id": 1,
  "machineId": "W1",
  "senderId": 1,
  "message": "Machine requires maintenance",
  "alertType": "warning",
  "status": "pending",
  "origin": "machine",
  "createdAt": "2025-04-18T12:30:45Z"
}`})}),r.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Access Log"}),r.jsx("div",{className:"bg-muted p-4 rounded-md",children:r.jsx("code",{className:"block whitespace-pre text-sm",children:`// ShopMonitor Machine Log
{
  "id": 1,
  "machine_id": 1,
  "user_id": 1,
  "login_time": "2025-04-18T09:30:45Z",
  "logout_time": "2025-04-18T10:45:22Z",
  "total_time": 4477,
  "status": "completed"
}

// ShopTracker Access Log
{
  "id": 1,
  "userId": 1,
  "machineId": "W1",
  "cardId": "0123456789",
  "accessGranted": true,
  "reason": "Authorized access",
  "timestamp": "2025-04-18T09:30:45Z"
}`})})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Integration Workflow"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"ShopTracker and ShopMonitor communicate through standardized API endpoints. The synchronization process follows these steps:"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Data Synchronization (ShopTracker to ShopMonitor)"}),r.jsxs("div",{className:"space-y-3 ml-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Step 1:"})," Push user data by calling ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"{api_base_url}/api/sync/users"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"This endpoint sends user information including RFID tags and access levels"})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Step 2:"})," Push location/zone data by calling ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"{api_base_url}/api/sync/locations"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"This endpoint sends information about manufacturing zones/locations"})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Step 3:"})," Push machine configuration by calling ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"{api_base_url}/api/sync/machines"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"This endpoint sends information about machine IDs, names, and zone assignments"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Data Retrieval (ShopMonitor to ShopTracker)"}),r.jsxs("div",{className:"space-y-3 ml-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Step 4:"})," Pull access logs by calling ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"{api_base_url}/api/sync/accesslogs?since={timestamp}"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"This endpoint retrieves machine usage information including who accessed which machines and when"})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Step 5:"})," Pull pending alerts by calling ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"{api_base_url}/api/sync/alerts?status=pending&since={timestamp}"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"This endpoint retrieves any active alerts generated by ShopMonitor"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Real-time Communication"}),r.jsxs("div",{className:"space-y-3 ml-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Authentication:"})," ShopTracker calls ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"/integration/api/auth"})," on ShopMonitor",r.jsx("div",{className:"text-sm text-muted-foreground",children:"This verifies RFID card access for specific machines"})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Node Status:"})," ShopTracker calls ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:"/integration/api/node_status"})," on ShopMonitor",r.jsx("div",{className:"text-sm text-muted-foreground",children:"This retrieves real-time status information about all nodes and their connected machines"})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(na,{className:"h-5 w-5 text-primary mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Alerts:"})," Bidirectional alert communication",r.jsx("div",{className:"text-sm text-muted-foreground",children:"Both systems can send, acknowledge, and resolve alerts through their respective API endpoints"})]})]})]})]})]})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Error Handling"}),r.jsx("p",{className:"text-muted-foreground mb-2",children:"The API uses standard HTTP status codes to indicate the success or failure of requests."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsx(Ae,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300 mb-2",children:"200 OK"}),r.jsx("p",{className:"text-sm",children:"The request was successful"})]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsx(Ae,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300 mb-2",children:"400 Bad Request"}),r.jsx("p",{className:"text-sm",children:"The request was invalid or missing required parameters"})]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsx(Ae,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300 mb-2",children:"401 Unauthorized"}),r.jsx("p",{className:"text-sm",children:"Missing or invalid API key"})]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsx(Ae,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300 mb-2",children:"500 Server Error"}),r.jsx("p",{className:"text-sm",children:"An error occurred on the server"})]})]})]})]})]})});return r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsx("h1",{className:"text-3xl font-bold",children:"API Configuration"})}),r.jsxs(Tr,{defaultValue:"configuration",children:[r.jsxs(mr,{className:"mb-6",children:[r.jsxs(dt,{value:"configuration",children:[r.jsx(qf,{className:"h-4 w-4 mr-2"}),"Configuration"]}),r.jsxs(dt,{value:"sync-status",children:[r.jsx(BD,{className:"h-4 w-4 mr-2"}),"Sync Status"]}),r.jsxs(dt,{value:"api-docs",children:[r.jsx(XD,{className:"h-4 w-4 mr-2"}),"API Documentation"]})]}),r.jsx(pt,{value:"configuration",children:j()}),r.jsx(pt,{value:"sync-status",children:g()}),r.jsx(pt,{value:"api-docs",children:v()})]})]})}function F9({machineId:e,showHeader:t=!0,showCreateButton:n=!0,maxAlerts:s}){const{toast:a}=Qt(),[i,o]=m.useState(!1),[l,c]=m.useState({machineId:"",message:"",alertType:"notification"}),{data:d=[]}=Pe({queryKey:["/api/machines"],queryFn:async()=>await(await ve("GET","/api/machines")).json()}),u=e?`/api/alerts/machine/${e}`:"/api/alerts",{data:f=[],isLoading:h}=Pe({queryKey:[u],queryFn:async()=>{const E=await ve("GET",u);if(!E.ok)throw new Error("Failed to fetch alerts");return await E.json()},refetchInterval:1e4}),y=s?f.slice(0,s):f,j=y.filter(E=>E.status==="pending"),g=y.filter(E=>E.status==="acknowledged"),v=y.filter(E=>E.status==="resolved"),x=De({mutationFn:async E=>{const M=await ve("POST","/api/alerts",E);if(!M.ok)throw new Error("Failed to create alert");return await M.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:[u]}),rt.invalidateQueries({queryKey:["/api/alerts/pending/count"]}),a({title:"Alert sent",description:"Your alert has been sent to the machine."}),o(!1),c({machineId:"",message:"",alertType:"notification"})},onError:E=>{a({title:"Failed to send alert",description:E.message,variant:"destructive"})}}),p=De({mutationFn:async E=>{const M=await ve("POST",`/api/alerts/${E}/acknowledge`);if(!M.ok)throw new Error("Failed to acknowledge alert");return await M.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:[u]}),rt.invalidateQueries({queryKey:["/api/alerts/pending/count"]}),a({title:"Alert acknowledged",description:"The alert has been acknowledged."})},onError:E=>{a({title:"Failed to acknowledge alert",description:E.message,variant:"destructive"})}}),w=De({mutationFn:async E=>{const M=await ve("POST",`/api/alerts/${E}/resolve`);if(!M.ok)throw new Error("Failed to resolve alert");return await M.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:[u]}),rt.invalidateQueries({queryKey:["/api/alerts/pending/count"]}),a({title:"Alert resolved",description:"The alert has been marked as resolved."})},onError:E=>{a({title:"Failed to resolve alert",description:E.message,variant:"destructive"})}}),N=E=>{switch(E){case"help_request":return r.jsx(vI,{className:"h-4 w-4 text-blue-500"});case"notification":return r.jsx(ms,{className:"h-4 w-4 text-green-500"});case"warning":return r.jsx(La,{className:"h-4 w-4 text-yellow-500"});case"error":return r.jsx(Fa,{className:"h-4 w-4 text-red-500"});default:return r.jsx(TS,{className:"h-4 w-4"})}},b=E=>{switch(E){case"pending":return r.jsx(Ae,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});case"acknowledged":return r.jsx(Ae,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"Acknowledged"});case"resolved":return r.jsx(Ae,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Resolved"});default:return r.jsx(Ae,{variant:"outline",children:"Unknown"})}},_=E=>E?new Date(E).toLocaleString():"N/A",k=()=>{if(!l.machineId){a({title:"Machine required",description:"Please select a machine to send the alert to.",variant:"destructive"});return}if(!l.message.trim()){a({title:"Message required",description:"Please enter a message for the alert.",variant:"destructive"});return}x.mutate(l)},T=E=>r.jsxs(le,{className:"mb-4",children:[r.jsxs(Le,{className:"pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center",children:[N(E.alertType),r.jsx(ze,{className:"ml-2 text-base",children:E.origin==="machine"?"Machine Alert":"System Alert"})]}),b(E.status)]}),r.jsxs(ut,{className:"flex items-center mt-1",children:[r.jsxs("span",{className:"font-semibold text-sm mr-2",children:["Machine: ",E.machineId]}),r.jsx(Ks,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"text-xs",children:_(E.createdAt)})]})]}),r.jsxs(de,{className:"pb-2 pt-0",children:[r.jsx("p",{className:"text-sm",children:E.message}),E.sender&&r.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[r.jsx(GD,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:["Sent by: ",E.sender.fullName]})]}),E.resolvedById&&E.resolvedAt&&r.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[r.jsx(ar,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:["Resolved at: ",_(E.resolvedAt)]})]})]}),E.status!=="resolved"&&r.jsx(js,{className:"pt-0",children:r.jsxs("div",{className:"flex space-x-2 mt-2 w-full justify-end",children:[E.status==="pending"&&r.jsx(L,{variant:"outline",size:"sm",onClick:()=>p.mutate(E.id),disabled:p.isPending,children:"Acknowledge"}),r.jsx(L,{variant:"default",size:"sm",onClick:()=>w.mutate(E.id),disabled:w.isPending,children:"Resolve"})]})})]},E.id);return h?r.jsxs("div",{className:"p-4 text-center",children:[r.jsx("div",{className:"animate-spin h-6 w-6 border-4 border-primary border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"mt-2",children:"Loading alerts..."})]}):r.jsxs("div",{children:[t&&r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Machine Alerts"}),n&&r.jsxs(Ot,{open:i,onOpenChange:o,children:[r.jsx(Us,{asChild:!0,children:r.jsxs(L,{children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),"Send Alert"]})}),r.jsxs(Pt,{children:[r.jsxs(Mt,{children:[r.jsx(Tt,{children:"Send Alert to Machine"}),r.jsx(Yt,{children:"Create a new alert to send to a machine or operator."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(gt,{htmlFor:"machine",children:"Machine"}),r.jsxs(jt,{value:l.machineId,onValueChange:E=>c({...l,machineId:E}),children:[r.jsx(vt,{id:"machine",children:r.jsx(wt,{placeholder:"Select a machine"})}),r.jsx(yt,{children:d.map(E=>r.jsxs(Ve,{value:E.machineId,children:[E.name," (",E.machineId,")"]},E.machineId))})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(gt,{htmlFor:"alertType",children:"Alert Type"}),r.jsxs(jt,{value:l.alertType,onValueChange:E=>c({...l,alertType:E}),children:[r.jsx(vt,{id:"alertType",children:r.jsx(wt,{})}),r.jsxs(yt,{children:[r.jsx(Ve,{value:"notification",children:"Notification"}),r.jsx(Ve,{value:"warning",children:"Warning"}),r.jsx(Ve,{value:"error",children:"Error"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(gt,{htmlFor:"message",children:"Message"}),r.jsx(Fc,{id:"message",placeholder:"Enter your message here",value:l.message,onChange:E=>c({...l,message:E.target.value}),rows:4})]})]}),r.jsxs(xs,{children:[r.jsx(L,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),r.jsx(L,{onClick:k,disabled:x.isPending,children:x.isPending?"Sending...":"Send Alert"})]})]})]})]}),e?r.jsx("div",{className:"space-y-4",children:y.length===0?r.jsx(le,{children:r.jsxs(de,{className:"flex flex-col items-center justify-center p-6",children:[r.jsx(ms,{className:"h-12 w-12 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-center text-muted-foreground",children:"No alerts for this machine"})]})}):y.map(T)}):r.jsxs(Tr,{defaultValue:"pending",children:[r.jsxs(mr,{className:"grid w-full grid-cols-3",children:[r.jsxs(dt,{value:"pending",children:["Pending",j.length>0&&r.jsx("span",{className:"ml-2 rounded-full bg-red-500 px-2 py-0.5 text-xs text-white",children:j.length})]}),r.jsxs(dt,{value:"acknowledged",children:["Acknowledged",g.length>0&&r.jsx("span",{className:"ml-2 rounded-full bg-blue-500 px-2 py-0.5 text-xs text-white",children:g.length})]}),r.jsx(dt,{value:"resolved",children:"Resolved"})]}),r.jsx(pt,{value:"pending",className:"mt-4",children:j.length===0?r.jsx(le,{children:r.jsxs(de,{className:"flex flex-col items-center justify-center p-6",children:[r.jsx(ar,{className:"h-12 w-12 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-center text-muted-foreground",children:"No pending alerts"})]})}):j.map(T)}),r.jsx(pt,{value:"acknowledged",className:"mt-4",children:g.length===0?r.jsx(le,{children:r.jsxs(de,{className:"flex flex-col items-center justify-center p-6",children:[r.jsx(ar,{className:"h-12 w-12 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-center text-muted-foreground",children:"No acknowledged alerts"})]})}):g.map(T)}),r.jsx(pt,{value:"resolved",className:"mt-4",children:v.length===0?r.jsx(le,{children:r.jsxs(de,{className:"flex flex-col items-center justify-center p-6",children:[r.jsx(ar,{className:"h-12 w-12 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-center text-muted-foreground",children:"No resolved alerts"})]})}):v.map(T)})]})]})}function L9(){const{user:e}=_n(),t=e!=null&&e.notificationsLastSeenAt?new Date(e.notificationsLastSeenAt):null,{data:n}=Pe({queryKey:["/api/alerts/all"],enabled:!!e}),{data:s}=Pe({queryKey:["/api/help-requests/all"],enabled:!!e}),[a,i]=m.useState("all"),o=m.useMemo(()=>{const l=(n||[]).map(u=>({type:"alert",id:`alert-${u.id}`,createdAt:new Date(u.createdAt),title:`${u.alertType==="warning"?"Warning":u.alertType==="error"?"Error":"Notification"} on ${u.machineId}`,subtitle:u.message,status:u.status})),c=(s||[]).map(u=>({type:"help",id:`help-${u.id}`,createdAt:new Date(u.createdAt),title:`Help Needed: ${u.order.orderNumber}`,subtitle:`${u.location.name} • ${u.user.fullName}`,status:u.isResolved?"resolved":"pending"}));let d=[...l,...c];return a==="alerts"&&(d=l),a==="help"&&(d=c),d.sort((u,f)=>f.createdAt.getTime()-u.createdAt.getTime())},[n,s,a]);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx(Ae,{variant:a==="all"?"default":"outline",onClick:()=>i("all"),className:"cursor-pointer",children:"All"}),r.jsx(Ae,{variant:a==="alerts"?"default":"outline",onClick:()=>i("alerts"),className:"cursor-pointer",children:"Alerts"}),r.jsx(Ae,{variant:a==="help"?"default":"outline",onClick:()=>i("help"),className:"cursor-pointer",children:"Help Requests"})]}),r.jsx(le,{children:r.jsx(de,{className:"p-0",children:o.length===0?r.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No notifications yet."}):r.jsx("ul",{children:o.map((l,c)=>{const d=!t||l.createdAt>t;return r.jsxs("li",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5",children:l.type==="help"?r.jsx(yo,{className:"h-4 w-4 text-amber-500"}):l.status==="error"?r.jsx(La,{className:"h-4 w-4 text-red-500"}):l.status==="warning"?r.jsx(La,{className:"h-4 w-4 text-yellow-500"}):r.jsx(ms,{className:"h-4 w-4 text-blue-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium truncate",children:l.title}),d&&r.jsx("span",{className:"text-xs text-blue-600",children:"new"})]}),r.jsx("div",{className:"text-sm text-muted-foreground truncate",children:l.subtitle}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:l.createdAt.toLocaleString()})]}),r.jsx("div",{children:r.jsx(Ae,{variant:l.status==="resolved"||l.status==="acknowledged"?"outline":"default",children:l.status})})]}),c!==o.length-1&&r.jsx(is,{className:"mt-4"})]},l.id)})})})})]})}function $9(){const{user:e}=_n(),t=(e==null?void 0:e.role)==="admin";return r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Alert Center"}),t&&r.jsx(kr,{href:"/api-config",children:r.jsxs(L,{variant:"outline",children:[r.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Manage API Configuration"]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsxs(ze,{className:"flex items-center",children:[r.jsx(ms,{className:"h-5 w-5 mr-2 text-primary"}),"Machine Alerts"]}),r.jsx(ut,{children:"Monitor and respond to alerts from MachineMonitor and ShopTracker"})]}),r.jsx(de,{children:r.jsx(F9,{})})]}),r.jsxs(le,{children:[r.jsxs(Le,{children:[r.jsx(ze,{children:"Notifications"}),r.jsx(ut,{children:"Review recent alerts and help requests"})]}),r.jsx(de,{children:r.jsx(L9,{})})]})]})]})}function Dj({mobile:e=!1,onNavigate:t}){const[n]=Zr(),{user:s}=_n(),a=(s==null?void 0:s.role)==="admin",[i,o]=m.useState(n.startsWith("/location")),[l,c]=m.useState(n.startsWith("/machine")),[d,u]=m.useState({}),[f,h]=m.useState(!e),y=ti();m.useEffect(()=>{if(e&&f){const E=setTimeout(()=>{h(!1)},150);return()=>clearTimeout(E)}},[n,e]);const{data:j=[]}=Pe({queryKey:["/api/locations"],queryFn:async()=>{const E=await fetch("/api/locations");if(!E.ok)throw new Error("Failed to fetch locations");return E.json()}}),{data:g=[]}=Pe({queryKey:["/api/machines"],queryFn:async()=>{const E=await fetch("/api/machines");if(!E.ok)throw new Error("Failed to fetch machines");return E.json()},enabled:a}),v=(()=>{const E=new Map;return g.forEach(M=>{const B=E.get(M.locationId)||[];B.push(M),E.set(M.locationId,B)}),E})(),x=E=>{u(M=>({...M,[E]:!M[E]}))},{data:p}=Pe({queryKey:["/api/alerts/pending/count"],queryFn:async()=>{const E=await fetch("/api/alerts/pending/count");if(!E.ok)throw new Error("Failed to fetch alerts count");return E.json()},refetchInterval:3e4}),w=E=>E==="/"&&n==="/"?!0:E!=="/"?n.startsWith(E):!1,N=()=>{t&&t(),e&&h(!1)},b=({href:E,icon:M,children:B,badge:Q})=>r.jsxs(kr,{href:E,className:J("flex items-center px-4 py-3 text-neutral-300 hover:bg-neutral-800 transition-colors",w(E)&&"bg-primary text-white"),onClick:N,children:[r.jsx("span",{className:"mr-3",children:M}),r.jsx("span",{className:"flex-1",children:B}),Q!==void 0&&Q>0&&r.jsx("span",{className:"flex items-center justify-center ml-2 min-w-[20px] h-5 px-1 text-xs font-bold rounded-full bg-red-500 text-white",children:Q>99?"99+":Q})]}),_=({href:E,children:M})=>r.jsxs(kr,{href:E,className:J("flex items-center pl-10 pr-4 py-2 text-neutral-300 hover:bg-neutral-800 transition-colors",w(E)&&"bg-neutral-700"),onClick:N,children:[r.jsx("span",{className:"mr-2 text-xs",children:"■"}),M]}),k=()=>r.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-800",children:[r.jsx("h1",{className:"text-xl font-bold",children:"ShopTracker"}),r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>h(!f),className:"text-neutral-300 hover:text-white",children:f?r.jsx(dd,{size:24}):r.jsx(M0,{size:24})})]});if(e&&!f)return r.jsxs("div",{className:"h-14 bg-neutral-900 flex items-center px-4 justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(L,{variant:"ghost",size:"icon",onClick:()=>h(!0),className:"text-neutral-300 hover:text-white mr-3",children:r.jsx(M0,{size:24})}),r.jsx("h1",{className:"text-xl font-bold text-white",children:"ShopTracker"})]}),r.jsxs("div",{className:"text-sm text-neutral-300 font-medium",children:[n==="/"&&"Dashboard",n.startsWith("/orders")&&"Orders",n.startsWith("/locations")&&"Locations",n.startsWith("/location/")&&"Location Details",n.startsWith("/machines")&&"Machines",n.startsWith("/machine/")&&"Machine Details",n.startsWith("/shipping")&&"Shipping",n.startsWith("/alerts")&&"Alert Center",n.startsWith("/overview")&&"Shop Overview",n.startsWith("/users")&&"User Management",n.startsWith("/rfid-cards")&&"RFID Cards",n.startsWith("/access-levels")&&"Access Levels",n.startsWith("/access-logs")&&"Access Logs",n.startsWith("/audit")&&"Audit Trail",n.startsWith("/settings")&&"Settings",n.startsWith("/api-config")&&"API Config"]}),(p==null?void 0:p.count)>0&&r.jsx(kr,{href:"/alerts",children:r.jsxs(L,{size:"sm",variant:"ghost",className:"relative",children:[r.jsx(ms,{size:20}),r.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-4 h-4 text-xs font-bold rounded-full bg-red-500 text-white",children:p.count>9?"9+":p.count})]})})]});const T=r.jsxs(r.Fragment,{children:[e&&r.jsx(k,{}),!e&&r.jsxs("div",{className:"p-4 border-b border-neutral-800",children:[r.jsx("h1",{className:"text-xl font-bold",children:"ShopTracker"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Workshop Management"}),r.jsx("p",{className:"text-xs text-neutral-500",children:"v1.0.1 | ShopSuite v1.0.1"})]}),r.jsxs("nav",{className:J("overflow-y-auto",e?"max-h-[calc(100vh-60px)]":"mt-4 max-h-[calc(100vh-100px)]"),children:[r.jsx(b,{href:"/",icon:r.jsx(Bp,{size:20}),children:"Dashboard"}),r.jsx(b,{href:"/orders",icon:r.jsx(rI,{size:20}),children:"Orders"}),r.jsxs("div",{children:[r.jsxs("button",{className:J("flex items-center px-4 py-3 text-neutral-300 hover:bg-neutral-800 transition-colors w-full",(w("/locations")||i)&&"bg-neutral-800"),onClick:()=>o(!i),children:[r.jsx("span",{className:"mr-3",children:r.jsx(Og,{size:20})}),"Locations",r.jsx("span",{className:"ml-auto",children:i?r.jsx(ji,{size:16}):r.jsx(ls,{size:16})})]}),i&&r.jsxs("div",{className:"bg-neutral-900",children:[r.jsx(b,{href:"/locations",icon:r.jsx(ls,{size:16}),children:"All Locations"}),j.slice(0,y?5:10).map(E=>r.jsx(_,{href:`/location/${E.id}`,children:E.name},E.id)),j.length>(y?5:10)&&r.jsxs(_,{href:"/locations",children:["View all (",j.length,")"]})]})]}),a&&r.jsxs("div",{children:[r.jsxs("button",{className:J("flex items-center px-4 py-3 text-neutral-300 hover:bg-neutral-800 transition-colors w-full",(w("/machines")||l)&&"bg-neutral-800"),onClick:()=>c(!l),children:[r.jsx("span",{className:"mr-3",children:r.jsx(PS,{size:20})}),"Machines",r.jsx("span",{className:"ml-auto",children:l?r.jsx(ji,{size:16}):r.jsx(ls,{size:16})})]}),l&&r.jsxs("div",{className:"bg-neutral-900",children:[r.jsx(b,{href:"/machines",icon:r.jsx(ls,{size:16}),children:"All Machines"}),j.filter(E=>v.has(E.id)).map(E=>{const M=v.get(E.id)||[];M.sort((Q,z)=>Q.name.localeCompare(z.name));const B=d[E.id]??!1;return r.jsxs("div",{children:[r.jsxs("button",{className:J("flex items-center pl-8 pr-4 py-2 w-full text-neutral-300 hover:bg-neutral-800 transition-colors",B&&"bg-neutral-800"),onClick:()=>x(E.id),children:[r.jsx("span",{className:"mr-2",children:B?r.jsx(ji,{size:14}):r.jsx(ls,{size:14})}),r.jsx("span",{className:"truncate text-sm",children:E.name}),r.jsx("span",{className:"ml-auto text-xs text-neutral-500",children:M.length})]}),B&&r.jsx("div",{children:M.map(Q=>r.jsxs(kr,{href:`/machine/${Q.id}`,className:J("flex items-center pl-14 pr-4 py-2 text-neutral-300 hover:bg-neutral-800 transition-colors text-sm",w(`/machine/${Q.id}`)&&"bg-neutral-700"),onClick:N,children:[r.jsx("span",{className:"mr-2 text-xs",children:"•"}),r.jsx("span",{className:"truncate",children:Q.name}),r.jsx("span",{className:"ml-auto text-[10px] opacity-60",children:Q.machineId})]},Q.id))})]},E.id)}),g.length>0&&j.filter(E=>v.has(E.id)).length===0&&r.jsx("div",{className:"pl-10 pr-4 py-2 text-xs text-neutral-500",children:"(No location grouping)"})]})]}),r.jsx(b,{href:"/shipping",icon:r.jsx(Vs,{size:20}),children:"Shipping"}),r.jsx(b,{href:"/alerts",icon:r.jsx(ms,{size:20}),badge:p==null?void 0:p.count,children:"Alert Center"}),r.jsx(b,{href:"/overview",icon:r.jsx(yc,{size:20}),children:"Shop Overview"}),a&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-4 px-4 py-2 text-xs text-neutral-500",children:"ADMIN CONTROLS"}),r.jsx(b,{href:"/users",icon:r.jsx(gI,{size:20}),children:"User Management"}),r.jsxs("div",{className:"ml-6 pl-4 border-l border-neutral-800",children:[r.jsx(b,{href:"/rfid-cards",icon:r.jsx(kS,{size:20}),children:"RFID Cards"}),r.jsx(b,{href:"/access-levels",icon:r.jsx(sI,{size:20}),children:"Access Levels"}),r.jsx(b,{href:"/access-logs",icon:r.jsx(jo,{size:20}),children:"Access Logs"})]}),r.jsx(b,{href:"/audit",icon:r.jsx(qp,{size:20}),children:"Audit Trail"}),r.jsx(b,{href:"/settings",icon:r.jsx(qf,{size:20}),children:"Settings"}),r.jsx("div",{className:"mt-2 mb-8",children:r.jsx(b,{href:"/api-config",icon:r.jsx(Rg,{size:20}),children:"API Configuration"})})]})]})]});return e?r.jsxs("div",{className:J("fixed inset-y-0 left-0 z-50 w-64 bg-neutral-900 transition-transform transform-gpu duration-300",f?"translate-x-0":"-translate-x-full"),children:[T,f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",style:{marginLeft:"16rem"},onClick:()=>h(!1)})]}):r.jsx("div",{className:"h-full",children:T})}var Gv="Avatar",[z9,dU]=tr(Gv),[V9,ZP]=z9(Gv),XP=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=m.useState("idle");return r.jsx(V9,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(_e.span,{...s,ref:t})})});XP.displayName=Gv;var JP="AvatarImage",eM=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=ZP(JP,n),l=U9(s,i.referrerPolicy),c=mn(d=>{a(d),o.onImageLoadingStatusChange(d)});return sn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(_e.img,{...i,ref:t,src:s}):null});eM.displayName=JP;var tM="AvatarFallback",nM=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=ZP(tM,n),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(_e.span,{...a,ref:t}):null});nM.displayName=tM;function U9(e,t){const[n,s]=m.useState("idle");return sn(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),n}var rM=XP,sM=eM,aM=nM;const iM=m.forwardRef(({className:e,...t},n)=>r.jsx(rM,{ref:n,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));iM.displayName=rM.displayName;const Q9=m.forwardRef(({className:e,...t},n)=>r.jsx(sM,{ref:n,className:J("aspect-square h-full w-full",e),...t}));Q9.displayName=sM.displayName;const oM=m.forwardRef(({className:e,...t},n)=>r.jsx(aM,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));oM.displayName=aM.displayName;function Ij({variant:e="icon",className:t="",showText:n=!0}){const{data:s}=Pe({queryKey:["/api/sync/status"],queryFn:async()=>{const i=await ve("GET","/api/sync/status");if(!i.ok)throw new Error("Failed to fetch sync status");return await i.json()},refetchInterval:i=>i!=null&&i.isSyncing?2e3:3e4,refetchIntervalInBackground:!0});if(!((s==null?void 0:s.isSyncing)||!1))return null;switch(e){case"badge":return r.jsxs(Ae,{variant:"outline",className:`bg-blue-100 text-blue-800 border-blue-200 animate-pulse ${t}`,children:[r.jsx(Gt,{className:"h-3 w-3 mr-1 animate-spin"}),n&&"Syncing..."]});case"icon":return r.jsxs("div",{className:`flex items-center justify-center ${t}`,children:[r.jsx(Gt,{className:"h-4 w-4 text-blue-500 animate-spin"}),n&&r.jsx("span",{className:"ml-1 text-xs text-blue-500",children:"Syncing"})]});case"text":return r.jsxs("span",{className:`text-blue-500 text-sm flex items-center ${t}`,children:[r.jsx(Gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Syncing with external systems..."]});case"full":return r.jsxs("div",{className:`flex items-center bg-blue-50 border border-blue-200 rounded-md px-3 py-2 ${t}`,children:[r.jsx(Gt,{className:"h-4 w-4 text-blue-500 mr-2 animate-spin"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Synchronization in Progress"}),r.jsx("p",{className:"text-xs text-blue-600",children:"Data is being synchronized with external systems"})]})]});default:return null}}function q9({children:e}){const[t,n]=Zr(),{user:s,logoutMutation:a}=_n(),i=ti(),[o,l]=m.useState(null);m.useEffect(()=>{(t!==o&&o!==null||o===null)&&l(t)},[t,o]);const c=()=>{const N=t.split("/").filter(Boolean),b=N[0]||"dashboard";return{"":"Dashboard",dashboard:"Dashboard",orders:N.length>1?"Order Details":"Orders",locations:"Locations",location:"Location",shipping:"Shipping",overview:"Shop Overview",users:"User Management",machines:"Machine Management",machine:"Machine Details",audit:"Audit Trail",settings:"Settings",alerts:"Alert Center","rfid-cards":"RFID Cards","access-levels":"Access Levels","access-logs":"Access Logs","api-config":"API Configuration"}[b]||"Dashboard"},d=()=>t.split("/").filter(Boolean).length>1||o&&o!==t,u=()=>{const N=t.split("/").filter(Boolean);N.length>1?n(`/${N[0]}`):n(o&&o!==t?o:"/")},{data:f}=Pe({queryKey:["/api/help-requests/active"],enabled:!!s&&s.role==="admin"}),{data:h}=Pe({queryKey:["/api/alerts"],enabled:!!s&&s.role==="admin"}),y=s!=null&&s.notificationsLastSeenAt?new Date(s.notificationsLastSeenAt):null,j=(f||[]).filter(N=>!y||new Date(N.createdAt)>y),g=(h||[]).filter(N=>N.status==="pending"&&(!y||new Date(N.createdAt)>y)),v=j.length+g.length,x=De({mutationFn:async()=>{await fetch("/api/user/notifications/seen",{method:"POST",credentials:"include"})},onSuccess:()=>{s&&rt.setQueryData(["/api/user"],{...s,notificationsLastSeenAt:new Date().toISOString()})}}),p=()=>{a.mutate(),n("/auth")},w=()=>s?s.fullName?s.fullName.charAt(0).toUpperCase():s.username.charAt(0).toUpperCase():"U";return r.jsxs("div",{className:"flex h-screen overflow-hidden",children:[r.jsx("div",{className:"bg-neutral-900 text-white w-64 flex-shrink-0 hidden md:block",children:r.jsx(Dj,{})}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("header",{className:"bg-white border-b h-16 flex items-center justify-between px-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"md:hidden",children:r.jsx(Dj,{mobile:!0})}),i&&d()&&r.jsx(L,{variant:"ghost",size:"icon",onClick:u,className:"mr-2",children:r.jsx(Hn,{className:"h-5 w-5"})}),r.jsx("h2",{className:J("text-lg font-medium",i&&"truncate max-w-[150px]"),children:c()}),r.jsx("div",{className:"ml-4",children:r.jsx(Ij,{variant:"badge"})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[s&&s.role==="admin"&&r.jsx("div",{className:"relative",children:r.jsxs(Kc,{onOpenChange:N=>{N&&x.mutate()},children:[r.jsx(Gc,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"icon",className:"relative",children:[r.jsx(ms,{className:"h-5 w-5 text-gray-500"}),v>0&&r.jsx("span",{className:"absolute top-0 right-0 min-w-4 h-4 px-1 bg-red-500 rounded-full text-white text-xs flex items-center justify-center",children:v})]})}),r.jsxs(sl,{align:"end",children:[r.jsx(bx,{children:"Notifications"}),r.jsx(Sx,{}),f&&f.length>0||h&&h.length>0?r.jsxs("div",{className:"max-w-xs",children:[(f||[]).map(N=>r.jsxs(tn,{className:"flex flex-col items-start",children:[r.jsxs("div",{className:"font-semibold",children:["Help Needed: ",N.order.orderNumber]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[N.location.name," • ",new Date(N.createdAt).toLocaleString()]})]},`hr-${N.id}`)),(h||[]).map(N=>r.jsxs(tn,{className:"flex flex-col items-start",children:[r.jsxs("div",{className:"font-semibold",children:[N.alertType==="warning"?"Warning":N.alertType==="error"?"Error":"Notification"," on ",N.machineId]}),r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[260px]",children:N.message})]},`al-${N.id}`))]}):r.jsx(tn,{disabled:!0,children:"No notifications"})]})]})}),r.jsxs(Kc,{children:[r.jsx(Gc,{asChild:!0,children:r.jsxs(L,{variant:"ghost",className:"flex items-center",children:[r.jsx(iM,{className:"h-8 w-8 mr-2",children:r.jsx(oM,{children:w()})}),r.jsx("span",{className:"hidden sm:inline",children:(s==null?void 0:s.fullName)||(s==null?void 0:s.username)}),r.jsx(ji,{className:"h-4 w-4 ml-1"})]})}),r.jsxs(sl,{align:"end",children:[r.jsx(bx,{children:"My Account"}),r.jsx(Sx,{}),r.jsxs(tn,{className:"flex items-center",onSelect:()=>n("/settings"),children:[r.jsx(Pi,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(tn,{className:"flex items-center",onSelect:p,children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-4 w-4",children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4",children:[r.jsx("div",{className:"mb-4",children:r.jsx(Ij,{variant:"full"})}),r.jsx("div",{className:J(i?"px-0":"px-2","max-w-full"),children:e})]})]})]})}function Zt({path:e,component:t}){const{user:n,isLoading:s}=_n();return ge.useEffect(()=>{console.log("ProtectedRoute for path:",e),console.log("ProtectedRoute - user:",n),console.log("ProtectedRoute - isLoading:",s)},[e,n,s]),s?(console.log("ProtectedRoute - Showing loading state for path:",e),r.jsx(ts,{path:e,children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(un,{className:"h-8 w-8 animate-spin text-border"})})})):n?(console.log("ProtectedRoute - Rendering component for path:",e),r.jsx(ts,{path:e,children:r.jsx(q9,{children:r.jsx(t,{})})})):(console.log("ProtectedRoute - Redirecting to /auth from path:",e),r.jsx(ts,{path:e,children:r.jsx(WA,{to:"/auth"})}))}const B9=()=>r.jsxs(BA,{children:[r.jsx(ts,{path:"/auth",component:I3}),r.jsx(Zt,{path:"/",component:X8}),r.jsx(Zt,{path:"/orders",component:kV}),r.jsx(ts,{path:"/orders/:id",children:e=>r.jsx(Zt,{path:`/orders/${e.id}`,component:()=>r.jsx(EV,{orderId:parseInt(e.id)})})}),r.jsx(Zt,{path:"/locations",component:WV}),r.jsx(ts,{path:"/location/:id",children:e=>r.jsx(Zt,{path:`/location/${e.id}`,component:()=>r.jsx(PV,{locationId:parseInt(e.id)})})}),r.jsx(ts,{path:"/display/location/:id",children:e=>r.jsx(Zt,{path:`/display/location/${e.id}`,component:()=>r.jsx(HV,{locationId:parseInt(e.id)})})}),r.jsx(ts,{path:"/display/machine/:id",children:e=>r.jsx(Zt,{path:`/display/machine/${e.id}`,component:()=>r.jsx(Mj,{machineId:e.id})})}),r.jsx(Zt,{path:"/shipping",component:KV}),r.jsx(Zt,{path:"/overview",component:GV}),r.jsx(Zt,{path:"/users",component:YV}),r.jsx(Zt,{path:"/machines",component:JV}),r.jsx(ts,{path:"/machine/:id",children:e=>r.jsx(Zt,{path:`/machine/${e.id}`,component:()=>r.jsx(Mj,{machineId:e.id})})}),r.jsx(Zt,{path:"/audit",component:r9}),r.jsx(Zt,{path:"/settings",component:o9}),r.jsx(Zt,{path:"/rfid-cards",component:c9}),r.jsx(Zt,{path:"/access-levels",component:d9}),r.jsx(Zt,{path:"/access-logs",component:u9}),r.jsx(Zt,{path:"/api-config",component:O9}),r.jsx(Zt,{path:"/alerts",component:$9}),r.jsx(ts,{component:nR})]});function W9(){return r.jsxs(rR,{children:[r.jsx(B9,{}),r.jsx(tR,{})]})}T1(document.getElementById("root")).render(r.jsx(aA,{client:rt,children:r.jsx(W9,{})}));
